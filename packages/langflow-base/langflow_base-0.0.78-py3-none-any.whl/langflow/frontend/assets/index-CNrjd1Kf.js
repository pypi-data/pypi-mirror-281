import{V as I,r as l,W as ft,X as mt,Y as K,Z as Se,_ as De,a0 as xe,a1 as we,a2 as ht,a3 as gt,a4 as Ee,a5 as re,a6 as ke,a7 as Be,a8 as Fe,a9 as vt,aa as bt,j as r,ab as et,ac as yt,A as xt,t as fe,B as ee,ad as wt,I as O,ae as G,af as V,h as J,ag as X,ah as Et,ai as le,aj as tt,ak as me,al as kt,am as $t,an as jt,ao as q,ap as Ie,u as Ct,n as W,aq as te,S as Ae,ar as Ne,as as Tt,at as Pt,au as _t,y as Lt}from"./index-ByZRgeI1.js";import{u as ue,S as nt,a as Ot,b as St,c as Dt,d as Me,P as Ft}from"./index-Bgip7RAP.js";import{C as It,I as At}from"./index-CDiJHUlc.js";import{u as ce}from"./shortcuts-CZKicsAQ.js";import{S as he}from"./separator-BLn7Tzaq.js";import{H as Nt}from"./index-BvS7hxcQ.js";import{I as Mt}from"./input-photsGvY.js";import{E as Rt}from"./index-17AJ_2Ow.js";import"./index-BZXY1PQM.js";import"./popover-CP45bWEe.js";import"./index-1TF53g1B.js";import"./index-D3XiEGLU.js";import"./index-CxXDHVKh.js";import"./index-BrvWPINl.js";import"./index-DLrPlNjF.js";import"./index-BaHDV6jT.js";import"./addNewVariableButton-D0EUD-2j.js";import"./label-DH30ZMm5.js";import"./index-qoDtUvIX.js";import"./index-HlFeGNgl.js";import"./checkbox-B3sADw8V.js";import"./table-CEHTfXFl.js";import"./cloneDeep-BMvw89Wv.js";const rt=typeof document<"u"?I.useLayoutEffect:()=>{};function Ht(e){const n=l.useRef(null);return rt(()=>{n.current=e},[e]),l.useCallback((...t)=>{const s=n.current;return s==null?void 0:s(...t)},[])}const Q=e=>{var n;return(n=e==null?void 0:e.ownerDocument)!==null&&n!==void 0?n:document},M=e=>e&&"window"in e&&e.window===e?e:Q(e).defaultView||window;function Wt(e){var n;return typeof window>"u"||window.navigator==null?!1:((n=window.navigator.userAgentData)===null||n===void 0?void 0:n.brands.some(t=>e.test(t.brand)))||e.test(window.navigator.userAgent)}function Ut(e){var n;return typeof window<"u"&&window.navigator!=null?e.test(((n=window.navigator.userAgentData)===null||n===void 0?void 0:n.platform)||window.navigator.platform):!1}function Kt(){return Ut(/^Mac/i)}function Vt(){return Wt(/Android/i)}function Jt(e){return e.mozInputSource===0&&e.isTrusted?!0:Vt()&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}class Xt{isDefaultPrevented(){return this.nativeEvent.defaultPrevented}preventDefault(){this.defaultPrevented=!0,this.nativeEvent.preventDefault()}stopPropagation(){this.nativeEvent.stopPropagation(),this.isPropagationStopped=()=>!0}isPropagationStopped(){return!1}persist(){}constructor(n,t){this.nativeEvent=t,this.target=t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget,this.bubbles=t.bubbles,this.cancelable=t.cancelable,this.defaultPrevented=t.defaultPrevented,this.eventPhase=t.eventPhase,this.isTrusted=t.isTrusted,this.timeStamp=t.timeStamp,this.type=n}}function st(e){let n=l.useRef({isFocused:!1,observer:null});rt(()=>{const s=n.current;return()=>{s.observer&&(s.observer.disconnect(),s.observer=null)}},[]);let t=Ht(s=>{e==null||e(s)});return l.useCallback(s=>{if(s.target instanceof HTMLButtonElement||s.target instanceof HTMLInputElement||s.target instanceof HTMLTextAreaElement||s.target instanceof HTMLSelectElement){n.current.isFocused=!0;let o=s.target,a=m=>{n.current.isFocused=!1,o.disabled&&t(new Xt("blur",m)),n.current.observer&&(n.current.observer.disconnect(),n.current.observer=null)};o.addEventListener("focusout",a,{once:!0}),n.current.observer=new MutationObserver(()=>{if(n.current.isFocused&&o.disabled){var m;(m=n.current.observer)===null||m===void 0||m.disconnect();let u=o===document.activeElement?null:document.activeElement;o.dispatchEvent(new FocusEvent("blur",{relatedTarget:u})),o.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:u}))}}),n.current.observer.observe(o,{attributes:!0,attributeFilter:["disabled"]})}},[t])}function Yt(e){let{isDisabled:n,onFocus:t,onBlur:s,onFocusChange:o}=e;const a=l.useCallback(f=>{if(f.target===f.currentTarget)return s&&s(f),o&&o(!1),!0},[s,o]),m=st(a),u=l.useCallback(f=>{const p=Q(f.target);f.target===f.currentTarget&&p.activeElement===f.target&&(t&&t(f),o&&o(!0),m(f))},[o,t,m]);return{focusProps:{onFocus:!n&&(t||o||s)?u:void 0,onBlur:!n&&(s||o)?a:void 0}}}let Z=null,ge=new Set,z=new Map,R=!1,ve=!1;const qt={Tab:!0,Escape:!0};function $e(e,n){for(let t of ge)t(e,n)}function zt(e){return!(e.metaKey||!Kt()&&e.altKey||e.ctrlKey||e.key==="Control"||e.key==="Shift"||e.key==="Meta")}function se(e){R=!0,zt(e)&&(Z="keyboard",$e("keyboard",e))}function D(e){Z="pointer",(e.type==="mousedown"||e.type==="pointerdown")&&(R=!0,$e("pointer",e))}function ot(e){Jt(e)&&(R=!0,Z="virtual")}function at(e){e.target===window||e.target===document||(!R&&!ve&&(Z="virtual",$e("virtual",e)),R=!1,ve=!1)}function it(){R=!1,ve=!0}function be(e){if(typeof window>"u"||z.get(M(e)))return;const n=M(e),t=Q(e);let s=n.HTMLElement.prototype.focus;n.HTMLElement.prototype.focus=function(){R=!0,s.apply(this,arguments)},t.addEventListener("keydown",se,!0),t.addEventListener("keyup",se,!0),t.addEventListener("click",ot,!0),n.addEventListener("focus",at,!0),n.addEventListener("blur",it,!1),typeof PointerEvent<"u"?(t.addEventListener("pointerdown",D,!0),t.addEventListener("pointermove",D,!0),t.addEventListener("pointerup",D,!0)):(t.addEventListener("mousedown",D,!0),t.addEventListener("mousemove",D,!0),t.addEventListener("mouseup",D,!0)),n.addEventListener("beforeunload",()=>{lt(e)},{once:!0}),z.set(n,{focus:s})}const lt=(e,n)=>{const t=M(e),s=Q(e);n&&s.removeEventListener("DOMContentLoaded",n),z.has(t)&&(t.HTMLElement.prototype.focus=z.get(t).focus,s.removeEventListener("keydown",se,!0),s.removeEventListener("keyup",se,!0),s.removeEventListener("click",ot,!0),t.removeEventListener("focus",at,!0),t.removeEventListener("blur",it,!1),typeof PointerEvent<"u"?(s.removeEventListener("pointerdown",D,!0),s.removeEventListener("pointermove",D,!0),s.removeEventListener("pointerup",D,!0)):(s.removeEventListener("mousedown",D,!0),s.removeEventListener("mousemove",D,!0),s.removeEventListener("mouseup",D,!0)),z.delete(t))};function Gt(e){const n=Q(e);let t;return n.readyState!=="loading"?be(e):(t=()=>{be(e)},n.addEventListener("DOMContentLoaded",t)),()=>lt(e,t)}typeof document<"u"&&Gt();function ut(){return Z!=="pointer"}const Qt=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function Zt(e,n,t){var s;const o=typeof window<"u"?M(t==null?void 0:t.target).HTMLInputElement:HTMLInputElement,a=typeof window<"u"?M(t==null?void 0:t.target).HTMLTextAreaElement:HTMLTextAreaElement,m=typeof window<"u"?M(t==null?void 0:t.target).HTMLElement:HTMLElement,u=typeof window<"u"?M(t==null?void 0:t.target).KeyboardEvent:KeyboardEvent;return e=e||(t==null?void 0:t.target)instanceof o&&!Qt.has(t==null||(s=t.target)===null||s===void 0?void 0:s.type)||(t==null?void 0:t.target)instanceof a||(t==null?void 0:t.target)instanceof m&&(t==null?void 0:t.target.isContentEditable),!(e&&n==="keyboard"&&t instanceof u&&!qt[t.key])}function Bt(e,n,t){be(),l.useEffect(()=>{let s=(o,a)=>{Zt(!!(t!=null&&t.isTextInput),o,a)&&e(ut())};return ge.add(s),()=>{ge.delete(s)}},n)}function en(e){let{isDisabled:n,onBlurWithin:t,onFocusWithin:s,onFocusWithinChange:o}=e,a=l.useRef({isFocusWithin:!1}),m=l.useCallback(p=>{a.current.isFocusWithin&&!p.currentTarget.contains(p.relatedTarget)&&(a.current.isFocusWithin=!1,t&&t(p),o&&o(!1))},[t,o,a]),u=st(m),f=l.useCallback(p=>{!a.current.isFocusWithin&&document.activeElement===p.target&&(s&&s(p),o&&o(!0),a.current.isFocusWithin=!0,u(p))},[s,o,u]);return n?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:f,onBlur:m}}}let oe=!1,de=0;function ye(){oe=!0,setTimeout(()=>{oe=!1},50)}function Re(e){e.pointerType==="touch"&&ye()}function tn(){if(!(typeof document>"u"))return typeof PointerEvent<"u"?document.addEventListener("pointerup",Re):document.addEventListener("touchend",ye),de++,()=>{de--,!(de>0)&&(typeof PointerEvent<"u"?document.removeEventListener("pointerup",Re):document.removeEventListener("touchend",ye))}}function nn(e){let{onHoverStart:n,onHoverChange:t,onHoverEnd:s,isDisabled:o}=e,[a,m]=l.useState(!1),u=l.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;l.useEffect(tn,[]);let{hoverProps:f,triggerHoverEnd:p}=l.useMemo(()=>{let b=(g,w)=>{if(u.pointerType=w,o||w==="touch"||u.isHovered||!g.currentTarget.contains(g.target))return;u.isHovered=!0;let k=g.currentTarget;u.target=k,n&&n({type:"hoverstart",target:k,pointerType:w}),t&&t(!0),m(!0)},h=(g,w)=>{if(u.pointerType="",u.target=null,w==="touch"||!u.isHovered)return;u.isHovered=!1;let k=g.currentTarget;s&&s({type:"hoverend",target:k,pointerType:w}),t&&t(!1),m(!1)},x={};return typeof PointerEvent<"u"?(x.onPointerEnter=g=>{oe&&g.pointerType==="mouse"||b(g,g.pointerType)},x.onPointerLeave=g=>{!o&&g.currentTarget.contains(g.target)&&h(g,g.pointerType)}):(x.onTouchStart=()=>{u.ignoreEmulatedMouseEvents=!0},x.onMouseEnter=g=>{!u.ignoreEmulatedMouseEvents&&!oe&&b(g,"mouse"),u.ignoreEmulatedMouseEvents=!1},x.onMouseLeave=g=>{!o&&g.currentTarget.contains(g.target)&&h(g,"mouse")}),{hoverProps:x,triggerHoverEnd:h}},[n,t,s,o,u]);return l.useEffect(()=>{o&&p({currentTarget:u.target},u.pointerType)},[o]),{hoverProps:f,isHovered:a}}function rn(e={}){let{autoFocus:n=!1,isTextInput:t,within:s}=e,o=l.useRef({isFocused:!1,isFocusVisible:n||ut()}),[a,m]=l.useState(!1),[u,f]=l.useState(()=>o.current.isFocused&&o.current.isFocusVisible),p=l.useCallback(()=>f(o.current.isFocused&&o.current.isFocusVisible),[]),b=l.useCallback(g=>{o.current.isFocused=g,m(g),p()},[p]);Bt(g=>{o.current.isFocusVisible=g,p()},[],{isTextInput:t});let{focusProps:h}=Yt({isDisabled:s,onFocusChange:b}),{focusWithinProps:x}=en({isDisabled:!s,onFocusWithinChange:b});return{isFocused:a,isFocusVisible:u,focusProps:s?x:h}}function ct(e){return ft.isServer?null:e instanceof Node?e.ownerDocument:e!=null&&e.hasOwnProperty("current")&&e.current instanceof Node?e.current.ownerDocument:document}function sn(e){let n=e.width/2,t=e.height/2;return{top:e.clientY-t,right:e.clientX+n,bottom:e.clientY+t,left:e.clientX-n}}function on(e,n){return!(!e||!n||e.right<n.left||e.left>n.right||e.bottom<n.top||e.top>n.bottom)}function an({disabled:e=!1}={}){let n=l.useRef(null),[t,s]=l.useState(!1),o=mt(),a=K(()=>{n.current=null,s(!1),o.dispose()}),m=K(u=>{if(o.dispose(),n.current===null){n.current=u.currentTarget,s(!0);{let f=ct(u.currentTarget);o.addEventListener(f,"pointerup",a,!1),o.addEventListener(f,"pointermove",p=>{if(n.current){let b=sn(p);s(on(b,n.current.getBoundingClientRect()))}},!1),o.addEventListener(f,"pointercancel",a,!1)}}});return{pressed:t,pressProps:e?{}:{onPointerDown:m,onPointerUp:a,onClick:a}}}function ln(e){let n=e.parentElement,t=null;for(;n&&!(n instanceof HTMLFieldSetElement);)n instanceof HTMLLegendElement&&(t=n),n=n.parentElement;let s=(n==null?void 0:n.getAttribute("disabled"))==="";return s&&un(t)?!1:s}function un(e){if(!e)return!1;let n=e.previousElementSibling;for(;n!==null;){if(n instanceof HTMLLegendElement)return!1;n=n.previousElementSibling}return!0}var U=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(U||{});let cn=l.createContext(()=>{});function dn({value:e,children:n}){return I.createElement(cn.Provider,{value:e},n)}function He(e){var n;if(e.type)return e.type;let t=(n=e.as)!=null?n:"button";if(typeof t=="string"&&t.toLowerCase()==="button")return"button"}function pn(e,n){let[t,s]=l.useState(()=>He(e));return Se(()=>{s(He(e))},[e.type,e.as]),Se(()=>{t||n.current&&n.current instanceof HTMLButtonElement&&!n.current.hasAttribute("type")&&s("button")},[t,n]),t}var We;let fn=(We=I.startTransition)!=null?We:function(e){e()};var mn=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(mn||{}),hn=(e=>(e[e.ToggleDisclosure=0]="ToggleDisclosure",e[e.CloseDisclosure=1]="CloseDisclosure",e[e.SetButtonId=2]="SetButtonId",e[e.SetPanelId=3]="SetPanelId",e[e.LinkPanel=4]="LinkPanel",e[e.UnlinkPanel=5]="UnlinkPanel",e))(hn||{});let gn={0:e=>({...e,disclosureState:Ee(e.disclosureState,{0:1,1:0})}),1:e=>e.disclosureState===1?e:{...e,disclosureState:1},4(e){return e.linkedPanel===!0?e:{...e,linkedPanel:!0}},5(e){return e.linkedPanel===!1?e:{...e,linkedPanel:!1}},2(e,n){return e.buttonId===n.buttonId?e:{...e,buttonId:n.buttonId}},3(e,n){return e.panelId===n.panelId?e:{...e,panelId:n.panelId}}},je=l.createContext(null);je.displayName="DisclosureContext";function Ce(e){let n=l.useContext(je);if(n===null){let t=new Error(`<${e} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,Ce),t}return n}let Te=l.createContext(null);Te.displayName="DisclosureAPIContext";function dt(e){let n=l.useContext(Te);if(n===null){let t=new Error(`<${e} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,dt),t}return n}let Pe=l.createContext(null);Pe.displayName="DisclosurePanelContext";function vn(){return l.useContext(Pe)}function bn(e,n){return Ee(n.type,gn,e,n)}let yn=l.Fragment;function xn(e,n){let{defaultOpen:t=!1,...s}=e,o=l.useRef(null),a=we(n,ht(i=>{o.current=i},e.as===void 0||e.as===l.Fragment)),m=l.useRef(null),u=l.useRef(null),f=l.useReducer(bn,{disclosureState:t?0:1,linkedPanel:!1,buttonRef:u,panelRef:m,buttonId:null,panelId:null}),[{disclosureState:p,buttonId:b},h]=f,x=K(i=>{h({type:1});let v=ct(o);if(!v||!b)return;let c=i?i instanceof HTMLElement?i:i.current instanceof HTMLElement?i.current:v.getElementById(b):v.getElementById(b);c==null||c.focus()}),g=l.useMemo(()=>({close:x}),[x]),w=l.useMemo(()=>({open:p===0,close:x}),[p,x]),k={ref:a};return I.createElement(je.Provider,{value:f},I.createElement(Te.Provider,{value:g},I.createElement(dn,{value:x},I.createElement(gt,{value:Ee(p,{0:re.Open,1:re.Closed})},ke({ourProps:k,theirProps:s,slot:w,defaultTag:yn,name:"Disclosure"})))))}let wn="button";function En(e,n){let t=l.useId(),{id:s=`headlessui-disclosure-button-${t}`,disabled:o=!1,autoFocus:a=!1,...m}=e,[u,f]=Ce("Disclosure.Button"),p=vn(),b=p===null?!1:p===u.panelId,h=l.useRef(null),x=we(h,n,b?null:u.buttonRef),g=Be();l.useEffect(()=>{if(!b)return f({type:2,buttonId:s}),()=>{f({type:2,buttonId:null})}},[s,f,b]);let w=K(P=>{var A;if(b){if(u.disclosureState===1)return;switch(P.key){case U.Space:case U.Enter:P.preventDefault(),P.stopPropagation(),f({type:0}),(A=u.buttonRef.current)==null||A.focus();break}}else switch(P.key){case U.Space:case U.Enter:P.preventDefault(),P.stopPropagation(),f({type:0});break}}),k=K(P=>{switch(P.key){case U.Space:P.preventDefault();break}}),i=K(P=>{var A;ln(P.currentTarget)||o||(b?(f({type:0}),(A=u.buttonRef.current)==null||A.focus()):f({type:0}))}),{isFocusVisible:v,focusProps:c}=rn({autoFocus:a}),{isHovered:d,hoverProps:j}=nn({isDisabled:o}),{pressed:$,pressProps:y}=an({disabled:o}),C=l.useMemo(()=>({open:u.disclosureState===0,hover:d,active:$,disabled:o,focus:v,autofocus:a}),[u,d,$,v,o,a]),H=pn(e,h),S=b?Fe({ref:x,type:H,disabled:o||void 0,autoFocus:a,onKeyDown:w,onClick:i},c,j,y):Fe({ref:x,id:s,type:H,"aria-expanded":u.disclosureState===0,"aria-controls":u.linkedPanel?u.panelId:void 0,disabled:o||void 0,autoFocus:a,onKeyDown:w,onKeyUp:k,onClick:i},c,j,y);return ke({mergeRefs:g,ourProps:S,theirProps:m,slot:C,defaultTag:wn,name:"Disclosure.Button"})}let kn="div",$n=De.RenderStrategy|De.Static;function jn(e,n){let t=l.useId(),{id:s=`headlessui-disclosure-panel-${t}`,...o}=e,[a,m]=Ce("Disclosure.Panel"),{close:u}=dt("Disclosure.Panel"),f=Be(),p=we(n,a.panelRef,w=>{fn(()=>m({type:w?4:5}))});l.useEffect(()=>(m({type:3,panelId:s}),()=>{m({type:3,panelId:null})}),[s,m]);let b=vt(),h=b!==null?(b&re.Open)===re.Open:a.disclosureState===0,x=l.useMemo(()=>({open:a.disclosureState===0,close:u}),[a,u]),g={ref:p,id:s};return I.createElement(Pe.Provider,{value:a.panelId},ke({mergeRefs:f,ourProps:g,theirProps:o,slot:x,defaultTag:kn,features:$n,visible:h,name:"Disclosure.Panel"}))}let Cn=xe(xn),Tn=xe(En),Pn=xe(jn),Y=Object.assign(Cn,{Button:Tn,Panel:Pn});const ne=bt((e,n)=>({tweak:[],setTweak:t=>e({tweak:t}),tweaksList:[],setTweaksList:t=>e({tweaksList:t})}));function _n(e){return r.jsx("div",{className:"w-[200px]",children:r.jsx("span",{children:e!=null&&e!=""?e:"None"})})}function Ue(e){return e.data.nodes.reduce((n,t)=>(n[t.data.id]={},n),{})}const Ln=(e,n)=>e.data.node.template[n]&&n.charAt(0)!=="_"&&e.data.node.template[n].show&&et.has(e.data.node.template[n].type)&&n!=="code",On=(e,n)=>(typeof e=="string"&&n.type==="float"&&(e=parseFloat(e)),typeof e=="string"&&n.type==="int"&&(e=parseInt(e)),n.list===!0&&Array.isArray(e)&&(e=e==null?void 0:e.filter(t=>t!=="")),n.type==="dict"&&Array.isArray(e)&&(e=yt(e)),n.type==="NestedDict"&&(e=JSON.stringify(e)),e);function Ke(e,n,t,s){const o=t[0];return`curl -X POST \\
    "${window.location.protocol}//${window.location.host}/api/v1/run/${s||e}?stream=false" \\
    -H 'Content-Type: application/json'\\${n?"":`
  -H 'x-api-key: <your api key>'\\`}
    -d '{"input_value": "message",
    "output_type": "chat",
    "input_type": "chat",
    "tweaks": ${JSON.stringify(o,null,2)}}'
    `}function Ve(e,n,t){return`curl -X POST \\
  "${window.location.protocol}//${window.location.host}/api/v1/webhook/${t||e}" \\
  -H 'Content-Type: application/json'\\${n?"":`
  -H 'x-api-key: <your api key>'\\`}
  -d '{"any": "data"}'
  `}function Je(e,n,t,s){let o="{}";if(t&&t.length>0){const a=t[0];if(!a)throw new Error("Expected tweaks object is not provided.");o=JSON.stringify(a,null,2)}return`class LangflowClient {
    constructor(baseURL, apiKey) {
        this.baseURL = baseURL;
        this.apiKey = apiKey;
    }
    async post(endpoint, body, headers = {"Content-Type": "application/json"}) {
        if (this.apiKey) {
            headers["Authorization"] = \`Bearer \${this.apiKey}\`;
        }
        const url = \`\${this.baseURL}\${endpoint}\`;
        try {
            const response = await fetch(url, {
                method: 'POST',
                headers: headers,
                body: JSON.stringify(body)
            });
            if (!response.ok) {
                throw new Error(\`HTTP error! Status: \${response.status}\`);
            }
            return await response.json();
        } catch (error) {
            console.error('Request Error:', error);
            throw error;
        }
    }

    async initiateSession(flowId, inputValue, stream = false, tweaks = {}) {
        const endpoint = \`/api/v1/run/\${flowId}?stream=\${stream}\`;
        return this.post(endpoint, { input_value: inputValue, tweaks: tweaks });
    }

    handleStream(streamUrl, onUpdate, onClose, onError) {
        const eventSource = new EventSource(streamUrl);

        eventSource.onmessage = event => {
            const data = JSON.parse(event.data);
            onUpdate(data);
        };

        eventSource.onerror = event => {
            console.error('Stream Error:', event);
            onError(event);
            eventSource.close();
        };

        eventSource.addEventListener("close", () => {
            onClose('Stream closed');
            eventSource.close();
        });

        return eventSource;
    }

    async runFlow(flowIdOrName, inputValue, tweaks, stream = false, onUpdate, onClose, onError) {
        try {
            const initResponse = await this.initiateSession(flowIdOrName, inputValue, stream, tweaks);
            console.log('Init Response:', initResponse);
            if (stream && initResponse && initResponse.outputs && initResponse.outputs[0].outputs[0].artifacts.stream_url) {
                const streamUrl = initResponse.outputs[0].outputs[0].artifacts.stream_url;
                console.log(\`Streaming from: \${streamUrl}\`);
                this.handleStream(streamUrl, onUpdate, onClose, onError);
            }
            return initResponse;
        } catch (error) {
            console.error('Error running flow:', error);
            onError('Error initiating session');
        }
    }
}

async function main() {
    const flowIdOrName = '${s||e}';
    const inputValue = 'User message';
    const stream = false;
    const langflowClient = new LangflowClient('${window.location.protocol}//${window.location.host}',
        ${n?"'your-api-key'":"null"});
    const tweaks = ${o};
    response = await langflowClient.runFlow(
        flowIdOrName,
        inputValue,
        tweaks,
        stream,
        (data) => console.log("Received:", data.chunk), // onUpdate
        (message) => console.log("Stream Closed:", message), // onClose
        (error) => console.log("Stream Error:", error) // onError
    );
    if (!stream) {
        const flowOutputs = response.outputs[0];
        const firstComponentOutputs = flowOutputs.outputs[0];
        const output = firstComponentOutputs.outputs.message;

        console.log("Final Output:", output.message.text);
    }
}

main();`}const Sn=e=>{let n=[];return e.data.nodes.forEach(s=>{s.data.node.template&&Object.keys(s.data.node.template).filter(o=>{var a;return o.charAt(0)!=="_"&&((a=s.data.node.template[o])==null?void 0:a.show)&&et.has(s.data.node.template[o].type)}).map((o,a)=>{n.push(s.id)})}),n.filter((s,o,a)=>a.indexOf(s)===o)};function Xe(e,n,t,s){let o="{}";if(t&&t.length>0){const a=t[0];if(!a)throw new Error("expected tweaks");o=JSON.stringify(a,null,2).replace(/true/g,"True").replace(/false/g,"False")}return`import argparse
import json
from argparse import RawTextHelpFormatter
import requests
from typing import Optional
import warnings
try:
    from langflow.load import upload_file
except ImportError:
    warnings.warn("Langflow provides a function to help you upload files to the flow. Please install langflow to use it.")
    upload_file = None

BASE_API_URL = "${window.location.protocol}//${window.location.host}/api/v1/run"
FLOW_ID = "${e}"
ENDPOINT = "${s||""}" ${s?"# The endpoint name of the flow":"# You can set a specific endpoint name in the flow settings"}

# You can tweak the flow by adding a tweaks dictionary
# e.g {"OpenAI-XXXXX": {"model_name": "gpt-4"}}
TWEAKS = ${o}

def run_flow(message: str,
  endpoint: str,
  output_type: str = "chat",
  input_type: str = "chat",
  tweaks: Optional[dict] = None,
  api_key: Optional[str] = None) -> dict:
    """
    Run a flow with a given message and optional tweaks.

    :param message: The message to send to the flow
    :param endpoint: The ID or the endpoint name of the flow
    :param tweaks: Optional tweaks to customize the flow
    :return: The JSON response from the flow
    """
    api_url = f"{BASE_API_URL}/{endpoint}"

    payload = {
        "input_value": message,
        "output_type": output_type,
        "input_type": input_type,
    }
    headers = None
    if tweaks:
        payload["tweaks"] = tweaks
    if api_key:
        headers = {"x-api-key": api_key}
    response = requests.post(api_url, json=payload, headers=headers)
    return response.json()

def main():
    parser = argparse.ArgumentParser(description="""Run a flow with a given message and optional tweaks.
Run it like: python <your file>.py "your message here" --endpoint "your_endpoint" --tweaks '{"key": "value"}'""",
        formatter_class=RawTextHelpFormatter)
    parser.add_argument("message", type=str, help="The message to send to the flow")
    parser.add_argument("--endpoint", type=str, default=ENDPOINT or FLOW_ID, help="The ID or the endpoint name of the flow")
    parser.add_argument("--tweaks", type=str, help="JSON string representing the tweaks to customize the flow", default=json.dumps(TWEAKS))
    parser.add_argument("--api_key", type=str, help="API key for authentication", default=None)
    parser.add_argument("--output_type", type=str, default="chat", help="The output type")
    parser.add_argument("--input_type", type=str, default="chat", help="The input type")
    parser.add_argument("--upload_file", type=str, help="Path to the file to upload", default=None)
    parser.add_argument("--components", type=str, help="Components to upload the file to", default=None)

    args = parser.parse_args()
    try:
      tweaks = json.loads(args.tweaks)
    except json.JSONDecodeError:
      raise ValueError("Invalid tweaks JSON string")

    if args.upload_file:
        if not upload_file:
            raise ImportError("Langflow is not installed. Please install it to use the upload_file function.")
        elif not args.components:
            raise ValueError("You need to provide the components to upload the file to.")
        tweaks = upload_file(file_path=args.upload_file, host=BASE_API_URL, flow_id=ENDPOINT, components=args.components, tweaks=tweaks)

    response = run_flow(
        message=args.message,
        endpoint=args.endpoint,
        output_type=args.output_type,
        input_type=args.input_type,
        tweaks=tweaks,
        api_key=args.api_key
    )

    print(json.dumps(response, indent=2))

if __name__ == "__main__":
    main()
`}function Ye(e,n){let t="{}";if(n&&n.length>0){const s=n[0];if(!s)throw new Error("expected tweaks");t=JSON.stringify(s,null,2).replace(/true/g,"True").replace(/false/g,"False")}return`from langflow.load import run_flow_from_json
TWEAKS = ${t}

result = run_flow_from_json(flow="${e}.json",
                            input_value="message",
                            fallback_to_env_vars=True, # False by default
                            tweaks=TWEAKS)`}const Dn=(e,n,t,s)=>{let o=e??"";if(s.length>0)for(const a of s)Object.keys(a).forEach(m=>{const u=a[m];m==n.id&&Object.keys(u).forEach(f=>{f==t.name&&(o=u[f])})});else return e??"";return o};function qe(e,n,t){return`<script src="https://cdn.jsdelivr.net/gh/langflow-ai/langflow-embedded-chat@1.0_alpha/dist/build/static/js/bundle.min.js"><\/script>

  <langflow-chat
    window_title="${n}"
    flow_id="${e}"
    host_url="http://localhost:7860"${t?"":`
    api_key="..."`}

  ></langflow-chat>`}function pe(e,n=!1,t=!1){const s=[{name:"Run cURL",mode:"bash",image:"https://curl.se/logo/curl-symbol-transparent.png",language:"sh",code:e[0]},{name:"Python API",mode:"python",image:"https://images.squarespace-cdn.com/content/v1/5df3d8c5d2be5962e4f87890/1628015119369-OY4TV3XJJ53ECO0W2OLQ/Python+API+Training+Logo.png?format=1000w",language:"py",code:e[2]},{name:"JS API",mode:"javascript",image:"https://cdn-icons-png.flaticon.com/512/136/136530.png",language:"js",code:e[3]},{name:"Python Code",mode:"python",image:"https://cdn-icons-png.flaticon.com/512/5968/5968350.png",language:"py",code:e[4]},{name:"Chat Widget HTML",description:"Insert this code anywhere in your &lt;body&gt; tag. To use with react and other libs, check our <a class='link-color' href='https://langflow.org/guidelines/widget'>documentation</a>.",mode:"html",image:"https://cdn-icons-png.flaticon.com/512/5968/5968350.png",language:"html",code:e[5]}];return n&&s.splice(1,0,{name:"Webhook cURL",mode:"bash",image:"https://curl.se/logo/curl-symbol-transparent.png",language:"sh",code:e[1]}),t&&s.push({name:"Tweaks",mode:"python",image:"https://cdn-icons-png.flaticon.com/512/5968/5968350.png",language:"py",code:e[6]}),s}const Fn=l.forwardRef(({flow:e,children:n,open:t,setOpen:s},o)=>{const a=ne(E=>E.tweak),m=ne(E=>E.setTweak),u=ne(E=>E.setTweaksList),f=ne(E=>E.tweaksList),[p,b]=l.useState(!1),{autoLogin:h}=l.useContext(xt),[x,g]=s!==void 0&&t!==void 0?[t,s]:l.useState(!1),[w,k]=l.useState("0"),i=Xe(e==null?void 0:e.id,h,a,e==null?void 0:e.endpoint_name),v=Je(e==null?void 0:e.id,h,a,e==null?void 0:e.endpoint_name),c=Ke(e==null?void 0:e.id,h,a,e==null?void 0:e.endpoint_name),d=Ve(e==null?void 0:e.id,h,e==null?void 0:e.endpoint_name),j=Ye(e==null?void 0:e.name,a),$=qe(e==null?void 0:e.id,e==null?void 0:e.name,h),y=e.webhook,C=Ue(e),H=[c,d,i,v,j,$],[S,P]=l.useState(pe(H,y)),A=e&&e.data&&e.data.nodes&&a&&(a==null?void 0:a.length)>0&&p===!0,_e=()=>{const E=[],_=Ue(e);E.push(_),m(E),Oe(E)};l.useEffect(()=>{e.data.nodes.length==0?(m([]),u([])):_e(),pt(),Object.keys(C).length>0?(k("0"),P(pe(H,y,!0))):P(pe(H,y,!1))},[e.data.nodes,x]),l.useEffect(()=>{A?e.data.nodes.forEach(_=>{const F=_.id,N=_.data.node.template;Object.keys(N).forEach(T=>{Ln(_,T)&&Le(F,_.data.node.template[T].value,_.data.node.template[T])})}):_e()},[p]);const pt=()=>{u(Sn(e))};async function Le(E,_,F){_=On(_,F);const N=a.find(T=>T.hasOwnProperty(E));if(N)N[E][F.name]=_,N[E][F.name]==F.value&&a.forEach(T=>{var B;if(T[E]&&((B=Object.keys(T[E]))==null?void 0:B.length)===0){const ae=a.filter(L=>{const ie=L[Object.keys(L)[0]].prop;return ie!=null&&ie!==""});m(ae)}});else{const T={[E]:{[F.name]:_}};a.push(T)}if(a&&a.length>0){const T=fe.cloneDeep(a);Oe(T),m(T)}}const Oe=E=>{const _=Xe(e==null?void 0:e.id,h,E),F=Ke(e==null?void 0:e.id,h,E,e==null?void 0:e.endpoint_name),N=Je(e==null?void 0:e.id,h,E,e==null?void 0:e.endpoint_name),T=Ve(e==null?void 0:e.id,h,e==null?void 0:e.endpoint_name),B=Ye(e==null?void 0:e.name,E),ae=qe(e==null?void 0:e.id,e==null?void 0:e.name,h);if(S&&(S==null?void 0:S.length)>0){let L=0;S[L].code=F,L++,y&&(S[L].code=T,L++),S[L].code=_,L++,S[L].code=N,L++,S[L].code=B,L++,S[L].code=ae}};return r.jsxs(ee,{open:x,setOpen:g,children:[r.jsx(ee.Trigger,{asChild:!0,children:n}),r.jsxs(ee.Header,{description:wt,children:[r.jsx("span",{className:"pr-2",children:"API"}),r.jsx(O,{name:"Code2",className:"h-6 w-6 pl-1 text-gray-800 dark:text-white","aria-hidden":"true"})]}),r.jsx(ee.Content,{overflowHidden:!0,children:r.jsx(It,{flow:e,tabs:S,activeTab:w,setActiveTab:k,tweaks:{tweak:a,tweaksList:f,buildContent:_n,buildTweakObject:Le,getValue:Dn},activeTweaks:p,setActiveTweaks:b,allowExport:!0})})]})}),In=Fn;function An(){const[n,t]=l.useState(!1),[s,o]=l.useState(!1),[a,m]=l.useState(!1);function u(d){le()&&!s||o(j=>!j)}function f(d){le()&&!n||G.getState().hasIO&&t(j=>!j)}function p(d){le()&&!a||m(j=>!j)}const b=ce(d=>d.open),h=ce(d=>d.api),x=ce(d=>d.flow);ue(b,f,{preventDefault:!0}),ue(h,u,{preventDefault:!0}),ue(x,p,{preventDefault:!0});const g=G(d=>d.hasIO),w=V(d=>d.hasStore),k=V(d=>d.validApiKey),i=V(d=>d.hasApiKey),v=J(d=>d.currentFlow);l.useRef();const c=l.useMemo(()=>r.jsx(nt,{is_component:!1,component:v,disabled:!i||!k||!w,open:a,setOpen:m,children:r.jsxs("button",{disabled:!i||!k||!w,className:X("relative inline-flex h-full w-full items-center justify-center gap-[4px] bg-muted px-5 py-3 text-sm font-semibold text-foreground transition-all duration-150 ease-in-out hover:bg-background hover:bg-hover",!i||!k||!w?"button-disable text-muted-foreground":""),children:[r.jsx(O,{name:"Share3",className:X("-m-0.5 -ml-1 h-6 w-6",!i||!k||!w?"extra-side-bar-save-disable":"")}),"Share"]})}),[i,k,v,w,a,m]);return r.jsx(r.Fragment,{children:r.jsx(Et,{show:!0,appear:!0,enter:"transition ease-out duration-300",enterFrom:"translate-y-96",enterTo:"translate-y-0",leave:"transition ease-in duration-300",leaveFrom:"translate-y-0",leaveTo:"translate-y-96",children:r.jsx("div",{className:"shadow-round-btn-shadow hover:shadow-round-btn-shadow message-button-position flex items-center justify-center gap-7 rounded-sm border bg-muted shadow-md transition-all",children:r.jsxs("div",{className:"flex",children:[r.jsx("div",{className:"flex h-full w-full gap-1 rounded-sm transition-all",children:g?r.jsx(At,{open:n,setOpen:t,disable:!g,children:r.jsxs("div",{className:"relative inline-flex w-full items-center justify-center gap-1 px-5 py-3 text-sm font-semibold transition-all duration-500 ease-in-out hover:bg-hover",children:[r.jsx(O,{name:"BotMessageSquareIcon",className:"h-5 w-5 transition-all"}),"Playground"]})}):r.jsxs("div",{className:"relative inline-flex w-full cursor-not-allowed items-center justify-center gap-1 px-5 py-3 text-sm font-semibold text-muted-foreground transition-all duration-150 ease-in-out",children:[r.jsx(O,{name:"BotMessageSquareIcon",className:"h-5 w-5 transition-all"}),"Playground"]})}),r.jsx("div",{children:r.jsx(he,{orientation:"vertical"})}),r.jsx("div",{className:"flex cursor-pointer items-center gap-2",children:v&&v.data&&r.jsx(In,{flow:v,open:s,setOpen:o,children:r.jsxs("div",{className:X("relative inline-flex w-full items-center justify-center gap-1 px-5 py-3 text-sm font-semibold text-foreground transition-all duration-150 ease-in-out hover:bg-hover"),children:[r.jsx(O,{name:"Code2",className:"h-5 w-5"}),"API"]})})}),r.jsx("div",{children:r.jsx(he,{orientation:"vertical"})}),r.jsx("div",{className:"flex items-center gap-2",children:r.jsx("div",{className:`side-bar-button ${!i||!k||!w?"cursor-not-allowed":"cursor-pointer"}`,children:c})})]})})})})}function ze({button:{title:e,Icon:n,buttons:t=[]},isChild:s=!0,children:o,defaultOpen:a}){return r.jsx(Y,{as:"div",defaultOpen:a,children:({open:m})=>r.jsxs(r.Fragment,{children:[r.jsx("div",{children:r.jsxs(Y.Button,{className:s?"components-disclosure-arrangement-child":"components-disclosure-arrangement","data-testid":`disclosure-${e.toLocaleLowerCase()}`,children:[r.jsxs("div",{className:"flex gap-4"+(s?" pl-2":""),children:[r.jsx(n,{strokeWidth:1.5,size:22,className:"text-primary"}),r.jsx("span",{className:"components-disclosure-title",children:e})]}),r.jsxs("div",{className:"components-disclosure-div",children:[t.map((u,f)=>r.jsx("button",{onClick:u.onClick,children:u.Icon},f)),r.jsx("div",{children:r.jsx(O,{name:"ChevronRight",className:`${m||a?"rotate-90 transform":""} h-4 w-4 text-foreground`})})]})]})}),r.jsx(Y.Panel,{as:"div",children:o})]})},e)}function Nn({button:{title:e,Icon:n,buttons:t=[]},children:s,defaultOpen:o,testId:a}){return r.jsx(Y,{as:"div",defaultOpen:o,children:({open:m})=>r.jsxs(r.Fragment,{children:[r.jsx("div",{children:r.jsxs(Y.Button,{className:"parent-disclosure-arrangement","data-testid":a,children:[r.jsxs("div",{className:"flex items-baseline gap-1 align-baseline",children:[r.jsx("span",{className:"parent-disclosure-title",children:e}),e==="Experimental"&&r.jsx("div",{className:"h-fit rounded-full bg-beta-background px-2 py-1 text-xs/3 font-semibold text-beta-foreground-soft",children:"BETA"})]}),r.jsxs("div",{className:"components-disclosure-div",children:[t.map((u,f)=>r.jsx("button",{onClick:u.onClick,children:u.Icon},f)),r.jsx("div",{children:r.jsx(O,{name:"ChevronsUpDownIcon",className:" h-4 w-4 text-foreground"})})]})]})}),r.jsx(Y.Panel,{as:"div",children:s})]})},e)}const Mn=l.forwardRef(({sectionName:e,display_name:n,itemName:t,error:s,color:o,onDragStart:a,apiClass:m,official:u},f)=>{const[p,b]=l.useState(!1),h=J(c=>c.deleteComponent),x=tt(c=>c.version),[g,w]=l.useState({x:0,y:0}),k=l.useRef(null),i=c=>{var d;if(!p){const j=((d=k.current)==null?void 0:d.getBoundingClientRect())??{left:0,top:0};w({x:c.clientX-j.left,y:c.clientY-j.top})}};function v(c){switch(c){case"share":break;case"download":const d=me(t);kt($t({id:jt(d),type:d,node:m},x));break;case"delete":h(n);break}}return r.jsx(Ot,{onValueChange:v,onOpenChange:c=>b(c),open:p,children:r.jsx("div",{onPointerDown:i,onContextMenuCapture:c=>{c.preventDefault(),b(!0)},"data-tooltip-id":t,children:r.jsx("div",{draggable:!s,className:"side-bar-components-border bg-background"+(s?" cursor-not-allowed select-none":""),style:{borderLeftColor:o},onDragStart:a,onDragEnd:()=>{document.body.removeChild(document.getElementsByClassName("cursor-grabbing")[0])},children:r.jsxs("div",{"data-testid":e+n,id:e+n,className:"side-bar-components-div-form",children:[r.jsx("span",{className:"side-bar-components-text",children:n}),r.jsxs("div",{ref:k,children:[r.jsx(O,{name:"Menu",className:"side-bar-components-icon"}),r.jsx(St,{}),r.jsxs(Dt,{position:"popper",side:"bottom",sideOffset:-25,style:{position:"absolute",left:g.x,top:g.y},children:[r.jsxs(Me,{value:"download",children:[r.jsxs("div",{className:"flex",children:[r.jsx(O,{name:"Download",className:"relative top-0.5 mr-2 h-4 w-4"})," ","Download"," "]})," "]}),!u&&r.jsxs(Me,{value:"delete",children:[r.jsxs("div",{className:"flex",children:[r.jsx(O,{name:"Trash2",className:"relative top-0.5 mr-2 h-4 w-4"})," ","Delete"," "]})," "]})]})]})]})})},t)},t)}),Ge=Mn;function Qe(e,n){const t=q.indexOf(e.toLowerCase()),s=q.indexOf(n.toLowerCase());return t!==-1&&s!==-1?t-s:t!==-1?-1:s!==-1?1:e.localeCompare(n)}function Ze(e,n){const t=/(.+) \((\w+)\)/,s=e.match(t),o=n.match(t);if(s&&o){const a=s[1],m=o[1];if(a!==m)return a.localeCompare(m);const u=parseInt(s[2]),f=parseInt(o[2]);return u-f}else return e.localeCompare(n)}function Rn(){const e=Ie(i=>i.data),n=Ie(i=>i.templates),t=G(i=>i.getFilterEdge),s=G(i=>i.setFilterEdge),o=J(i=>i.currentFlow),a=V(i=>i.hasStore),m=V(i=>i.hasApiKey),u=V(i=>i.validApiKey),f=Ct(i=>i.setErrorData),[p,b]=l.useState(e),[h,x]=l.useState("");function g(i,v){var c=i.currentTarget.cloneNode(!0);c.style.position="absolute",c.style.top="-500px",c.style.right="-500px",c.classList.add("cursor-grabbing"),document.body.appendChild(c),i.dataTransfer.setDragImage(c,0,0),i.dataTransfer.setData("nodedata",JSON.stringify(v))}function w(i){if(i===""){b(e);return}b(v=>{let c={};return Object.keys(e).forEach((d,j)=>{c[d]={},Object.keys(e[d]).filter(y=>{var C;return y.toLowerCase().includes(i.toLowerCase())||((C=e[d][y].display_name)==null?void 0:C.toLowerCase().includes(i.toLowerCase()))}).forEach(y=>{c[d][y]=e[d][y]})}),c})}l.useEffect(()=>{let i=[];Object.keys(n).forEach(v=>{n[v].error&&i.push(v)}),i.length>0&&f({title:" Components with errors: ",list:i})},[]);function k(){(!h&&h===""||h==="search")&&(b(e),s([]),x(""))}return l.useEffect(()=>{t.length!==0&&x(""),t.length===0&&h===""&&(x(""),b(e))},[t,e]),l.useEffect(()=>{w(h)},[e]),l.useEffect(()=>{(t==null?void 0:t.length)>0&&b(i=>{let v=fe.cloneDeep(e),c={};return Object.keys(v).forEach((d,j)=>{if(c[d]={},t.some($=>$.family===d)){c[d]=v[d];const $=t.filter(y=>y.family===d).pop().type.split(",");for(let y=0;y<$.length;y++)$[y]=$[y].trimStart();if($.some(y=>y!=="")){let y=Object.keys(v[d]).filter(C=>$.includes(C));Object.keys(v[d]).forEach(C=>{y.includes(C)||delete c[d][C]})}}}),x(""),c})},[t]),l.useEffect(()=>{(t==null?void 0:t.length)>0&&b(i=>{let v=fe.cloneDeep(e),c={};return Object.keys(v).forEach((d,j)=>{if(c[d]={},t.some($=>$.family===d)){c[d]=v[d];const $=t.filter(y=>y.family===d).pop().type.split(",");for(let y=0;y<$.length;y++)$[y]=$[y].trimStart();if($.some(y=>y!=="")){let y=Object.keys(v[d]).filter(C=>$.includes(C));Object.keys(v[d]).forEach(C=>{y.includes(C)||delete c[d][C]})}}}),x(""),c})},[t,e]),l.useMemo(()=>r.jsx(nt,{is_component:!1,component:o,disabled:!m||!u||!a,children:r.jsxs("button",{disabled:!m||!u||!a,className:X("extra-side-bar-buttons gap-[4px] text-sm font-semibold",!m||!u||!a?"button-disable cursor-default text-muted-foreground":""),children:[r.jsx(O,{name:"Share3",className:X("-m-0.5 -ml-1 h-6 w-6",!m||!u||!a?"extra-side-bar-save-disable":"")}),"Share"]})}),[m,u,o,a]),l.useMemo(()=>r.jsx(Rt,{children:r.jsx("button",{className:X("extra-side-bar-buttons"),children:r.jsx(O,{name:"FileDown",className:"side-bar-button-size"})})}),[]),l.useMemo(()=>i=>{if(W[i])return r.jsx(O,{name:i,strokeWidth:1.5,className:"w-[22px] text-primary"})},[]),r.jsxs("div",{className:"side-bar-arrangement",children:[r.jsxs("div",{className:"side-bar-search-div-placement",children:[r.jsx(Mt,{onFocusCapture:()=>k(),value:h,type:"text",name:"search",id:"search",placeholder:"Search",className:"nopan nodelete nodrag noundo nocopy input-search",onChange:i=>{w(i.target.value),x(i.target.value)},autocomplete:"off",readonly:"readonly",onClick:()=>document.getElementById("search").removeAttribute("readonly")}),r.jsx("div",{className:"search-icon",onClick:()=>{h&&(b(e),x(""))},children:r.jsx(O,{name:h?"X":"Search",className:`h-5 w-5 stroke-[1.5] text-primary ${h?"cursor-pointer":"cursor-default"}`,"aria-hidden":"true"})})]}),r.jsx(he,{}),r.jsxs("div",{className:"side-bar-components-div-arrangement",children:[r.jsx("div",{className:"parent-disclosure-arrangement",children:r.jsx("div",{className:"flex items-center gap-4 align-middle",children:r.jsx("span",{className:"parent-disclosure-title",children:"Components"})})}),Object.keys(p).sort(Qe).filter(i=>q.includes(i)).map((i,v)=>Object.keys(p[i]).length>0?r.jsx(r.Fragment,{children:r.jsx(ze,{defaultOpen:t.length!==0||h.length!==0,isChild:!1,button:{title:te[i]??te.unknown,Icon:W[i]??W.unknown},children:r.jsx("div",{className:"side-bar-components-gap",children:Object.keys(p[i]).sort((c,d)=>Ze(p[i][c].display_name,p[i][d].display_name)).map((c,d)=>r.jsx(Ae,{content:p[i][c].display_name,side:"right",children:r.jsx(Ge,{sectionName:i,apiClass:p[i][c],onDragStart:j=>g(j,{type:me(c),node:p[i][c]}),color:Ne[i],itemName:c,error:!!p[i][c].error,display_name:p[i][c].display_name,official:p[i][c].official!==!1},d+c)},d))})},v+h+JSON.stringify(t))}):r.jsx("div",{},v))," ",r.jsx(Nn,{defaultOpen:h.length!==0||t.length!==0,button:{title:"Experimental",Icon:W.unknown},testId:"extended-disclosure",children:Object.keys(p).sort(Qe).filter(i=>!q.includes(i)).map((i,v)=>Object.keys(p[i]).length>0?r.jsxs(r.Fragment,{children:[r.jsx(ze,{isChild:!1,defaultOpen:t.length!==0||h.length!==0,button:{title:te[i]??te.unknown,Icon:W[i]??W.unknown},children:r.jsx("div",{className:"side-bar-components-gap",children:Object.keys(p[i]).sort((c,d)=>Ze(p[i][c].display_name,p[i][d].display_name)).map((c,d)=>r.jsx(Ae,{content:p[i][c].display_name,side:"right",children:r.jsx(Ge,{sectionName:i,apiClass:p[i][c],onDragStart:j=>g(j,{type:me(c),node:p[i][c]}),color:Ne[i],itemName:c,error:!!p[i][c].error,display_name:p[i][c].display_name,official:p[i][c].official!==!1},d)},d))})},v+h+JSON.stringify(t)),v===Object.keys(p).length-q.length+1&&r.jsx(r.Fragment,{children:r.jsxs("a",{target:"_blank",href:"https://langflow.store",className:"components-disclosure-arrangement",children:[r.jsxs("div",{className:"flex gap-4",children:[r.jsx(Tt,{strokeWidth:1.5,className:"w-[22px] text-primary"}),r.jsx("span",{className:"components-disclosure-title",children:"Discover More"})]}),r.jsx("div",{className:"components-disclosure-div",children:r.jsx("div",{children:r.jsx(Pt,{className:"h-4 w-4 text-foreground"})})})]})})]}):r.jsx("div",{},v))},`${h.length!==0}-${t.length!==0}-Advanced`)]})]})}function ur({view:e}){const n=J(f=>f.setCurrentFlowId),t=tt(f=>f.version),s=G(f=>f.setOnFlowPage),o=J(f=>f.currentFlow),{id:a}=_t(),m=Lt(),u=J(f=>f.flows);return l.useEffect(()=>{if(!u.some(p=>p.id===a)){m("/all");return}return n(a),s(!0),()=>{s(!1)}},[a]),r.jsxs(r.Fragment,{children:[r.jsx(Nt,{}),r.jsxs("div",{className:"flow-page-positioning",children:[o&&r.jsxs("div",{className:"flex h-full overflow-hidden",children:[!e&&r.jsx(Rn,{}),r.jsxs("main",{className:"flex flex-1",children:[r.jsx("div",{className:"h-full w-full",children:r.jsx(Ft,{flow:o})}),!e&&r.jsx(An,{})]})]}),r.jsxs("a",{target:"_blank",href:"https://medium.com/logspace/langflow-datastax-better-together-1b7462cebc4d",className:"langflow-page-icon",children:[t&&r.jsx("div",{className:"mt-1",children:"Langflow 🤝 DataStax"}),r.jsxs("div",{className:t?"mt-2":"mt-1",children:["⛓️ v",t]})]})]})]})}export{ur as default};
