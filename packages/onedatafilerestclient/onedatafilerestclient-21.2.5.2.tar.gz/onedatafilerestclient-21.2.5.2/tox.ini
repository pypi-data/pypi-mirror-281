[tox]
envlist = mypy,tests

[testenv:mypy]
basepython = python3
skip_install = true
deps =
    mypy
    types-requests
    types-urllib3
    -r requirements.txt
commands =
    python -m mypy --strict --disallow-untyped-defs --show-error-context --install-types \
    onedatafilerestclient

[testenv:tests]
basepython = python3
passenv = ONEZONE_IP
pass_env = *
skip_install = false
deps =
    pytest
    pytest-cov
    -r requirements.txt
commands = py.test -v --cov=onedatafilerestclient --junitxml=onedatafilerestclient-tests-results.xml tests/test_client.py -s []
