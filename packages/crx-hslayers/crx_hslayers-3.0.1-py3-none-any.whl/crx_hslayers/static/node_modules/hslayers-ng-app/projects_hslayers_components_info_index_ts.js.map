{"version":3,"file":"projects_hslayers_components_info_index_ts.js","mappings":"AAAA,aAAa,wHAAwH,gBAAgB,cAAc,yCAAyC,EAAE,uGAAuG,gBAAgB,gDAAgD,oBAAoB,yBAAyB,gBAAgB,gLAAgL,gBAAgB,mKAAmK,gBAAgB,6PAA6P,gBAAgB,0LAA0L,gBAAgB,oIAAoI,YAAY,qBAAqB,eAAe,+SAA+S,qBAAqB,2DAA2D,yHAAyH,sDAAsD,0EAA0E,QAAQ,IAAI,4GAA4G,2EAA2E,YAAY,4BAA4B,uEAAuE,qFAAqF,kFAAkF,4FAA4F,0EAA0E,iJAAiJ,iFAAiF,2BAA2B,EAAE,cAAc,oCAAoC,aAAa,SAAS,oBAAoB,uCAAuC,YAAY,uEAAuE,oCAAoC,8BAA8B,+BAA+B,+TAA+T,yyBAAyyB,ykCAAykC,mDAAmD,EAAE,SAAS,IAAI,eAAe,YAAY,QAAQ,oCAAoC,kBAAkB,8BAA8B,OAAO,EAAE,+BAA+B,yBAAyB,EAAE,SAAS,KAAK","sources":["webpack:///projects_hslayers_components_info_index_ts.js"],"sourcesContent":["\"use strict\";(self.webpackChunkhslayers_app=self.webpackChunkhslayers_app||[]).push([[\"projects_hslayers_components_info_index_ts\"],{22004:(E,r,e)=>{e.r(r),e.d(r,{HsInfoComponent:()=>I,HsInfoModule:()=>R});var h=e(21413),a=e(56977),m=e(96354),l=e(25849),d=e(88716),t=e(93953),f=e(22187),c=e(60177),u=e(31968);function v(o,p){if(1&o&&(t.j41(0,\"span\"),t.EFF(1),t.k0s()),2&o){const s=p.$implicit;t.R7$(),t.SpI(\"\",s,\" \")}}function y(o,p){if(1&o&&(t.j41(0,\"div\",2)(1,\"div\",14),t.nrm(2,\"span\",15),t.k0s(),t.j41(3,\"div\",16)(4,\"div\",17),t.EFF(5),t.nI1(6,\"translateHs\"),t.k0s(),t.DNE(7,v,2,1,\"span\",18),t.k0s()()),2&o){const s=t.XpG();t.Y8G(\"hidden\",!s.layer_loading.length),t.R7$(5),t.SpI(\"\",t.bMT(6,4,\"COMMON.loading\"),\": \"),t.R7$(2),t.Y8G(\"ngForOf\",s.layer_loading)(\"ngForTrackBy\",s.trackByFn)}}function g(o,p){1&o&&(t.j41(0,\"div\",19)(1,\"div\",20)(2,\"div\",21),t.nI1(3,\"translateHs\"),t.EFF(4),t.nI1(5,\"translateHs\"),t.k0s()()()),2&o&&(t.R7$(2),t.Y8G(\"title\",t.bMT(3,2,\"INFOCOMPONENT.viewComposeAndAnalyse\")),t.R7$(2),t.SpI(\" \",t.bMT(5,4,\"INFOCOMPONENT.newMap\"),\"\"))}function b(o,p){if(1&o&&(t.j41(0,\"div\",22)(1,\"div\",20)(2,\"div\",23)(3,\"div\",17),t.EFF(4),t.nI1(5,\"translateHs\"),t.k0s(),t.j41(6,\"span\",16),t.EFF(7),t.k0s()(),t.j41(8,\"div\",24),t.EFF(9),t.k0s()()()),2&o){const s=t.XpG();t.R7$(4),t.JRh(t.bMT(5,3,\"COMMON.composition\")),t.R7$(3),t.SpI(\": \",s.composition_title,\"\"),t.R7$(2),t.JRh(s.composition_abstract)}}let I=(()=>{class o extends l.Bh{constructor(s){super(),this.hsEventBusService=s,this.composition_loaded=!0,this.layer_loading=[],this.end=new h.B,this.showLayerLoading=this.hsLayoutService.mainpanel$.pipe((0,a.Q)(this.end),(0,m.T)(n=>\"layerManager\"!==n)),this.name=\"info\",this.hsEventBusService.compositionLoads.pipe((0,a.Q)(this.end)).subscribe(n=>{if(void 0!==n.error){const i=this.composition_abstract,$=this.composition_title;this.composition_abstract=n.abstract,this.composition_title=n.title,this.composition_title=$,this.composition_abstract=i}this.composition_loaded=!0,this.composition_edited=!1}),this.hsEventBusService.layerLoading.pipe((0,a.Q)(this.end)).subscribe(({layer:n})=>{this.layer_loading.includes((0,d.LK)(n))||(this.layer_loading.push((0,d.LK)(n)),this.composition_loaded=!1)}),this.hsEventBusService.layerLoaded.pipe((0,a.Q)(this.end)).subscribe(n=>{for(let i=0;i<this.layer_loading.length;i++)this.layer_loading[i]==(0,d.LK)(n)&&this.layer_loading.splice(i,1);0==this.layer_loading.length&&!this.composition_loaded&&(this.composition_loaded=!0)}),this.hsEventBusService.compositionDeletes.pipe((0,a.Q)(this.end)).subscribe(n=>{n.id==this.composition_id&&(delete this.composition_title,delete this.composition_abstract)}),this.hsEventBusService.mapResets.pipe((0,a.Q)(this.end)).subscribe(()=>{delete this.composition_title,delete this.composition_abstract,this.layer_loading.length=0,this.composition_loaded=!0,this.composition_edited=!1}),this.hsEventBusService.compositionEdits.pipe((0,a.Q)(this.end)).subscribe(()=>{this.composition_edited=!0})}ngOnDestroy(){this.end.next(),this.end.complete()}trackByFn(s){return s}compositionLoaded(){return void 0!==this.composition_title}isVisible(){return this.hsLayoutService.panelEnabled(\"compositionLoadingProgress\")}static#t=this.\\u0275fac=function(n){return new(n||o)(t.rXU(f.z))};static#i=this.\\u0275cmp=t.VBU({type:o,selectors:[[\"hs-info\"]],features:[t.Vt3],decls:19,vars:20,consts:[[1,\"hs-info-container\",3,\"hidden\"],[1,\"hs-info-area\",\"p-1\"],[1,\"hs-info-layers\",\"justify-content-start\",\"align-items-center\",2,\"display\",\"flex\",\"box-sizing\",\"content-box\",3,\"hidden\"],[\"class\",\"hs-info-composition\",\"style\",\"max-width: max-content;\",4,\"ngIf\"],[1,\"hs-info-composition-edited\",3,\"hidden\"],[\"class\",\"hs-info-composition\",4,\"ngIf\"],[3,\"title\"],[\"property\",\"og:title\",3,\"content\"],[\"property\",\"twitter:title\",3,\"content\"],[\"itemprop\",\"title\",3,\"content\"],[\"name\",\"description\",3,\"content\"],[\"property\",\"og:description\",3,\"content\"],[\"property\",\"twitter:description\",3,\"content\"],[\"itemprop\",\"description\",3,\"content\"],[1,\"hs-info-composition-image\"],[1,\"icon-refresh\",\"icon-spin\"],[1,\"text-truncate\"],[1,\"hs-info-composition-title\"],[4,\"ngFor\",\"ngForOf\",\"ngForTrackBy\"],[1,\"hs-info-composition\",2,\"max-width\",\"max-content\"],[1,\"hs-info-composition-container\"],[1,\"hs-info-composition-title\",3,\"title\"],[1,\"hs-info-composition\"],[1,\"hs-info-composition-title-container\"],[1,\"hs-info-composition-abstract\",\"text-truncate\"]],template:function(n,i){1&n&&(t.j41(0,\"div\",0),t.nI1(1,\"async\"),t.j41(2,\"div\",1),t.DNE(3,y,8,6,\"div\",2),t.nI1(4,\"async\"),t.DNE(5,g,6,6,\"div\",3),t.j41(6,\"div\",4)(7,\"span\"),t.EFF(8),t.nI1(9,\"translateHs\"),t.k0s()(),t.DNE(10,b,10,5,\"div\",5),t.nrm(11,\"update-title\",6)(12,\"update-meta\",7)(13,\"update-meta\",8)(14,\"update-meta\",9)(15,\"update-meta\",10)(16,\"update-meta\",11)(17,\"update-meta\",12)(18,\"update-meta\",13),t.k0s()()),2&n&&(t.Y8G(\"hidden\",!1===t.bMT(1,14,i.isVisible$)),t.R7$(3),t.vxM(t.bMT(4,16,i.showLayerLoading)?3:-1),t.R7$(2),t.Y8G(\"ngIf\",!i.compositionLoaded()&&!i.composition_edited),t.R7$(),t.Y8G(\"hidden\",!i.composition_edited),t.R7$(2),t.JRh(t.bMT(9,18,\"INFOCOMPONENT.youHaveUnsavedChanges\")),t.R7$(2),t.Y8G(\"ngIf\",i.compositionLoaded()),t.R7$(),t.Y8G(\"title\",i.composition_title),t.R7$(),t.Y8G(\"content\",i.composition_title),t.R7$(),t.Y8G(\"content\",i.composition_title),t.R7$(),t.Y8G(\"content\",i.composition_title),t.R7$(),t.Y8G(\"content\",i.composition_abstract),t.R7$(),t.Y8G(\"content\",i.composition_abstract),t.R7$(),t.Y8G(\"content\",i.composition_abstract),t.R7$(),t.Y8G(\"content\",i.composition_abstract))},dependencies:[c.Sq,c.bT,c.Jj,u.q],encapsulation:2})}return o})();var F=e(89417);let R=(()=>{class o{static#t=this.\\u0275fac=function(n){return new(n||o)};static#i=this.\\u0275mod=t.$C({type:o});static#o=this.\\u0275inj=t.G2t({imports:[F.YN,c.MD,l.Zz]})}return o})()}}]);"],"names":[],"sourceRoot":""}