"use strict";(self.webpackChunkhslayers_app=self.webpackChunkhslayers_app||[]).push([["default-node_modules_ol_format_KML_js"],{36398:($e,Z,E)=>{E.r(Z),E.d(Z,{default:()=>zn,getDefaultFillStyle:()=>st,getDefaultImageStyle:()=>at,getDefaultStrokeStyle:()=>ct,getDefaultStyle:()=>mt,getDefaultStyleArray:()=>dt,getDefaultTextStyle:()=>ut,readFlatCoordinates:()=>de});var ie=E(34958),v=E(75637),F=E(6517),P=E(73117),U=E(47068),V=E(16558),le=E(39559),f=E(5340),y=E(8932),D=E(48791),w=E(98695),se=E(84688),k=E(21043),Se=E(443),je=E(61725),n=E(63945),He=E(67065),L=E(29609),Je=E(87549),u=E(24957),qe=E(98092),Re=E(62112);const x=["http://www.google.com/kml/ext/2.2"],m=[null,"http://earth.google.com/kml/2.0","http://earth.google.com/kml/2.1","http://earth.google.com/kml/2.2","http://www.opengis.net/kml/2.2"],De={fraction:"fraction",pixels:"pixels",insetPixels:"pixels"},tt=(0,n.Dm)(m,{ExtendedData:Ue,Region:Ye,MultiGeometry:(0,n.kW)(Me,"geometry"),LineString:(0,n.kW)(Fe,"geometry"),LinearRing:(0,n.kW)(xe,"geometry"),Point:(0,n.kW)(we,"geometry"),Polygon:(0,n.kW)(Ce,"geometry"),Style:(0,n.kW)(ge),StyleMap:function bt(i,e){const t=Te.call(this,i,e);if(!t)return;const o=e[e.length-1];if(Array.isArray(t))o.Style=t;else{if("string"!=typeof t)throw new Error("`styleMapValue` has an unknown type");o.styleUrl=t}},address:(0,n.kW)(u.E3),description:(0,n.kW)(u.E3),name:(0,n.kW)(u.E3),open:(0,n.kW)(u.Vf),phoneNumber:(0,n.kW)(u.E3),styleUrl:(0,n.kW)(pe),visibility:(0,n.kW)(u.Vf)},(0,n.Dm)(x,{MultiTrack:(0,n.kW)(function xt(i,e){const t=(0,n.eY)([],Ft,i,e);if(t)return new le.A(t)},"geometry"),Track:(0,n.kW)(Oe,"geometry")})),nt=(0,n.Dm)(m,{ExtendedData:Ue,Region:Ye,Link:function nn(i,e){(0,n.UN)(ot,i,e)},address:(0,n.kW)(u.E3),description:(0,n.kW)(u.E3),name:(0,n.kW)(u.E3),open:(0,n.kW)(u.Vf),phoneNumber:(0,n.kW)(u.E3),visibility:(0,n.kW)(u.Vf)}),ot=(0,n.Dm)(m,{href:(0,n.kW)(Ne)}),rt=(0,n.Dm)(m,{Altitude:(0,n.kW)(u.e4),Longitude:(0,n.kW)(u.e4),Latitude:(0,n.kW)(u.e4),Tilt:(0,n.kW)(u.e4),AltitudeMode:(0,n.kW)(u.E3),Heading:(0,n.kW)(u.e4),Roll:(0,n.kW)(u.e4)}),Ae=(0,n.Dm)(m,{LatLonAltBox:function $t(i,e){const t=(0,n.eY)({},Vt,i,e);if(!t)return;const o=e[e.length-1],r=[parseFloat(t.west),parseFloat(t.south),parseFloat(t.east),parseFloat(t.north)];o.extent=r,o.altitudeMode=t.altitudeMode,o.minAltitude=parseFloat(t.minAltitude),o.maxAltitude=parseFloat(t.maxAltitude)},Lod:function Ht(i,e){const t=(0,n.eY)({},jt,i,e);if(!t)return;const o=e[e.length-1];o.minLodPixels=parseFloat(t.minLodPixels),o.maxLodPixels=parseFloat(t.maxLodPixels),o.minFadeExtent=parseFloat(t.minFadeExtent),o.maxFadeExtent=parseFloat(t.maxFadeExtent)}}),it=(0,n.Dm)(m,["Document","Placemark"]),lt=(0,n.Dm)(m,{Document:(0,n.mm)(function mn(i,e,t){(0,n.NQ)({node:i},cn,un,e,t,void 0,this)}),Placemark:(0,n.mm)(Xe)});let W,B=null;function st(){return B}let ae,X,K,b,$,j=null;function at(){return j}let ce,H=null;function ct(){return H}let ue,C=null;function ut(){return C}let me=null;function mt(){return me}let ee,J=null;function dt(){return J}function q(i){return 32/Math.min(i[0],i[1])}function gt(i){return i}function Le(i,e,t){return Array.isArray(i)?i:"string"==typeof i?Le(t[i],e,t):e}function te(i){const e=(0,n.mT)(i,!1),t=/^\s*#?\s*([0-9A-Fa-f]{8})\s*$/.exec(e);if(t){const o=t[1];return[parseInt(o.substr(6,2),16),parseInt(o.substr(4,2),16),parseInt(o.substr(2,2),16),parseInt(o.substr(0,2),16)/255]}}function de(i){let e=(0,n.mT)(i,!1);const t=[];e=e.replace(/\s*,\s*/g,",");const o=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?),([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)(?:\s+|,|$)(?:([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)(?:\s+|$))?\s*/i;let r;for(;r=o.exec(e);){const l=parseFloat(r[1]),s=parseFloat(r[2]),a=r[3]?parseFloat(r[3]):0;t.push(l,s,a),e=e.substr(r[0].length)}if(""===e)return t}function Ne(i){const e=(0,n.mT)(i,!1).trim();let t=i.baseURI;return(!t||"about:blank"==t)&&(t=window.location.href),t?new URL(e,t).href:e}function pe(i){const e=(0,n.mT)(i,!1).trim().replace(/^(?!.*#)/,"#");let t=i.baseURI;return(!t||"about:blank"==t)&&(t=window.location.href),t?new URL(e,t).href:e}function Pe(i){return(0,u.e4)(i)}const St=(0,n.Dm)(m,{Pair:function Kt(i,e){const t=(0,n.eY)({},Xt,i,e,this);if(!t)return;const o=t.key;if(o&&"normal"==o){const r=t.styleUrl;r&&(e[e.length-1]=r);const l=t.Style;l&&(e[e.length-1]=l)}}});function Te(i,e){return(0,n.eY)(void 0,St,i,e,this)}const Rt=(0,n.Dm)(m,{Icon:(0,n.kW)(function Ct(i,e){return(0,n.eY)({},wt,i,e)||null}),color:(0,n.kW)(te),heading:(0,n.kW)(u.e4),hotSpot:(0,n.kW)(function ht(i){const e=i.getAttribute("xunits"),t=i.getAttribute("yunits");let o;return o="insetPixels"!==e?"insetPixels"!==t?"bottom-left":"top-left":"insetPixels"!==t?"bottom-right":"top-right",{x:parseFloat(i.getAttribute("x")),xunits:De[e],y:parseFloat(i.getAttribute("y")),yunits:De[t],origin:o}}),scale:(0,n.kW)(Pe)}),At=(0,n.Dm)(m,{color:(0,n.kW)(te),scale:(0,n.kW)(Pe)}),Nt=(0,n.Dm)(m,{color:(0,n.kW)(te),width:(0,n.kW)(u.e4)}),Pt=(0,n.Dm)(m,{color:(0,n.kW)(te),fill:(0,n.kW)(u.Vf),outline:(0,n.kW)(u.Vf)}),It=(0,n.Dm)(m,{coordinates:(0,n.Tb)(de)});function Ie(i,e){return(0,n.eY)(null,It,i,e)}const Ft=(0,n.Dm)(x,{Track:(0,n.VT)(Oe)}),Mt=(0,n.Dm)(m,{when:function on(i,e){const o=e[e.length-1].whens,r=(0,n.mT)(i,!1),l=Date.parse(r);o.push(isNaN(l)?0:l)}},(0,n.Dm)(x,{coord:function Ot(i,e){const o=e[e.length-1].coordinates,r=(0,n.mT)(i,!1),s=/^\s*([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s+([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s+([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s*$/i.exec(r);if(s){const a=parseFloat(s[1]),c=parseFloat(s[2]),d=parseFloat(s[3]);o.push([a,c,d])}else o.push([])}}));function Oe(i,e){const t=(0,n.eY)({coordinates:[],whens:[]},Mt,i,e);if(!t)return;const o=[],r=t.coordinates,l=t.whens;for(let s=0,a=Math.min(r.length,l.length);s<a;++s)3==r[s].length&&o.push(r[s][0],r[s][1],r[s][2],l[s]);return new V.default(o,"XYZM")}const wt=(0,n.Dm)(m,{href:(0,n.kW)(Ne)},(0,n.Dm)(x,{x:(0,n.kW)(u.e4),y:(0,n.kW)(u.e4),w:(0,n.kW)(u.e4),h:(0,n.kW)(u.e4)})),Ut=(0,n.Dm)(m,{coordinates:(0,n.Tb)(de)});function fe(i,e){return(0,n.eY)(null,Ut,i,e)}const ne=(0,n.Dm)(m,{extrude:(0,n.kW)(u.Vf),tessellate:(0,n.kW)(u.Vf),altitudeMode:(0,n.kW)(u.E3)});function Fe(i,e){const t=(0,n.eY)({},ne,i,e),o=fe(i,e);if(o){const r=new V.default(o,"XYZ");return r.setProperties(t,!0),r}}function xe(i,e){const t=(0,n.eY)({},ne,i,e),o=fe(i,e);if(o){const r=new w.default(o,"XYZ",[o.length]);return r.setProperties(t,!0),r}}const Yt=(0,n.Dm)(m,{LineString:(0,n.VT)(Fe),LinearRing:(0,n.VT)(xe),MultiGeometry:(0,n.VT)(Me),Point:(0,n.VT)(we),Polygon:(0,n.VT)(Ce)});function Me(i,e){const t=(0,n.eY)([],Yt,i,e);if(!t)return null;if(0===t.length)return new F.A(t);let o,r=!0;const l=t[0].getType();let s;for(let a=1,c=t.length;a<c;++a)if(s=t[a],s.getType()!=l){r=!1;break}if(r){let a,c;if("Point"==l){const d=t[0];a=d.getLayout(),c=d.getFlatCoordinates();for(let g=1,_=t.length;g<_;++g)s=t[g],(0,L.X$)(c,s.getFlatCoordinates());o=new f.A(c,a),ye(o,t)}else if("LineString"==l)o=new le.A(t),ye(o,t);else if("Polygon"==l)o=new y.A(t),ye(o,t);else{if("GeometryCollection"!=l)throw new Error("Unknown geometry type found");o=new F.A(t)}}else o=new F.A(t);return o}function we(i,e){const t=(0,n.eY)({},ne,i,e),o=fe(i,e);if(o){const r=new D.default(o,"XYZ");return r.setProperties(t,!0),r}}const kt=(0,n.Dm)(m,{innerBoundaryIs:function qt(i,e){const t=(0,n.eY)([],Jt,i,e);t.length>0&&e[e.length-1].push(...t)},outerBoundaryIs:function tn(i,e){const t=(0,n.eY)(void 0,en,i,e);t&&(e[e.length-1][0]=t)}});function Ce(i,e){const t=(0,n.eY)({},ne,i,e),o=(0,n.eY)([null],kt,i,e);if(o&&o[0]){const r=o[0],l=[r.length];for(let a=1,c=o.length;a<c;++a)(0,L.X$)(r,o[a]),l.push(r.length);const s=new w.default(r,"XYZ",l);return s.setProperties(t,!0),s}}const Wt=(0,n.Dm)(m,{IconStyle:function Dt(i,e){const t=(0,n.eY)({},Rt,i,e);if(!t)return;const o=e[e.length-1],r="Icon"in t?t.Icon:{},l=!("Icon"in t)||Object.keys(r).length>0;let s;const a=r.href;a?s=a:l&&(s=$);let c,d,g,_="bottom-left";const h=t.hotSpot;let S;h?(c=[h.x,h.y],d=h.xunits,g=h.yunits,_=h.origin):/^https?:\/\/maps\.(?:google|gstatic)\.com\//.test(s)&&(s.includes("pushpin")?(c=ae,d=X,g=K):s.includes("arrow-reverse")?(c=[54,42],d=X,g=K):s.includes("paddle")&&(c=[32,1],d=X,g=K));const R=r.x,M=r.y;let A;void 0!==R&&void 0!==M&&(S=[R,M]);const N=r.w,T=r.h;let I;void 0!==N&&void 0!==T&&(A=[N,T]);const p=t.heading;void 0!==p&&(I=(0,qe.eh)(p));const Y=t.color;if(l){s==$&&(A=b);const O=new P.default({anchor:c,anchorOrigin:_,anchorXUnits:d,anchorYUnits:g,crossOrigin:this.crossOrigin_,offset:S,offsetOrigin:"bottom-left",rotation:I,scale:t.scale,size:A,src:this.iconUrlFunction_(s),color:Y}),Qe=O.getScaleArray()[0],_e=O.getSize();if(null===_e){const Q=O.getImageState();if(Q===U.default.IDLE||Q===U.default.LOADING){const Ze=function(){const Ve=O.getImageState();if(Ve!==U.default.IDLE&&Ve!==U.default.LOADING){const he=O.getSize();if(he&&2==he.length){const Qn=q(he);O.setScale(Qe*Qn)}O.unlistenImageChange(Ze)}};O.listenImageChange(Ze),Q===U.default.IDLE&&O.load()}}else if(2==_e.length){const Q=q(_e);O.setScale(Qe*Q)}o.imageStyle=O}else o.imageStyle=ce},LabelStyle:function Lt(i,e){const t=(0,n.eY)({},At,i,e);if(!t)return;const o=e[e.length-1],r=new Se.default({fill:new v.default({color:"color"in t?t.color:W}),scale:t.scale});o.textStyle=r},LineStyle:function pt(i,e){const t=(0,n.eY)({},Nt,i,e);if(!t)return;const o=e[e.length-1],r=new se.default({color:"color"in t?t.color:W,width:"width"in t?t.width:1});o.strokeStyle=r},PolyStyle:function Tt(i,e){const t=(0,n.eY)({},Pt,i,e);if(!t)return;const o=e[e.length-1],r=new v.default({color:"color"in t?t.color:W});o.fillStyle=r;const l=t.fill;void 0!==l&&(o.fill=l);const s=t.outline;void 0!==s&&(o.outline=s)}});function ge(i,e){const t=(0,n.eY)({},Wt,i,e,this);if(!t)return null;let o="fillStyle"in t?t.fillStyle:B;const r=t.fill;let l;void 0!==r&&!r&&(o=null),"imageStyle"in t?t.imageStyle!=ce&&(l=t.imageStyle):l=j;const s="textStyle"in t?t.textStyle:C,a="strokeStyle"in t?t.strokeStyle:H,c=t.outline;return void 0===c||c?[new k.default({fill:o,image:l,stroke:a,text:s,zIndex:void 0})]:[new k.default({geometry:function(d){const g=d.getGeometry(),_=g.getType();return"GeometryCollection"===_?new F.A(g.getGeometriesArrayRecursive().filter(function(S){const R=S.getType();return"Polygon"!==R&&"MultiPolygon"!==R})):"Polygon"!==_&&"MultiPolygon"!==_?g:void 0},fill:o,image:l,stroke:a,text:s,zIndex:void 0}),new k.default({geometry:function(d){const g=d.getGeometry(),_=g.getType();return"GeometryCollection"===_?new F.A(g.getGeometriesArrayRecursive().filter(function(S){const R=S.getType();return"Polygon"===R||"MultiPolygon"===R})):"Polygon"===_||"MultiPolygon"===_?g:void 0},fill:o,stroke:null,zIndex:void 0})]}function ye(i,e){const t=e.length,o=new Array(e.length),r=new Array(e.length),l=new Array(e.length);let s,a,c;s=!1,a=!1,c=!1;for(let d=0;d<t;++d){const g=e[d];o[d]=g.get("extrude"),r[d]=g.get("tessellate"),l[d]=g.get("altitudeMode"),s=s||void 0!==o[d],a=a||void 0!==r[d],c=c||l[d]}s&&i.set("extrude",o),a&&i.set("tessellate",r),c&&i.set("altitudeMode",l)}const Gt=(0,n.Dm)(m,{displayName:(0,n.kW)(u.E3),value:(0,n.kW)(u.E3)}),Bt=(0,n.Dm)(m,{Data:function vt(i,e){const t=i.getAttribute("name");(0,n.UN)(Gt,i,e);const o=e[e.length-1];t&&o.displayName?o[t]={value:o.value,displayName:o.displayName,toString:function(){return o.value}}:null!==t?o[t]=o.value:null!==o.displayName&&(o[o.displayName]=o.value),delete o.value},SchemaData:function Qt(i,e){(0,n.UN)(zt,i,e)}});function Ue(i,e){(0,n.UN)(Bt,i,e)}function Ye(i,e){(0,n.UN)(Ae,i,e)}const Xt=(0,n.Dm)(m,{Style:(0,n.kW)(ge),key:(0,n.kW)(u.E3),styleUrl:(0,n.kW)(pe)}),zt=(0,n.Dm)(m,{SimpleData:function Zt(i,e){const t=i.getAttribute("name");if(null!==t){const o=(0,u.E3)(i);e[e.length-1][t]=o}}}),Vt=(0,n.Dm)(m,{altitudeMode:(0,n.kW)(u.E3),minAltitude:(0,n.kW)(u.e4),maxAltitude:(0,n.kW)(u.e4),north:(0,n.kW)(u.e4),south:(0,n.kW)(u.e4),east:(0,n.kW)(u.e4),west:(0,n.kW)(u.e4)}),jt=(0,n.Dm)(m,{minLodPixels:(0,n.kW)(u.e4),maxLodPixels:(0,n.kW)(u.e4),minFadeExtent:(0,n.kW)(u.e4),maxFadeExtent:(0,n.kW)(u.e4)}),Jt=(0,n.Dm)(m,{LinearRing:(0,n.VT)(Ie)}),en=(0,n.Dm)(m,{LinearRing:(0,n.Tb)(Ie)});function oe(i,e){const t=(0,He._j)(e),r=[255*(4==t.length?t[3]:1),t[2],t[1],t[0]];for(let l=0;l<4;++l){const s=Math.floor(r[l]).toString(16);r[l]=1==s.length?"0"+s:s}(0,u.uB)(i,r.join(""))}const re=(0,n.Dm)(m,{Data:(0,n.mm)(function ln(i,e,t){i.setAttribute("name",e.name);const o={node:i},r=e.value;"object"==typeof r?(null!==r&&r.displayName&&(0,n.NQ)(o,re,n.OL,[r.displayName],t,["displayName"]),null!==r&&r.value&&(0,n.NQ)(o,re,n.OL,[r.value],t,["value"])):(0,n.NQ)(o,re,n.OL,[r],t,["value"])}),value:(0,n.mm)(function an(i,e){(0,u.uB)(i,e)}),displayName:(0,n.mm)(function sn(i,e){(0,u.Gc)(i,e)})}),cn=(0,n.Dm)(m,{Placemark:(0,n.mm)(Xe)}),un=function(i,e,t){return(0,n.qq)(e[e.length-1].node.namespaceURI,"Placemark")},dn=(0,n.X1)("Data"),ke=(0,n.Dm)(m,["href"],(0,n.Dm)(x,["x","y","w","h"])),We=(0,n.Dm)(m,{href:(0,n.mm)(u.uB)},(0,n.Dm)(x,{x:(0,n.mm)(u.Ko),y:(0,n.mm)(u.Ko),w:(0,n.mm)(u.Ko),h:(0,n.mm)(u.Ko)})),gn=function(i,e,t){return(0,n.qq)(x[0],"gx:"+t)},En=(0,n.Dm)(m,["scale","heading","Icon","color","hotSpot"]),_n=(0,n.Dm)(m,{Icon:(0,n.mm)(function yn(i,e,t){const o={node:i};let l=ke[t[t.length-1].node.namespaceURI],s=(0,n.Gl)(e,l);(0,n.NQ)(o,We,n.OL,s,t,l),l=ke[x[0]],s=(0,n.Gl)(e,l),(0,n.NQ)(o,We,gn,s,t,l)}),color:(0,n.mm)(oe),heading:(0,n.mm)(u.Ko),hotSpot:(0,n.mm)(function bn(i,e){i.setAttribute("x",String(e.x)),i.setAttribute("y",String(e.y)),i.setAttribute("xunits",e.xunits),i.setAttribute("yunits",e.yunits)}),scale:(0,n.mm)(ze)}),Sn=(0,n.Dm)(m,["color","scale"]),Rn=(0,n.Dm)(m,{color:(0,n.mm)(oe),scale:(0,n.mm)(ze)}),An=(0,n.Dm)(m,["color","width"]),Ln=(0,n.Dm)(m,{color:(0,n.mm)(oe),width:(0,n.mm)(u.Ko)}),pn={Point:"Point",LineString:"LineString",LinearRing:"LinearRing",Polygon:"Polygon",MultiPoint:"MultiGeometry",MultiLineString:"MultiGeometry",MultiPolygon:"MultiGeometry",GeometryCollection:"MultiGeometry"},Ge=function(i,e,t){if(i)return(0,n.qq)(e[e.length-1].node.namespaceURI,pn[i.getType()])},Pn=(0,n.X1)("Point"),Tn=(0,n.X1)("LineString"),In=(0,n.X1)("LinearRing"),On=(0,n.X1)("Polygon"),Fn=(0,n.Dm)(m,{LineString:(0,n.mm)(G),Point:(0,n.mm)(G),Polygon:(0,n.mm)(be),GeometryCollection:(0,n.mm)(ve)});function ve(i,e,t){const o={node:i},r=e.getType();let s,l=[];if("GeometryCollection"===r)e.getGeometriesArrayRecursive().forEach(function(a){const c=a.getType();if("MultiPoint"===c)l=l.concat(a.getPoints());else if("MultiLineString"===c)l=l.concat(a.getLineStrings());else if("MultiPolygon"===c)l=l.concat(a.getPolygons());else{if("Point"!==c&&"LineString"!==c&&"Polygon"!==c)throw new Error("Unknown geometry type");l.push(a)}}),s=Ge;else if("MultiPoint"===r)l=e.getPoints(),s=Pn;else if("MultiLineString"===r)l=e.getLineStrings(),s=Tn;else{if("MultiPolygon"!==r)throw new Error("Unknown geometry type");l=e.getPolygons(),s=On}(0,n.NQ)(o,Fn,s,l,t)}const xn=(0,n.Dm)(m,{LinearRing:(0,n.mm)(G)});function Be(i,e,t){(0,n.NQ)({node:i},xn,In,[e],t)}const Ee=(0,n.Dm)(m,{ExtendedData:(0,n.mm)(function fn(i,e,t){const o={node:i},r=e.names,l=e.values,s=r.length;for(let a=0;a<s;a++)(0,n.NQ)(o,re,dn,[{name:r[a],value:l[a]}],t)}),MultiGeometry:(0,n.mm)(ve),LineString:(0,n.mm)(G),LinearRing:(0,n.mm)(G),Point:(0,n.mm)(G),Polygon:(0,n.mm)(be),Style:(0,n.mm)(function Kn(i,e,t){const o={node:i},r={};if(e.pointStyles.length){const c=e.pointStyles[0].getText();c&&(r.LabelStyle=c);const d=e.pointStyles[0].getImage();d&&"function"==typeof d.getSrc&&(r.IconStyle=d)}if(e.lineStyles.length){const c=e.lineStyles[0].getStroke();c&&(r.LineStyle=c)}if(e.polyStyles.length){const c=e.polyStyles[0].getStroke();c&&!r.LineStyle&&(r.LineStyle=c),r.PolyStyle=e.polyStyles[0]}const s=Bn[t[t.length-1].node.namespaceURI],a=(0,n.Gl)(r,s);(0,n.NQ)(o,Xn,n.OL,a,t,s)}),address:(0,n.mm)(u.uB),description:(0,n.mm)(u.uB),name:(0,n.mm)(u.uB),open:(0,n.mm)(u.Z3),phoneNumber:(0,n.mm)(u.uB),styleUrl:(0,n.mm)(u.uB),visibility:(0,n.mm)(u.Z3)}),Mn=(0,n.Dm)(m,["name","open","visibility","address","phoneNumber","description","styleUrl","Style"]),wn=(0,n.X1)("ExtendedData");function Xe(i,e,t){const o={node:i};e.getId()&&i.setAttribute("id",e.getId());const r=e.getProperties(),l={address:1,description:1,name:1,open:1,phoneNumber:1,styleUrl:1,visibility:1};l[e.getGeometryName()]=1;const s=Object.keys(r||{}).sort().filter(function(S){return!l[S]}),a=e.getStyleFunction();if(a){const S=a(e,0);if(S){const R=Array.isArray(S)?S:[S];let M=R;if(e.getGeometry()&&(M=R.filter(function(A){const N=A.getGeometryFunction()(e);if(N){const T=N.getType();return"GeometryCollection"===T?N.getGeometriesArrayRecursive().filter(function(I){const p=I.getType();return"Point"===p||"MultiPoint"===p}).length:"Point"===T||"MultiPoint"===T}})),this.writeStyles_){let A=R,N=R;e.getGeometry()&&(A=R.filter(function(T){const I=T.getGeometryFunction()(e);if(I){const p=I.getType();return"GeometryCollection"===p?I.getGeometriesArrayRecursive().filter(function(z){const Y=z.getType();return"LineString"===Y||"MultiLineString"===Y}).length:"LineString"===p||"MultiLineString"===p}}),N=R.filter(function(T){const I=T.getGeometryFunction()(e);if(I){const p=I.getType();return"GeometryCollection"===p?I.getGeometriesArrayRecursive().filter(function(z){const Y=z.getType();return"Polygon"===Y||"MultiPolygon"===Y}).length:"Polygon"===p||"MultiPolygon"===p}})),r.Style={pointStyles:M,lineStyles:A,polyStyles:N}}if(M.length&&void 0===r.name){const A=M[0].getText();A&&(r.name=A.getText())}}}const d=Mn[t[t.length-1].node.namespaceURI],g=(0,n.Gl)(r,d);if((0,n.NQ)(o,Ee,n.OL,g,t,d),s.length>0){const S=(0,n.Gl)(r,s);(0,n.NQ)(o,Ee,wn,[{names:s,values:S}],t)}const _=t[0];let h=e.getGeometry();h&&(h=(0,Re.hX)(h,!0,_)),(0,n.NQ)(o,Ee,Ge,[h],t)}const Cn=(0,n.Dm)(m,["extrude","tessellate","altitudeMode","coordinates"]),Un=(0,n.Dm)(m,{extrude:(0,n.mm)(u.Z3),tessellate:(0,n.mm)(u.Z3),altitudeMode:(0,n.mm)(u.uB),coordinates:(0,n.mm)(function rn(i,e,t){const o=t[t.length-1],r=o.layout,l=o.stride;let s;if("XY"==r||"XYM"==r)s=2;else{if("XYZ"!=r&&"XYZM"!=r)throw new Error("Invalid geometry layout");s=3}const a=e.length;let c="";if(a>0){c+=e[0];for(let d=1;d<s;++d)c+=","+e[d];for(let d=l;d<a;d+=l){c+=" "+e[d];for(let g=1;g<s;++g)c+=","+e[d+g]}}(0,u.uB)(i,c)})});function G(i,e,t){const o=e.getFlatCoordinates(),r={node:i};r.layout=e.getLayout(),r.stride=e.getStride();const l=e.getProperties();l.coordinates=o;const a=Cn[t[t.length-1].node.namespaceURI],c=(0,n.Gl)(l,a);(0,n.NQ)(r,Un,n.OL,c,t,a)}const Yn=(0,n.Dm)(m,["color","fill","outline"]),Ke=(0,n.Dm)(m,{outerBoundaryIs:(0,n.mm)(Be),innerBoundaryIs:(0,n.mm)(Be)}),kn=(0,n.X1)("innerBoundaryIs"),Wn=(0,n.X1)("outerBoundaryIs");function be(i,e,t){const o=e.getLinearRings(),r=o.shift(),l={node:i};(0,n.NQ)(l,Ke,kn,o,t),(0,n.NQ)(l,Ke,Wn,[r],t)}const Gn=(0,n.Dm)(m,{color:(0,n.mm)(oe),fill:(0,n.mm)(u.Z3),outline:(0,n.mm)(u.Z3)});function ze(i,e){(0,u.Ko)(i,Math.round(1e6*e)/1e6)}const Bn=(0,n.Dm)(m,["IconStyle","LabelStyle","LineStyle","PolyStyle"]),Xn=(0,n.Dm)(m,{IconStyle:(0,n.mm)(function hn(i,e,t){const o={node:i},r={},l=e.getSrc(),s=e.getSize(),a=e.getImageSize(),c={href:l};if(s){c.w=s[0],c.h=s[1];const A=e.getAnchor(),N=e.getOrigin();N&&a&&0!==N[0]&&N[1]!==s[1]&&(c.x=N[0],c.y=a[1]-(N[1]+s[1])),!A||A[0]===s[0]/2&&A[1]===s[1]/2||(r.hotSpot={x:A[0],xunits:"pixels",y:s[1]-A[1],yunits:"pixels"})}r.Icon=c;let d=e.getScaleArray()[0],g=s;null===g&&(g=b),2==g.length&&(d/=q(g)),1!==d&&(r.scale=d);const _=e.getRotation();0!==_&&(r.heading=_);const h=e.getColor();h&&(r.color=h);const R=En[t[t.length-1].node.namespaceURI],M=(0,n.Gl)(r,R);(0,n.NQ)(o,_n,n.OL,M,t,R)}),LabelStyle:(0,n.mm)(function Dn(i,e,t){const o={node:i},r={},l=e.getFill();l&&(r.color=l.getColor());const s=e.getScale();s&&1!==s&&(r.scale=s);const c=Sn[t[t.length-1].node.namespaceURI],d=(0,n.Gl)(r,c);(0,n.NQ)(o,Rn,n.OL,d,t,c)}),LineStyle:(0,n.mm)(function Nn(i,e,t){const o={node:i},r={color:e.getColor(),width:Number(e.getWidth())||1},s=An[t[t.length-1].node.namespaceURI],a=(0,n.Gl)(r,s);(0,n.NQ)(o,Ln,n.OL,a,t,s)}),PolyStyle:(0,n.mm)(function vn(i,e,t){const o={node:i},r=e.getFill(),l=e.getStroke(),s={color:r?r.getColor():void 0,fill:!!r&&void 0,outline:!!l&&void 0},c=Yn[t[t.length-1].node.namespaceURI],d=(0,n.Gl)(s,c);(0,n.NQ)(o,Gn,n.OL,d,t,c)})}),zn=class yt extends je.A{constructor(e){super(),e=e||{},J||function ft(){W=[255,255,255,1],B=new v.default({color:W}),ae=[20,2],X="pixels",K="pixels",b=[64,64],$="https://maps.google.com/mapfiles/kml/pushpin/ylw-pushpin.png",j=new P.default({anchor:ae,anchorOrigin:"bottom-left",anchorXUnits:X,anchorYUnits:K,crossOrigin:"anonymous",rotation:0,scale:q(b),size:b,src:$}),ce="NO_IMAGE",H=new se.default({color:W,width:1}),ue=new se.default({color:[51,51,51,1],width:2}),C=new Se.default({font:"bold 16px Helvetica",fill:B,stroke:ue,scale:.8}),me=new k.default({fill:B,image:j,text:C,stroke:H,zIndex:0}),J=[me]}(),this.dataProjection=(0,Je.get)("EPSG:4326"),this.defaultStyle_=e.defaultStyle?e.defaultStyle:J,this.extractStyles_=void 0===e.extractStyles||e.extractStyles,this.writeStyles_=void 0===e.writeStyles||e.writeStyles,this.sharedStyles_={},this.showPointNames_=void 0===e.showPointNames||e.showPointNames,this.crossOrigin_=void 0!==e.crossOrigin?e.crossOrigin:"anonymous",this.iconUrlFunction_=e.iconUrlFunction?e.iconUrlFunction:gt,this.supportedMediaTypes=["application/vnd.google-earth.kml+xml"]}readDocumentOrFolder_(e,t){const o=(0,n.Dm)(m,{Document:(0,n.Vh)(this.readDocumentOrFolder_,this),Folder:(0,n.Vh)(this.readDocumentOrFolder_,this),Placemark:(0,n.VT)(this.readPlacemark_,this),Style:this.readSharedStyle_.bind(this),StyleMap:this.readSharedStyleMap_.bind(this)}),r=(0,n.eY)([],o,e,t,this);if(r)return r}readPlacemark_(e,t){const o=(0,n.eY)({geometry:null},tt,e,t,this);if(!o)return;const r=new ie.default,l=e.getAttribute("id");null!==l&&r.setId(l);const a=o.geometry;if(a&&(0,Re.hX)(a,!1,t[0]),r.setGeometry(a),delete o.geometry,this.extractStyles_){const g=function _t(i,e,t,o,r){return function(l,s){let a=r,c="",d=[];if(a){const _=l.getGeometry();if(_)if(_ instanceof F.A)d=_.getGeometriesArrayRecursive().filter(function(h){const S=h.getType();return"Point"===S||"MultiPoint"===S}),a=d.length>0;else{const h=_.getType();a="Point"===h||"MultiPoint"===h}}a&&(c=l.get("name"),a=a&&!!c,a&&/&[^&]+;/.test(c)&&(ee||(ee=document.createElement("textarea")),ee.innerHTML=c,c=ee.value));let g=t;if(i?g=i:e&&(g=Le(e,t,o)),a){const _=function Et(i,e){const t=[0,0];let o="start";const r=i.getImage();if(r){const a=r.getSize();if(a&&2==a.length){const c=r.getScaleArray(),d=r.getAnchor();t[0]=c[0]*(a[0]-d[0]),t[1]=c[1]*(a[1]/2-d[1]),o="left"}}let l=i.getText();return l?(l=l.clone(),l.setFont(l.getFont()||C.getFont()),l.setScale(l.getScale()||C.getScale()),l.setFill(l.getFill()||C.getFill()),l.setStroke(l.getStroke()||ue)):l=C.clone(),l.setText(e),l.setOffsetX(t[0]),l.setOffsetY(t[1]),l.setTextAlign(o),new k.default({image:r,text:l})}(g[0],c);return d.length>0?(_.setGeometry(new F.A(d)),[_,new k.default({geometry:g[0].getGeometry(),image:null,fill:g[0].getFill(),stroke:g[0].getStroke(),text:null})].concat(g.slice(1))):_}return g}}(o.Style,o.styleUrl,this.defaultStyle_,this.sharedStyles_,this.showPointNames_);r.setStyle(g)}return delete o.Style,r.setProperties(o,!0),r}readSharedStyle_(e,t){const o=e.getAttribute("id");if(null!==o){const r=ge.call(this,e,t);if(r){let l,s=e.baseURI;(!s||"about:blank"==s)&&(s=window.location.href),l=s?new URL("#"+o,s).href:"#"+o,this.sharedStyles_[l]=r}}}readSharedStyleMap_(e,t){const o=e.getAttribute("id");if(null===o)return;const r=Te.call(this,e,t);if(!r)return;let l,s=e.baseURI;(!s||"about:blank"==s)&&(s=window.location.href),l=s?new URL("#"+o,s).href:"#"+o,this.sharedStyles_[l]=r}readFeatureFromNode(e,t){return m.includes(e.namespaceURI)&&this.readPlacemark_(e,[this.getReadOptions(e,t)])||null}readFeaturesFromNode(e,t){if(!m.includes(e.namespaceURI))return[];let o;const r=e.localName;if("Document"==r||"Folder"==r)return o=this.readDocumentOrFolder_(e,[this.getReadOptions(e,t)]),o||[];if("Placemark"==r){const l=this.readPlacemark_(e,[this.getReadOptions(e,t)]);return l?[l]:[]}if("kml"==r){o=[];for(let l=e.firstElementChild;l;l=l.nextElementSibling){const s=this.readFeaturesFromNode(l,t);s&&(0,L.X$)(o,s)}return o}return[]}readName(e){if(e){if("string"==typeof e){const t=(0,n.qg)(e);return this.readNameFromDocument(t)}return(0,n.wz)(e)?this.readNameFromDocument(e):this.readNameFromNode(e)}}readNameFromDocument(e){for(let t=e.firstChild;t;t=t.nextSibling)if(t.nodeType==Node.ELEMENT_NODE){const o=this.readNameFromNode(t);if(o)return o}}readNameFromNode(e){for(let t=e.firstElementChild;t;t=t.nextElementSibling)if(m.includes(t.namespaceURI)&&"name"==t.localName)return(0,u.E3)(t);for(let t=e.firstElementChild;t;t=t.nextElementSibling){const o=t.localName;if(m.includes(t.namespaceURI)&&("Document"==o||"Folder"==o||"Placemark"==o||"kml"==o)){const r=this.readNameFromNode(t);if(r)return r}}}readNetworkLinks(e){const t=[];if("string"==typeof e){const o=(0,n.qg)(e);(0,L.X$)(t,this.readNetworkLinksFromDocument(o))}else(0,n.wz)(e)?(0,L.X$)(t,this.readNetworkLinksFromDocument(e)):(0,L.X$)(t,this.readNetworkLinksFromNode(e));return t}readNetworkLinksFromDocument(e){const t=[];for(let o=e.firstChild;o;o=o.nextSibling)o.nodeType==Node.ELEMENT_NODE&&(0,L.X$)(t,this.readNetworkLinksFromNode(o));return t}readNetworkLinksFromNode(e){const t=[];for(let o=e.firstElementChild;o;o=o.nextElementSibling)if(m.includes(o.namespaceURI)&&"NetworkLink"==o.localName){const r=(0,n.eY)({},nt,o,[]);t.push(r)}for(let o=e.firstElementChild;o;o=o.nextElementSibling){const r=o.localName;m.includes(o.namespaceURI)&&("Document"==r||"Folder"==r||"kml"==r)&&(0,L.X$)(t,this.readNetworkLinksFromNode(o))}return t}readRegion(e){const t=[];if("string"==typeof e){const o=(0,n.qg)(e);(0,L.X$)(t,this.readRegionFromDocument(o))}else(0,n.wz)(e)?(0,L.X$)(t,this.readRegionFromDocument(e)):(0,L.X$)(t,this.readRegionFromNode(e));return t}readRegionFromDocument(e){const t=[];for(let o=e.firstChild;o;o=o.nextSibling)o.nodeType==Node.ELEMENT_NODE&&(0,L.X$)(t,this.readRegionFromNode(o));return t}readRegionFromNode(e){const t=[];for(let o=e.firstElementChild;o;o=o.nextElementSibling)if(m.includes(o.namespaceURI)&&"Region"==o.localName){const r=(0,n.eY)({},Ae,o,[]);t.push(r)}for(let o=e.firstElementChild;o;o=o.nextElementSibling){const r=o.localName;m.includes(o.namespaceURI)&&("Document"==r||"Folder"==r||"kml"==r)&&(0,L.X$)(t,this.readRegionFromNode(o))}return t}readCamera(e){const t=[];if("string"==typeof e){const o=(0,n.qg)(e);(0,L.X$)(t,this.readCameraFromDocument(o))}else(0,n.wz)(e)?(0,L.X$)(t,this.readCameraFromDocument(e)):(0,L.X$)(t,this.readCameraFromNode(e));return t}readCameraFromDocument(e){const t=[];for(let o=e.firstChild;o;o=o.nextSibling)o.nodeType===Node.ELEMENT_NODE&&(0,L.X$)(t,this.readCameraFromNode(o));return t}readCameraFromNode(e){const t=[];for(let o=e.firstElementChild;o;o=o.nextElementSibling)if(m.includes(o.namespaceURI)&&"Camera"===o.localName){const r=(0,n.eY)({},rt,o,[]);t.push(r)}for(let o=e.firstElementChild;o;o=o.nextElementSibling){const r=o.localName;m.includes(o.namespaceURI)&&("Document"===r||"Folder"===r||"Placemark"===r||"kml"===r)&&(0,L.X$)(t,this.readCameraFromNode(o))}return t}writeFeaturesNode(e,t){t=this.adaptOptions(t);const o=(0,n.qq)(m[4],"kml"),r="http://www.w3.org/2000/xmlns/";o.setAttributeNS(r,"xmlns:gx",x[0]),o.setAttributeNS(r,"xmlns:xsi",n.pF),o.setAttributeNS(n.pF,"xsi:schemaLocation","http://www.opengis.net/kml/2.2 https://developers.google.com/kml/schema/kml22gx.xsd");const l={node:o},s={};e.length>1?s.Document=e:1==e.length&&(s.Placemark=e[0]);const a=it[o.namespaceURI],c=(0,n.Gl)(s,a);return(0,n.NQ)(l,lt,n.OL,c,[t],a,this),o}}},61725:($e,Z,E)=>{E.d(Z,{A:()=>V});var ie=E(62112),v=E(38618),F=E(29609),P=E(63945);const V=class U extends ie.Ay{constructor(){super(),this.xmlSerializer_=(0,P.mc)()}getType(){return"xml"}readFeature(f,y){if(!f)return null;if("string"==typeof f){const D=(0,P.qg)(f);return this.readFeatureFromDocument(D,y)}return(0,P.wz)(f)?this.readFeatureFromDocument(f,y):this.readFeatureFromNode(f,y)}readFeatureFromDocument(f,y){const D=this.readFeaturesFromDocument(f,y);return D.length>0?D[0]:null}readFeatureFromNode(f,y){return null}readFeatures(f,y){if(!f)return[];if("string"==typeof f){const D=(0,P.qg)(f);return this.readFeaturesFromDocument(D,y)}return(0,P.wz)(f)?this.readFeaturesFromDocument(f,y):this.readFeaturesFromNode(f,y)}readFeaturesFromDocument(f,y){const D=[];for(let w=f.firstChild;w;w=w.nextSibling)w.nodeType==Node.ELEMENT_NODE&&(0,F.X$)(D,this.readFeaturesFromNode(w,y));return D}readFeaturesFromNode(f,y){return(0,v.b0)()}readGeometry(f,y){if(!f)return null;if("string"==typeof f){const D=(0,P.qg)(f);return this.readGeometryFromDocument(D,y)}return(0,P.wz)(f)?this.readGeometryFromDocument(f,y):this.readGeometryFromNode(f,y)}readGeometryFromDocument(f,y){return null}readGeometryFromNode(f,y){return null}readProjection(f){if(!f)return null;if("string"==typeof f){const y=(0,P.qg)(f);return this.readProjectionFromDocument(y)}return(0,P.wz)(f)?this.readProjectionFromDocument(f):this.readProjectionFromNode(f)}readProjectionFromDocument(f){return this.dataProjection}readProjectionFromNode(f){return this.dataProjection}writeFeature(f,y){const D=this.writeFeatureNode(f,y);return this.xmlSerializer_.serializeToString(D)}writeFeatureNode(f,y){return null}writeFeatures(f,y){const D=this.writeFeaturesNode(f,y);return this.xmlSerializer_.serializeToString(D)}writeFeaturesNode(f,y){return null}writeGeometry(f,y){const D=this.writeGeometryNode(f,y);return this.xmlSerializer_.serializeToString(D)}writeGeometryNode(f,y){return null}}}}]);
//# sourceMappingURL=default-node_modules_ol_format_KML_js.js.map