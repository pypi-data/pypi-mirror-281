"use strict";(self.webpackChunkhslayers_cesium_app=self.webpackChunkhslayers_cesium_app||[]).push([[399],{30399:(J,y,u)=>{u.r(y),u.d(y,{default:()=>N});var m=u(94691),M=u(80797),h=u(76983),O=u(61552),D=u(61865),A=u(38713),j=u(49964),L=u(93812),C=u(45363),T=u(88315);const p={Point:function F(n,e,o){const t=n.coordinates;return e&&o&&g(t,e,o),new j.default(t)},LineString:function B(n,e){const o=d(n.arcs,e);return new h.default(o)},Polygon:function I(n,e){const o=[];for(let t=0,i=n.arcs.length;t<i;++t)o[t]=d(n.arcs[t],e);return new L.default(o)},MultiPoint:function S(n,e,o){const t=n.coordinates;if(e&&o)for(let i=0,s=t.length;i<s;++i)g(t[i],e,o);return new D.A(t)},MultiLineString:function G(n,e){const o=[];for(let t=0,i=n.arcs.length;t<i;++t)o[t]=d(n.arcs[t],e);return new O.A(o)},MultiPolygon:function K(n,e){const o=[];for(let t=0,i=n.arcs.length;t<i;++t){const s=n.arcs[t],l=[];for(let r=0,a=s.length;r<a;++r)l[r]=d(s[r],e);o[t]=l}return new A.A(o)}};function d(n,e){const o=[];let t;for(let i=0,s=n.length;i<s;++i)if(t=n[i],i>0&&o.pop(),t>=0){const l=e[t];for(let r=0,a=l.length;r<a;++r)o.push(l[r].slice(0))}else{const l=e[~t];for(let r=l.length-1;r>=0;--r)o.push(l[r].slice(0))}return o}function U(n,e,o,t,i,s,l){const r=n.geometries,a=[];for(let c=0,_=r.length;c<_;++c)a[c]=E(r[c],e,o,t,i,s,l);return a}function E(n,e,o,t,i,s,l){let r=null;const a=n.type;if(a){const f=p[a];r="Point"===a||"MultiPoint"===a?f(n,o,t):f(n,e),r=(0,T.hX)(r,!1,l)}const c=new m.default({geometry:r});void 0!==n.id&&c.setId(n.id);let _=n.properties;return i&&(_||(_={}),_[i]=s),_&&c.setProperties(_,!0),c}function v(n,e,o){let t=0,i=0;for(let s=0,l=n.length;s<l;++s){const r=n[s];t+=r[0],i+=r[1],r[0]=t,r[1]=i,g(r,e,o)}}function g(n,e,o){n[0]=n[0]*e[0]+o[0],n[1]=n[1]*e[1]+o[1]}const N=class R extends M.A{constructor(e){super(),this.layerName_=(e=e||{}).layerName,this.layers_=e.layers?e.layers:null,this.dataProjection=(0,C.get)(e.dataProjection?e.dataProjection:"EPSG:4326")}readFeaturesFromObject(e,o){if("Topology"==e.type){const t=e;let i,s=null,l=null;t.transform&&(i=t.transform,s=i.scale,l=i.translate);const r=t.arcs;i&&function W(n,e,o){for(let t=0,i=n.length;t<i;++t)v(n[t],e,o)}(r,s,l);const a=[],c=t.objects,_=this.layerName_;let f;for(const P in c)this.layers_&&!this.layers_.includes(P)||("GeometryCollection"===c[P].type?(f=c[P],a.push.apply(a,U(f,r,s,l,_,P,o))):(f=c[P],a.push(E(f,r,s,l,_,P,o))));return a}return[]}readProjectionFromObject(e){return this.dataProjection}}}}]);
//# sourceMappingURL=399.js.map