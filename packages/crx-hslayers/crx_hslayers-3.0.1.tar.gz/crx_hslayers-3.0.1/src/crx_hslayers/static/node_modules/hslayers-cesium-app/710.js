(self.webpackChunkhslayers_cesium_app=self.webpackChunkhslayers_cesium_app||[]).push([[710],{88692:(U,x,o)=>{"use strict";o.d(x,{x:()=>S});var c=o(7404),n=o(60316),T=o(34456);function e(M,B){if(1&M){const f=c.RV6();c.j41(0,"input",5),c.mxI("ngModelChange",function(E){c.eBV(f);const y=c.XpG();return c.DH7(y.attribute.value,E)||(y.attribute.value=E),c.Njj(E)}),c.bIt("change",function(){c.eBV(f);const E=c.XpG();return c.Njj(E.change())}),c.k0s()}if(2&M){const f=c.XpG();c.R50("ngModel",f.attribute.value),c.Y8G("readonly",f.readonly)}}function t(M,B){if(1&M){const f=c.RV6();c.j41(0,"textarea",6),c.mxI("ngModelChange",function(E){c.eBV(f);const y=c.XpG();return c.DH7(y.tmpObjectValue,E)||(y.tmpObjectValue=E),c.Njj(E)}),c.bIt("change",function(){c.eBV(f);const E=c.XpG();return c.Njj(E.change())}),c.EFF(1,"            "),c.k0s()}if(2&M){const f=c.XpG();c.R50("ngModel",f.tmpObjectValue),c.Y8G("readonly",f.readonly)}}let S=(()=>{class M{constructor(){this.isObject=!1}ngOnInit(){this.checkAttributeValue()}change(){if(this.feature?.feature){this.feature.feature.set(this.attribute.name,this.isObject?JSON.parse(this.tmpObjectValue):this.attribute.value)}}checkAttributeValue(){"object"==typeof this.attribute.value&&!Array.isArray(this.attribute.value)&&(this.isObject=!0,this.tmpObjectValue=JSON.stringify(this.attribute.value))}static#e=this.\u0275fac=function(_){return new(_||M)};static#t=this.\u0275cmp=c.VBU({type:M,selectors:[["hs-query-attribute-row"]],inputs:{attribute:"attribute",feature:"feature",readonly:"readonly",template:"template"},decls:6,vars:3,consts:[[1,"row"],[1,"input-group","m-1"],[1,"input-group-text"],["class","form-control","name","hs-query-attribute-row-input",3,"ngModel","readonly","ngModelChange","change",4,"ngIf"],["class","form-control","name","attributeValue","name","hs-query-attribute-row-textarea",3,"ngModel","readonly","ngModelChange","change",4,"ngIf"],["name","hs-query-attribute-row-input",1,"form-control",3,"ngModelChange","change","ngModel","readonly"],["name","attributeValue","name","hs-query-attribute-row-textarea",1,"form-control",3,"ngModelChange","change","ngModel","readonly"]],template:function(_,E){1&_&&(c.j41(0,"div",0)(1,"div",1)(2,"span",2),c.EFF(3),c.k0s(),c.DNE(4,e,1,2,"input",3)(5,t,2,2,"textarea",4),c.k0s()()),2&_&&(c.R7$(3),c.JRh(E.attribute.name),c.R7$(),c.Y8G("ngIf",!E.isObject),c.R7$(),c.Y8G("ngIf",E.isObject))},dependencies:[n.bT,T.me,T.BC,T.vS],encapsulation:2})}return M})()},73213:(U,x,o)=>{"use strict";o.d(x,{u:()=>f});var c=o(75797),n=o(88716),T=o(7404),e=o(76253),t=o(78373),S=o(91459),M=o(14608),B=o(27426);let f=(()=>{class _{constructor(y,C,I,L,j){this.hsQueryVectorService=y,this.hsToastService=C,this.hsLanguageService=I,this.hsMapService=L,this.hsLayerUtilsService=j,this.listSubject=new c.t([]),this.availableLayer$=this.listSubject.asObservable(),this.hsMapService.loaded().then(A=>{A.getLayers().on("change:length",()=>{this.updateLayerList()}),this.updateLayerList()})}translateString(y,C){return this.hsLanguageService.getTranslationIgnoreNonExisting(y,C,void 0)}updateLayerList(){const y=this.hsMapService.getLayersArray().filter(C=>this.hsLayerUtilsService.isLayerDrawable(C));this.listSubject.next(y)}toggleExportMenu(y,C){for(const I of y)I.serializedData=this.hsQueryVectorService.exportData(I.name,C)}moveOrCopyFeature(y,C,I){C.forEach(L=>{L.setStyle(null),I.getSource().addFeature(L.clone()),"move"==y&&this.hsQueryVectorService.removeFeature(L)}),this.hsToastService.createToastPopupMessage(this.hsLanguageService.getTranslation("QUERY.feature.featureEdited"),this.hsLanguageService.getTranslation(`QUERY.feature.feature${y}Succ`,void 0)+(0,n.LK)(I),{toastStyleClasses:"bg-success text-light",serviceCalledFrom:"HsFeatureCommonService"})}static#e=this.\u0275fac=function(C){return new(C||_)(T.KVO(e.Y),T.KVO(t.ST),T.KVO(S.LJ),T.KVO(M.F),T.KVO(B.Xp))};static#t=this.\u0275prov=T.jDH({token:_,factory:_.\u0275fac,providedIn:"root"})}return _})()},21808:(U,x,o)=>{"use strict";o.d(x,{b:()=>W});var c=o(89204),n=o(75889),T=o(40804),e=o(88716),t=o(7404),S=o(76253),M=o(93108),B=o(73213),f=o(60316),_=o(34456),E=o(46158),y=o(56485),C=o(82352),I=o(31968);const L=u=>({flex:u}),j=u=>({show:u}),A=()=>({module:"LAYERS"});function N(u,F){if(1&u){const s=t.RV6();t.j41(0,"a",20),t.bIt("downloadPrepared",function(i){const m=t.eBV(s).$implicit;return t.Njj(m.downloadData=i)}),t.EFF(1),t.k0s()}if(2&u){const s=F.$implicit;t.Y8G("download",s.name+"_file."+s.ext)("hsDownload",s.serializedData)("mimeType",s.mimeType)("href",s.downloadData,t.B4B),t.R7$(),t.SpI(" ",s.name,"")}}function Y(u,F){if(1&u){const s=t.RV6();t.j41(0,"div",9)(1,"div",10)(2,"button",11),t.bIt("click",function(){t.eBV(s);const i=t.XpG(2);return t.Njj(i.toggleEditMenu())}),t.nrm(3,"i",12),t.k0s(),t.j41(4,"div",13)(5,"a",14),t.bIt("click",function(){t.eBV(s);const i=t.XpG(2);return t.Njj(i.editTypeSelected("copy"))}),t.EFF(6),t.nI1(7,"translateHs"),t.k0s(),t.j41(8,"a",14),t.bIt("click",function(){t.eBV(s);const i=t.XpG(2);return t.Njj(i.editTypeSelected("move"))}),t.EFF(9),t.nI1(10,"translateHs"),t.k0s()()(),t.j41(11,"div",10)(12,"button",15),t.nI1(13,"translateHs"),t.bIt("click",function(){t.eBV(s);const i=t.XpG(2);return t.Njj(i.toggleExportMenu())}),t.nrm(14,"i",16),t.k0s(),t.j41(15,"div",13),t.DNE(16,N,2,5,"a",17),t.k0s()(),t.j41(17,"button",18),t.nI1(18,"translateHs"),t.bIt("click",function(){t.eBV(s);const i=t.XpG(2);return t.Njj(i.removeAllSelectedFeatures())}),t.nrm(19,"i",19),t.k0s()()}if(2&u){const s=t.XpG(2);t.R7$(4),t.Y8G("ngClass",t.eq3(15,j,s.editMenuVisible)),t.R7$(2),t.JRh(t.bMT(7,7,"QUERY.feature.copyFeatures")),t.R7$(3),t.JRh(t.bMT(10,9,"QUERY.feature.moveFeatures")),t.R7$(3),t.Y8G("title",t.bMT(13,11,"QUERY.downloadAs")),t.R7$(3),t.Y8G("ngClass",t.eq3(17,j,s.exportMenuVisible)),t.R7$(),t.Y8G("ngForOf",s.exportFormats),t.R7$(),t.Y8G("title",t.bMT(18,13,"QUERY.deleteAllSelected"))}}function G(u,F){if(1&u&&(t.j41(0,"option",29),t.EFF(1),t.nI1(2,"translateHs"),t.k0s()),2&u){const s=F.$implicit,l=t.XpG(3);t.Y8G("ngValue",s),t.R7$(),t.SpI(" ",t.i5U(2,2,l.getTitle(s),t.lJ4(5,A)),"")}}function w(u,F){if(1&u){const s=t.RV6();t.j41(0,"div",21)(1,"div",22)(2,"label",23),t.EFF(3),t.nI1(4,"translateHs"),t.k0s(),t.j41(5,"select",24),t.nI1(6,"translateHs"),t.mxI("ngModelChange",function(i){t.eBV(s);const m=t.XpG(2);return t.DH7(m.selectedLayer,i)||(m.selectedLayer=i),t.Njj(i)}),t.j41(7,"option",25),t.EFF(8),t.nI1(9,"translateHs"),t.k0s(),t.DNE(10,G,3,6,"option",26),t.nI1(11,"async"),t.k0s(),t.j41(12,"button",27),t.bIt("click",function(){t.eBV(s);const i=t.XpG(2);return t.Njj(i.moveOrCopyFeature())}),t.nrm(13,"i",28),t.k0s()()()}if(2&u){const s=t.XpG(2);t.R7$(3),t.Lme("",s.translateString("QUERY.feature",s.editType+"Features")," ",t.bMT(4,9,"COMMON.into"),":"),t.R7$(2),t.R50("ngModel",s.selectedLayer),t.Y8G("title",t.bMT(6,11,"ADDLAYERS.Vector.chooseLayer")),t.R7$(2),t.Y8G("ngValue",null)("disabled",!0),t.R7$(),t.SpI(" ",t.bMT(9,13,"ADDLAYERS.Vector.chooseLayer"),""),t.R7$(2),t.Y8G("ngForOf",t.bMT(11,15,s.hsFeatureCommonService.availableLayer$)),t.R7$(2),t.Y8G("disabled",!s.selectedLayer)}}function X(u,F){if(1&u){const s=t.RV6();t.j41(0,"div",2)(1,"div",3)(2,"div",4)(3,"p",5),t.EFF(4),t.nI1(5,"translateHs"),t.k0s(),t.j41(6,"button",6),t.nI1(7,"translateHs"),t.bIt("click",function(){t.eBV(s);const i=t.XpG();return t.Njj(i.selectedFeaturesVisible=!i.selectedFeaturesVisible)}),t.k0s()(),t.DNE(8,Y,20,19,"div",7),t.k0s(),t.DNE(9,w,14,17,"div",8),t.k0s()}if(2&u){const s=t.XpG();t.R7$(3),t.Y8G("ngStyle",t.eq3(10,L,s.hsQueryBaseService.features.length>1?"":"1")),t.R7$(),t.Lme(" ",t.bMT(5,6,"QUERY.featuresSelected"),"",s.hsQueryBaseService.features.length," "),t.R7$(2),t.Y8G("title",t.bMT(7,8,"HISTORY.toggleDropdown")),t.R7$(2),t.Y8G("ngIf",s.olFeatureArray().length>0),t.R7$(),t.Y8G("ngIf",s.editType)}}function K(u,F){1&u&&t.nrm(0,"hs-query-feature",31),2&u&&t.Y8G("feature",F.$implicit)}function V(u,F){if(1&u&&(t.j41(0,"div"),t.DNE(1,K,1,1,"hs-query-feature",30),t.nI1(2,"slice"),t.k0s()),2&u){const s=t.XpG();t.R7$(),t.Y8G("ngForOf",t.brH(2,2,s.hsQueryBaseService.features,0,50))("ngForTrackBy",s.trackById)}}let W=(()=>{class u{constructor(s,l,i,m){this.hsQueryVectorService=s,this.hsDialogContainerService=l,this.hsFeatureCommonService=i,this.hsQueryBaseService=m,this.selectedFeaturesVisible=!0,this.exportFormats=[{name:"WKT",ext:"wkt",mimeType:"text/plain",downloadData:""},{name:"GeoJSON",ext:"geojson",mimeType:"application/json",downloadData:""}],this.editType=null,this.editMenuVisible=!1,this.selectedLayer=null,this.getTitle=e.LK}trackById(s,l){return l.feature?(0,n.v6)(l.feature):JSON.stringify(l)}olFeatureArray(){return this.hsQueryBaseService.features.map(s=>s.feature).filter(s=>s)}toggleMenus(s,l){this[l]=this[l]?!this[l]:this[l],this[s]=!this[s]}toggleExportMenu(){this.hsFeatureCommonService.toggleExportMenu(this.exportFormats,this.olFeatureArray()),this.toggleMenus("exportMenuVisible","editMenuVisible")}toggleEditMenu(){this.editType?this.editType=null:this.toggleMenus("editMenuVisible","exportMenuVisible")}editTypeSelected(s){this.editType=s,this.editMenuVisible=!this.editMenuVisible}moveOrCopyFeature(){this.hsFeatureCommonService.moveOrCopyFeature(this.editType,this.olFeatureArray(),this.selectedLayer)}removeAllSelectedFeatures(){var s=this;return(0,c.A)(function*(){if("yes"==(yield s.hsDialogContainerService.create(T.d,{message:"QUERY.reallyDeleteAllSelectedLayers",title:"COMMON.confirmDelete"}).waitResult()))for(const m of s.hsQueryBaseService.features.filter(O=>s.hsQueryVectorService.isFeatureRemovable(O.feature)))setTimeout(()=>{s.hsQueryVectorService.removeFeature(m.feature)},250)})()}translateString(s,l){return this.hsFeatureCommonService.translateString(s,l)}static#e=this.\u0275fac=function(l){return new(l||u)(t.rXU(S.Y),t.rXU(M.oE),t.rXU(B.u),t.rXU(S.o))};static#t=this.\u0275cmp=t.VBU({type:u,selectors:[["hs-query-feature-list"]],decls:3,vars:2,consts:[["class","navbar navbar-light bg-light px-1",4,"ngIf"],[4,"ngIf"],[1,"navbar","navbar-light","bg-light","px-1"],[1,"d-flex","align-items-baseline","w-100"],[1,"d-flex","align-items-baseline",2,"flex","1"],[1,"m-0",3,"ngStyle"],["type","button",1,"btn","dropdown-toggle","border-0","ms-2",3,"click","title"],["class","btn-group",4,"ngIf"],["class","d-flex p-2 w-100",4,"ngIf"],[1,"btn-group"],["ngbDropdown","","placement","bottom","display","dynamic",1,"btn-group"],["ngbDropdownToggle","","type","button",1,"btn","btn-secondary","btn-sm",3,"click"],[1,"icon-settingsthree-gears"],["ngbDropdownMenu","",3,"ngClass"],[1,"dropdown-item",3,"click"],["ngbDropdownToggle","","type","button",1,"btn","btn-secondary","btn-sm","rounded-0",3,"click","title"],[1,"icon-download"],["class","dropdown-item",3,"download","hsDownload","mimeType","href","downloadPrepared",4,"ngFor","ngForOf"],["type","button",1,"btn-danger","btn","btn-sm","border-0",3,"click","title"],[1,"glyphicon","icon-trash"],[1,"dropdown-item",3,"downloadPrepared","download","hsDownload","mimeType","href"],[1,"d-flex","p-2","w-100"],[1,"d-flex","w-100","input-group","input-group-sm","align-items-baseline"],["for","selectedLayer",1,"px-2"],["name","selectedLayer",1,"form-control","text-truncate",3,"ngModelChange","ngModel","title"],["selected","","hidden","",3,"ngValue","disabled"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"btn","btn-primary","btn-sm",3,"click","disabled"],[1,"icon-save-floppy"],[3,"ngValue"],[3,"feature",4,"ngFor","ngForOf","ngForTrackBy"],[3,"feature"]],template:function(l,i){1&l&&(t.qex(0),t.DNE(1,X,10,12,"div",0)(2,V,3,6,"div",1),t.bVm()),2&l&&(t.R7$(),t.Y8G("ngIf",i.hsQueryBaseService.features.length>0),t.R7$(),t.Y8G("ngIf",i.selectedFeaturesVisible))},dependencies:[f.YU,f.Sq,f.bT,f.B3,_.xH,_.y7,_.wz,_.BC,_.vS,E.p,y.tg,y.do,y.U0,C.v,f.Jj,f.P9,I.q],encapsulation:2})}return u})()},82352:(U,x,o)=>{"use strict";o.d(x,{v:()=>W});var c=o(70271),n=o(49074),T=o(88716),e=o(7404),t=o(14608),S=o(76253),M=o(73213),B=o(27426),f=o(60316),_=o(34456),E=o(46158),y=o(56485),C=o(88692),I=o(31968);const L=()=>({module:"LAYERS"}),j=u=>({show:u});function A(u,F){1&u&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"translateHs"),e.k0s()),2&u&&(e.R7$(),e.JRh(e.bMT(2,1,"QUERY.feature.inLayer")))}function N(u,F){if(1&u&&e.nrm(0,"hs-query-attribute-row",16),2&u){const s=F.$implicit,l=e.XpG();e.Y8G("template",l.feature.hstemplate)("feature",l.feature)("attribute",s)("readonly",l.readonly)}}function Y(u,F){if(1&u&&e.nrm(0,"hs-query-attribute-row",17),2&u){const s=F.$implicit,l=e.XpG();e.Y8G("feature",l.feature)("attribute",s)("readonly",!0)}}function G(u,F){if(1&u){const s=e.RV6();e.j41(0,"div",18)(1,"div",19)(2,"input",20),e.mxI("ngModelChange",function(i){e.eBV(s);const m=e.XpG();return e.DH7(m.attributeName,i)||(m.attributeName=i),e.Njj(i)}),e.k0s(),e.j41(3,"label",21),e.EFF(4),e.nI1(5,"translateHs"),e.k0s()(),e.j41(6,"div",22)(7,"input",23),e.mxI("ngModelChange",function(i){e.eBV(s);const m=e.XpG();return e.DH7(m.attributeValue,i)||(m.attributeValue=i),e.Njj(i)}),e.k0s(),e.j41(8,"label",24),e.EFF(9),e.nI1(10,"translateHs"),e.k0s()(),e.j41(11,"div",25)(12,"button",26),e.bIt("click",function(){e.eBV(s);const i=e.XpG();return e.Njj(i.saveNewAttribute(i.attributeName,i.attributeValue))}),e.EFF(13),e.nI1(14,"translateHs"),e.nrm(15,"i",14),e.k0s()()()}if(2&u){const s=e.XpG();e.R7$(2),e.Y8G("placeholder",s.attributeName),e.R50("ngModel",s.attributeName),e.R7$(2),e.JRh(e.bMT(5,9,"QUERY.feature.attributeName")),e.R7$(2),e.Y8G("hidden",!(s.attributeName&&s.newAttribVisible)),e.R7$(),e.Y8G("placeholder",s.attributeValue),e.R50("ngModel",s.attributeValue),e.R7$(2),e.JRh(e.bMT(10,11,"QUERY.feature.attributeValue")),e.R7$(2),e.Y8G("hidden",!(s.attributeName&&s.attributeValue&&s.newAttribVisible)),e.R7$(2),e.JRh(e.bMT(14,13,"COMMON.save"))}}function w(u,F){if(1&u&&(e.j41(0,"option",27),e.EFF(1),e.nI1(2,"translateHs"),e.k0s()),2&u){const s=F.$implicit,l=e.XpG();e.Y8G("ngValue",s),e.R7$(),e.SpI(" ",e.i5U(2,2,l.getTitle(s),e.lJ4(5,L)),"")}}function X(u,F){if(1&u){const s=e.RV6();e.j41(0,"a",44),e.bIt("downloadPrepared",function(i){const m=e.eBV(s).$implicit;return e.Njj(m.downloadData=i)}),e.EFF(1),e.k0s()}if(2&u){const s=F.$implicit;e.Y8G("download",s.name+"_file."+s.ext)("hsDownload",s.serializedData)("mimeType",s.mimeType)("href",s.downloadData,e.B4B),e.R7$(),e.JRh(s.name)}}function K(u,F){if(1&u){const s=e.RV6();e.j41(0,"button",45),e.bIt("click",function(){e.eBV(s);const i=e.XpG(2);return e.Njj(i.removeFeature())}),e.nrm(1,"i",46),e.k0s()}}function V(u,F){if(1&u){const s=e.RV6();e.j41(0,"div",28)(1,"div",29)(2,"div",30)(3,"button",31),e.bIt("click",function(){e.eBV(s);const i=e.XpG();return e.Njj(i.newAttribVisible=!i.newAttribVisible)}),e.nrm(4,"i",32),e.k0s(),e.j41(5,"button",33),e.bIt("click",function(){e.eBV(s);const i=e.XpG();return e.Njj(i.zoomToFeature())}),e.nrm(6,"i",34),e.k0s(),e.j41(7,"div",35)(8,"button",36),e.bIt("click",function(){e.eBV(s);const i=e.XpG();return e.Njj(i.toggleEditMenu())}),e.nrm(9,"i",37),e.k0s(),e.j41(10,"div",38)(11,"a",39),e.bIt("click",function(){e.eBV(s);const i=e.XpG();return e.Njj(i.editTypeSelected("copy"))}),e.EFF(12),e.nI1(13,"translateHs"),e.k0s(),e.j41(14,"a",39),e.bIt("click",function(){e.eBV(s);const i=e.XpG();return e.Njj(i.editTypeSelected("move"))}),e.EFF(15),e.nI1(16,"translateHs"),e.k0s()()(),e.j41(17,"div",35)(18,"button",40),e.nI1(19,"translateHs"),e.bIt("click",function(){e.eBV(s);const i=e.XpG();return e.Njj(i.toggleExportMenu())}),e.nrm(20,"i",41),e.k0s(),e.j41(21,"div",38),e.DNE(22,X,2,5,"a",42),e.k0s()(),e.DNE(23,K,2,0,"button",43),e.k0s()()()}if(2&u){const s=e.XpG();e.R7$(3),e.Y8G("disabled",s.readonly),e.R7$(7),e.Y8G("ngClass",e.eq3(14,j,s.editMenuVisible)),e.R7$(2),e.JRh(e.bMT(13,8,"QUERY.feature.copyFeature")),e.R7$(3),e.JRh(e.bMT(16,10,"QUERY.feature.moveFeature")),e.R7$(3),e.Y8G("title",e.bMT(19,12,"QUERY.downloadAs")),e.R7$(3),e.Y8G("ngClass",e.eq3(16,j,s.exportMenuVisible)),e.R7$(),e.Y8G("ngForOf",s.exportFormats),e.R7$(),e.Y8G("ngIf",s.isFeatureRemovable())}}let W=(()=>{class u{constructor(s,l,i,m,O){this.hsMapService=s,this.hsQueryVectorService=l,this.hsFeatureCommonService=i,this.hsLayerUtilsService=m,this.DestroyRef=O,this.attributeName="",this.attributeValue="",this.newAttribVisible=!1,this.exportFormats=[{name:"WKT",ext:"wkt",mimeType:"text/plain",downloadData:""},{name:"GeoJSON",ext:"geojson",mimeType:"application/json",downloadData:""}],this.exportMenuVisible=!1,this.editMenuVisible=!1,this.selectedLayer=null,this.getTitle=T.LK}ngOnInit(){this.availableLayers=this.hsFeatureCommonService.availableLayer$.pipe((0,n.pQ)(this.DestroyRef),(0,c.T)(s=>{if(!this.olFeature())return[];const l=this.hsMapService.getLayerForFeature(this.olFeature());return this.readonly=!this.hsLayerUtilsService.isLayerEditable(l),s.filter(i=>i!=l)}))}olFeature(){return this.feature?.feature}isFeatureRemovable(){return!!this.olFeature()&&this.hsQueryVectorService.isFeatureRemovable(this.olFeature())}saveNewAttribute(s,l){if(this.feature?.feature){const i=this.feature.feature;0==this.feature.attributes.filter(O=>O.name==s).length&&(this.feature.attributes.push({name:s,value:l}),i.set(s,l))}this.newAttribVisible=!this.newAttribVisible,this.attributeName="",this.attributeValue=""}removeFeature(){this.hsQueryVectorService.removeFeature(this.olFeature())}zoomToFeature(){const s=this.olFeature().getGeometry().getExtent();this.hsMapService.fitExtent(s)}toggleMenus(s,l){this[l]=this[l]?!this[l]:this[l],this[s]=!this[s]}toggleExportMenu(){this.hsFeatureCommonService.toggleExportMenu(this.exportFormats,this.olFeature()),this.toggleMenus("exportMenuVisible","editMenuVisible")}editTypeSelected(s){this.editType=s,this.editMenuVisible=!this.editMenuVisible}toggleEditMenu(){this.editType?this.editType=null:this.toggleMenus("editMenuVisible","exportMenuVisible")}moveOrCopyFeature(){this.hsFeatureCommonService.moveOrCopyFeature(this.editType,[this.olFeature()],this.selectedLayer)}translateString(s,l){return this.hsFeatureCommonService.translateString(s,l)}static#e=this.\u0275fac=function(l){return new(l||u)(e.rXU(t.F),e.rXU(S.Y),e.rXU(M.u),e.rXU(B.Xp),e.rXU(e.abz))};static#t=this.\u0275cmp=e.VBU({type:u,selectors:[["hs-query-feature"]],inputs:{feature:"feature"},decls:25,vars:25,consts:[[1,"container-fluid"],[1,"row"],[1,"col-12","m-2"],[4,"ngIf"],[3,"template","feature","attribute","readonly",4,"ngFor","ngForOf"],[3,"feature","attribute","readonly",4,"ngFor","ngForOf"],["class","bg-light p-2 my-3",4,"ngIf"],[1,"row","p-2",3,"hidden"],[1,"d-flex","w-100","input-group","input-group-sm","align-items-baseline"],["for","selectedLayer",1,"px-2"],["name","selectedLayer",1,"form-control","text-truncate",3,"ngModelChange","title","ngModel"],["selected","","hidden","",3,"ngValue","disabled"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"btn","btn-primary","btn-sm",3,"click","disabled"],[1,"icon-save-floppy"],["class","justify-content-end","style","padding-left: 10px",4,"ngIf"],[3,"template","feature","attribute","readonly"],[3,"feature","attribute","readonly"],[1,"bg-light","p-2","my-3"],[1,"form-floating","mb-3"],["name","hs-add-feature-attribute-name",1,"form-control",3,"ngModelChange","placeholder","ngModel"],["for","hs-add-feature-attribute-name"],[1,"form-floating","mb-3",3,"hidden"],["name","hs-add-feature-attribute-value",1,"form-control",3,"ngModelChange","placeholder","ngModel"],["for","hs-add-feature-attribute-value"],[1,"row","justify-content-end",3,"hidden"],[1,"btn","btn-primary","btn-sm","w-auto","d-flex","gap-2","mx-2",3,"click"],[3,"ngValue"],[1,"justify-content-end",2,"padding-left","10px"],[1,"mx-1","mb-2","text-end"],[1,"btn-group"],[1,"btn","btn-secondary","btn-sm",3,"click","disabled"],[1,"icon-calcplus"],[1,"btn","btn-secondary","btn-sm",3,"click"],[1,"icon-search"],["ngbDropdown","","placement","bottom","display","dynamic",1,"btn-group"],["ngbDropdownToggle","","type","button",1,"btn","btn-secondary","btn-sm",3,"click"],[1,"icon-settingsthree-gears"],["ngbDropdownMenu","",3,"ngClass"],[1,"dropdown-item",3,"click"],["ngbDropdownToggle","","type","button",1,"btn","btn-secondary","btn-sm","rounded-0",3,"click","title"],[1,"icon-download"],["class","dropdown-item",3,"download","hsDownload","mimeType","href","downloadPrepared",4,"ngFor","ngForOf"],["class","btn btn-danger btn-sm",3,"click",4,"ngIf"],[1,"dropdown-item",3,"downloadPrepared","download","hsDownload","mimeType","href"],[1,"btn","btn-danger","btn-sm",3,"click"],[1,"icon-trash"]],template:function(l,i){1&l&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"strong"),e.EFF(4),e.DNE(5,A,3,3,"span",3),e.EFF(6),e.k0s()()(),e.DNE(7,N,1,4,"hs-query-attribute-row",4)(8,Y,1,3,"hs-query-attribute-row",5)(9,G,16,15,"div",6),e.j41(10,"div",7)(11,"div",8)(12,"label",9),e.EFF(13),e.nI1(14,"translateHs"),e.k0s(),e.j41(15,"select",10),e.nI1(16,"translateHs"),e.mxI("ngModelChange",function(O){return e.DH7(i.selectedLayer,O)||(i.selectedLayer=O),O}),e.j41(17,"option",11),e.EFF(18),e.nI1(19,"translateHs"),e.k0s(),e.DNE(20,w,3,6,"option",12),e.nI1(21,"async"),e.k0s(),e.j41(22,"button",13),e.bIt("click",function(){return i.moveOrCopyFeature()}),e.nrm(23,"i",14),e.k0s()()()(),e.DNE(24,V,24,18,"div",15)),2&l&&(e.R7$(4),e.SpI("",i.feature.name," "),e.R7$(),e.Y8G("ngIf",i.feature.layer),e.R7$(),e.SpI(" ",i.feature.layer,""),e.R7$(),e.Y8G("ngForOf",i.feature.attributes),e.R7$(),e.Y8G("ngForOf",i.feature.stats),e.R7$(),e.Y8G("ngIf",i.newAttribVisible),e.R7$(),e.Y8G("hidden",!i.editType),e.R7$(3),e.Lme("",i.translateString("QUERY.feature",i.editType+"Feature")," ",e.bMT(14,17,"COMMON.into"),":"),e.R7$(2),e.Y8G("title",e.bMT(16,19,"ADDLAYERS.Vector.chooseLayer")),e.R50("ngModel",i.selectedLayer),e.R7$(2),e.Y8G("ngValue",null)("disabled",!0),e.R7$(),e.SpI(" ",e.bMT(19,21,"ADDLAYERS.Vector.chooseLayer"),""),e.R7$(2),e.Y8G("ngForOf",e.bMT(21,23,i.availableLayers)),e.R7$(2),e.Y8G("disabled",!i.selectedLayer),e.R7$(2),e.Y8G("ngIf",void 0!==i.olFeature()))},dependencies:[f.YU,f.Sq,f.bT,_.xH,_.y7,_.me,_.wz,_.BC,_.vS,E.p,y.tg,y.do,y.U0,C.x,f.Jj,I.q],encapsulation:2})}return u})()},32710:(U,x,o)=>{"use strict";o.r(x),o.d(x,{HsFeatureCommonService:()=>y.u,HsQueryAttributeRowComponent:()=>c.x,HsQueryComponent:()=>ye,HsQueryDefaultInfoPanelBodyComponent:()=>E,HsQueryFeatureComponent:()=>C.v,HsQueryFeatureListComponent:()=>S.b,HsQueryModule:()=>be,HsQueryWmsService:()=>ie,HsQueryWmtsService:()=>ne});var c=o(88692),n=o(7404),T=o(76253),e=o(60316),t=o(56485),S=o(21808),M=o(31968);function B(h,g){1&h&&n.nrm(0,"div",9),2&h&&n.Y8G("innerHtml",g.$implicit,n.npT)}function f(h,g){if(1&h&&(n.j41(0,"tr")(1,"td",10),n.EFF(2),n.k0s(),n.nrm(3,"td",11),n.k0s()),2&h){const r=g.$implicit;n.R7$(2),n.JRh(r.name),n.R7$(),n.Y8G("innerHtml",r.value,n.npT)}}function _(h,g){if(1&h&&(n.j41(0,"div",1)(1,"div",2)(2,"div",3)(3,"button",4),n.EFF(4),n.nI1(5,"translateHs"),n.k0s(),n.DNE(6,B,1,1,"div",5),n.k0s(),n.nrm(7,"hs-query-feature-list"),n.j41(8,"table",6)(9,"tbody"),n.DNE(10,f,4,2,"tr",7),n.k0s()()(),n.nrm(11,"iframe",8),n.k0s()),2&h){const r=n.XpG();n.R7$(2),n.Y8G("hidden",!(r.hsQueryBaseService.featureInfoHtmls.length>0)),n.R7$(2),n.SpI(" ",n.bMT(5,5,"QUERY.featureInfo")," "),n.R7$(2),n.Y8G("ngForOf",r.hsQueryBaseService.featureInfoHtmls),n.R7$(2),n.Y8G("hidden",!(r.hsQueryBaseService.attributes.length>0)),n.R7$(2),n.Y8G("ngForOf",r.hsQueryBaseService.attributes)}}let E=(()=>{class h{constructor(r){this.hsQueryBaseService=r}ngOnInit(){this.featureInfoExpanded=!0}static#e=this.\u0275fac=function(a){return new(a||h)(n.rXU(T.o))};static#t=this.\u0275cmp=n.VBU({type:h,selectors:[["hs-query-default-info-panel-body"]],decls:1,vars:1,consts:[["class","card hs-main-panel",4,"ngIf"],[1,"card","hs-main-panel"],[1,"card-body"],["ngbDropdown","",3,"hidden"],["ngbDropdownToggle","",1,"btn","btn-light","w-100","rounded-0"],["ngbDropdownMenu","","class","position-relative w-100",3,"innerHtml",4,"ngFor","ngForOf"],[1,"table","table-striped",2,"table-layout","fixed",3,"hidden"],[4,"ngFor","ngForOf"],["id","invisible_popup",2,"display","block","z-index","12122","left","-10000px","position","absolute"],["ngbDropdownMenu","",1,"position-relative","w-100",3,"innerHtml"],[1,"first-col"],[1,"second-col",3,"innerHtml"]],template:function(a,d){1&a&&n.DNE(0,_,12,7,"div",0),2&a&&n.Y8G("ngIf",d.hsQueryBaseService.features.length>0||d.hsQueryBaseService.coordinates.length>0)},dependencies:[e.Sq,e.bT,t.tg,t.do,t.U0,S.b,M.q],encapsulation:2})}return h})();var y=o(73213),C=o(82352),I=o(89204),L=o(46443),j=o(46059),A=o(84243),N=o(9149),Y=o(47601),G=o(94177),w=o(37923),X=o(69664),K=o(23880),V=o(12332);const s=class F extends X.A{constructor(g){super(),g=g||{},this.featureNS_="http://mapserver.gis.umn.edu/mapserver",this.gmlFormat_=new w.A,this.layers_=g.layers?g.layers:null}getLayers(){return this.layers_}setLayers(g){this.layers_=g}readFeatures_(g,r){g.setAttribute("namespaceURI",this.featureNS_);const a=g.localName;let d=[];if(0===g.childNodes.length)return d;if("msGMLOutput"==a)for(let p=0,b=g.childNodes.length;p<b;p++){const v=g.childNodes[p];if(v.nodeType!==Node.ELEMENT_NODE)continue;const R=v,Q=r[0],D=R.localName.replace("_layer","");if(this.layers_&&!this.layers_.includes(D))continue;const k=D+"_feature";Q.featureType=k,Q.featureNS=this.featureNS_;const J={};J[k]=(0,V.VT)(this.gmlFormat_.readFeatureElement,this.gmlFormat_);const z=(0,V.Dm)([Q.featureNS,null],J);R.setAttribute("namespaceURI",this.featureNS_);const ee=(0,V.eY)([],z,R,r,this.gmlFormat_);ee&&(0,K.X$)(d,ee)}if("FeatureCollection"==a){const p=(0,V.eY)([],this.gmlFormat_.FEATURE_COLLECTION_PARSERS,g,[{}],this.gmlFormat_);p&&(d=p)}return d}readFeaturesFromNode(g,r){const a={};return r&&Object.assign(a,this.getReadOptions(g,r)),this.readFeatures_(g,[a])}};var l=o(5342),i=o(27426),m=o(88716),O=o(14608),se=o(91459),te=o(38243),re=o(45363);let ne=(()=>{class h{constructor(r,a){this.hsMapService=r,this.hsUtilsService=a}parseRequestURL(r,a){var d=this;return(0,I.A)(function*(){const p=r.getSource();a=(0,re.transform)(a,d.hsMapService.getCurrentProj(),p.getProjection());const b=p.getTileGrid(),v=b.getTileCoordForCoordAndResolution(a,d.hsMapService.getMap().getView().getResolution()),R=b.getTileCoordExtent(v),Q=b.getResolution(v[0]),P=b.getMatrixIds()[v[0]],D=Math.floor((a[0]-R[0])/(Q/1)),k=Math.floor((R[3]-a[1])/(Q/1)),J=p.getUrls()[0],z={LAYER:p.getLayer(),service:"WMTS",INFOFORMAT:(0,m.G2)(r),REQUEST:"GetFeatureInfo",TileCol:v[1],TileRow:v[2],I:D,J:k,TILEMATRIXSET:p.getMatrixSet(),TileMatrix:P,feature_count:p.getLayer().length};return{url:[J,d.hsUtilsService.paramsToURLWoEncode(z)].join(""),format:z.INFOFORMAT}})()}static#e=this.\u0275fac=function(a){return new(a||h)(n.KVO(O.F),n.KVO(i.MJ))};static#t=this.\u0275prov=n.jDH({token:h,factory:h.\u0275fac,providedIn:"root"})}return h})(),ie=(()=>{class h{constructor(r,a,d,p,b,v,R,Q){this.hsMapService=r,this.hsLayerUtilsService=a,this.hsLanguageService=d,this.hsUtilsService=p,this.httpClient=b,this.hsLogService=v,this.hsQueryWmtsService=R,this.hsQueryBaseService=Q,this.infoCounter=0,this.hsQueryBaseService.getFeatureInfoStarted.subscribe(P=>{this.infoCounter=0,this.hsMapService.getLayersArray().forEach(D=>{1==(0,m.W1)(D)||0==D.get("queryable")||null!=(0,m.Hs)(D)&&!(0,m.Hs)(D)(this.hsMapService.getMap(),D,P.pixel)||this.queryWmsLayer(((0,i.Uz)(D,j.A),D),P.coordinate)})})}updateFeatureList(r,a){r&&this.hsQueryBaseService.set(a,"features")}request(r,a,d,p){var b=this;return(0,I.A)(function*(){const v=b.hsUtilsService.proxify(r),R=b.hsQueryBaseService.currentQuery;try{new Headers({"Content-Type":"text"}).set("Accept","text");const P=yield(0,l.s)(b.httpClient.get(v,{headers:(new L.Lr).set("Content-Type","text"),responseType:"text"}));if(R!=b.hsQueryBaseService.currentQuery)return;b.featureInfoReceived(P,a,d,p)}catch(Q){if(R!=b.hsQueryBaseService.currentQuery)return;b.featureInfoError(d,Q)}})()}featureInfoError(r,a){this.infoCounter--,this.hsLogService.warn(a),0===this.infoCounter&&this.queriesCollected(r)}featureInfoReceived(r,a,d,p){if(a.includes("xml")||a.includes("gml")){const v=(new s).readFeatures(r);this.parseXmlResponse(v,p)}if(a.includes("html")){if(r.length<=1)return;"info-panel"==(0,m.in)(p)?this.hsQueryBaseService.pushFeatureInfoHtml(r):(this.hsQueryBaseService.fillIframeAndResize(r,!0),null!=(0,m.XV)(p)&&(this.hsQueryBaseService.popupClassname="ol-popup "+(0,m.XV)(p)))}a.includes("json")&&this.parseJSONResponse(JSON.parse(r),p),this.infoCounter--,0===this.infoCounter&&this.queriesCollected(d)}parseJSONResponse(r,a){for(const d of r.features){const p={name:"Feature",layer:this.hsLayerUtilsService.getLayerName(a),attributes:Object.entries(d.properties).map(([b,v])=>({name:b,value:v}))};this.updateFeatureList(!0,p)}}parseXmlResponse(r,a){let d=!1;r.forEach(p=>{const b=p.getGeometryName(),v={name:"Feature",layer:this.hsLayerUtilsService.getLayerName(a),attributes:Object.entries(p.getProperties()).filter(R=>R[0]!==b).map(([R,Q])=>(d=!0,{name:R,value:Q}))};this.updateFeatureList(d,v)})}queriesCollected(r){const a=this.hsQueryBaseService.getInvisiblePopup();(this.hsQueryBaseService.features.length>0||a.contentDocument.body.innerHTML.length>30)&&this.hsQueryBaseService.getFeatureInfoCollected.next(r)}queryWmsLayer(r,a){if(this.isLayerWmsQueryable(r)){if((0,i.Uz)(r.getSource(),N.A))return void this.hsQueryWmtsService.parseRequestURL(r,a).then(R=>{console.log(R),this.infoCounter++,this.request(R.url,R.format,a,r)});let d;((0,i.Uz)(r.getSource(),Y.A)||(0,i.Uz)(r.getSource(),G.A))&&(d=r.getSource());const b=this.hsMapService.getMap().getView().getResolution();let v=d.getFeatureInfoUrl(a,b,d.getProjection()?d.getProjection():this.hsMapService.getCurrentProj(),{INFO_FORMAT:d.getParams().INFO_FORMAT,feature_count:d.getParams().LAYERS.split(",").length||1});(0,m.PM)(r)&&(0,m.PM)(r)[this.hsLanguageService.language]&&(v=(0,i.Uz)(d,G.A)?v.replace(d.getUrls()[0],(0,m.PM)(r)[this.hsLanguageService.language]):v.replace(d.getUrl(),(0,m.PM)(r)[this.hsLanguageService.language])),v&&(this.hsLogService.log(v),(d.getParams().INFO_FORMAT.includes("xml")||d.getParams().INFO_FORMAT.includes("html")||d.getParams().INFO_FORMAT.includes("gml")||d.getParams().INFO_FORMAT.includes("json"))&&(this.infoCounter++,this.request(v,d.getParams().INFO_FORMAT,a,r)))}}isLayerWmsQueryable(r){return!!r.getVisible()&&!!((0,i.Uz)(r,j.A)&&((0,i.Uz)(r.getSource(),G.A)&&r.getSource().getParams().INFO_FORMAT||(0,i.Uz)(r.getSource(),N.A)&&(0,m.G2)(r))||(0,i.Uz)(r,A.A)&&(0,i.Uz)(r.getSource(),Y.A)&&r.getSource().getParams().INFO_FORMAT)}static#e=this.\u0275fac=function(a){return new(a||h)(n.KVO(O.F),n.KVO(i.Xp),n.KVO(se.LJ),n.KVO(i.MJ),n.KVO(L.Qq),n.KVO(te.r),n.KVO(ne),n.KVO(T.o))};static#t=this.\u0275prov=n.jDH({token:h,factory:h.\u0275fac,providedIn:"root"})}return h})();var ae=o(18616),oe=o.n(ae),Z=o(84205),H=o(33900),le=o(52575),q=o(25849),ue=o(98866),$=o(34456),ce=o(70258);const de=()=>({standalone:!0});function he(h,g){1&h&&(n.j41(0,"div",6)(1,"div",7),n.nrm(2,"i",8),n.j41(3,"p",9),n.EFF(4),n.nI1(5,"translateHs"),n.k0s(),n.j41(6,"p",10),n.EFF(7),n.nI1(8,"translateHs"),n.k0s()()()),2&h&&(n.R7$(4),n.JRh(n.bMT(5,2,"QUERY.infoPanel.noFeaturesSelected")),n.R7$(3),n.JRh(n.bMT(8,4,"QUERY.infoPanel.clickOnMap")))}function pe(h,g){1&h&&n.nrm(0,"hs-query-default-info-panel-body")}function me(h,g){if(1&h&&(n.j41(0,"option",19),n.EFF(1),n.k0s()),2&h){const r=g.$implicit;n.Y8G("ngValue",r),n.R7$(),n.JRh(r.name)}}function fe(h,g){if(1&h){const r=n.RV6();n.j41(0,"select",17),n.mxI("ngModelChange",function(d){n.eBV(r);const p=n.XpG(3);return n.DH7(p.hsQueryBaseService.selectedProj,d)||(p.hsQueryBaseService.selectedProj=d),n.Njj(d)}),n.DNE(1,me,2,2,"option",18),n.k0s()}if(2&h){const r=n.XpG(3);n.R50("ngModel",r.hsQueryBaseService.selectedProj),n.Y8G("ngModelOptions",n.lJ4(3,de)),n.R7$(),n.Y8G("ngForOf",r.hsQueryBaseService.coordinates[0].projections)}}function _e(h,g){if(1&h&&(n.j41(0,"div",11)(1,"div",12)(2,"div",13)(3,"strong"),n.EFF(4),n.k0s()()(),n.j41(5,"div",12)(6,"div",14),n.DNE(7,fe,2,4,"select",15),n.nrm(8,"input",16),n.k0s()()()),2&h){const r=n.XpG(2);n.R7$(4),n.JRh(null==r.hsQueryBaseService?null:r.hsQueryBaseService.coordinates[0].name),n.R7$(3),n.Y8G("ngIf",(null==r.hsQueryBaseService?null:r.hsQueryBaseService.coordinates.length)>0),n.R7$(),n.Y8G("value",r.hsQueryBaseService.selectedProj.value)}}function ge(h,g){if(1&h&&(n.j41(0,"div",1),n.nrm(1,"hs-panel-header",2),n.DNE(2,he,9,6,"div",3)(3,pe,1,0,"hs-query-default-info-panel-body",4),n.nrm(4,"hs-custom-info-panel-body"),n.DNE(5,_e,9,3,"div",5),n.k0s()),2&h){const r=n.XpG();n.Y8G("ngClass",r.panelWidthClass),n.R7$(),n.Y8G("panelTabs","INFO"),n.R7$(),n.Y8G("ngIf",r.noFeatureSelected()),n.R7$(),n.Y8G("ngIf","query"===r.hsLayoutService.mainpanel),n.R7$(2),n.Y8G("ngIf",void 0!==(null==r.hsQueryBaseService?null:r.hsQueryBaseService.coordinates)&&(null==r.hsQueryBaseService?null:r.hsQueryBaseService.coordinates.length)>0)}}let ye=(()=>{class h extends q.aH{constructor(r,a,d,p,b){super(),this.hsQueryBaseService=r,this.hsMapService=a,this.hsLog=d,this.hsQueryVectorService=p,this.hsDrawService=b,this.popup=new(oe()),this.popupOpens=new Z.B,this.name="query",this.end=new Z.B,this.queryDeactivator=new Z.B}ngOnInit(){var r=()=>super.ngOnInit,a=this;return(0,I.A)(function*(){r().call(a),a.popupOpens.pipe((0,H.Q)(a.end)).subscribe(p=>{p&&"hs.query"!=p&&void 0!==a.popup&&a.popup.hide()}),a.hsQueryVectorService.featureRemovals.pipe((0,H.Q)(a.end)).subscribe(p=>{a.hsQueryBaseService.features.splice(a.hsQueryBaseService.features.indexOf(p),1)}),a.hsMapService.loaded().then(p=>{p.addOverlay(a.popup)}),a.hsLayoutService.mainpanel$.pipe((0,le.B)(250),(0,H.Q)(a.end)).subscribe(p=>{a.hsQueryBaseService.currentPanelQueryable()?!a.hsQueryBaseService.queryActive&&!a.hsDrawService.drawActive&&a.hsQueryBaseService.activateQueries():a.hsQueryBaseService.queryActive&&a.hsQueryBaseService.deactivateQueries()}),a.hsQueryBaseService.queryStatusChanges.pipe((0,H.Q)(a.end)).subscribe(p=>{a.queryStatusChanged(p)});const d=a.hsQueryBaseService.queryActive;d&&a.queryStatusChanged(d)})()}queryStatusChanged(r){r?(this.hsQueryBaseService.getFeatureInfoStarted.pipe((0,H.Q)(this.end)).pipe((0,H.Q)(this.queryDeactivator)).subscribe(a=>{this.popup.hide(),this.hsQueryBaseService.currentPanelQueryable()&&"draw"!=this.hsLayoutService.mainpanel&&this.hsLayoutService.setMainPanel("query")}),this.hsQueryBaseService.getFeatureInfoCollected.pipe((0,H.Q)(this.end)).pipe((0,H.Q)(this.queryDeactivator)).subscribe(a=>{const d=this.hsQueryBaseService.getInvisiblePopup();!d||!this.checkForBodyElements(d.contentDocument.body.children)||(this.popup.getElement().className=this.hsQueryBaseService.popupClassname.length>0?this.hsQueryBaseService.popupClassname:"ol-popup",a?(this.popup.show(a,d.contentDocument.body.innerHTML),this.popupOpens.next("hs.query")):this.hsLog.log("empty coordinates for",this.popup))})):this.queryDeactivator.next()}ngOnDestroy(){this.end.next(),this.end.complete()}checkForBodyElements(r){return Array.from(r).some(a=>("TITLE"!=a.tagName||""!=a.title)&&"SERVICEEXCEPTIONREPORT"!=a.tagName&&"META"!=a.tagName&&"STYLE"!=a.tagName)}noFeatureSelected(){return null==this.hsQueryBaseService||0==this.hsQueryBaseService.features.length&&(void 0===this.hsQueryBaseService.coordinates||0==this.hsQueryBaseService.coordinates.length)}static#e=this.\u0275fac=function(a){return new(a||h)(n.rXU(T.o),n.rXU(O.F),n.rXU(te.r),n.rXU(T.Y),n.rXU(ue.B))};static#t=this.\u0275cmp=n.VBU({type:h,selectors:[["hs-query"]],features:[n.Vt3],decls:2,vars:3,consts:[["class","card hs-main-panel",3,"ngClass",4,"ngIf"],[1,"card","hs-main-panel",3,"ngClass"],["name","query",3,"panelTabs"],["class","card hs-main-panel",4,"ngIf"],[4,"ngIf"],["class","container-fluid",4,"ngIf"],[1,"card","hs-main-panel"],[1,"d-flex","flex-column","align-items-center","p-4"],[1,"icon-cursor","bg-primary","p-3","text-white","rounded",2,"font-size","1.5rem","color","hsl(208, 100%, 97%)"],[1,"h4"],[1,"small"],[1,"container-fluid"],[1,"row"],[1,"col-12","m-2"],[1,"input-group","m-1"],["class","form-control form-select",3,"ngModel","ngModelOptions","ngModelChange",4,"ngIf"],["readonly","",1,"form-control",3,"value"],[1,"form-control","form-select",3,"ngModelChange","ngModel","ngModelOptions"],[3,"ngValue",4,"ngFor","ngForOf"],[3,"ngValue"]],template:function(a,d){1&a&&(n.DNE(0,ge,6,5,"div",0),n.nI1(1,"async")),2&a&&n.Y8G("ngIf",n.bMT(1,1,d.isVisible$))},dependencies:[e.YU,e.Sq,e.bT,$.xH,$.y7,$.wz,$.BC,$.vS,ce.k,E,e.Jj,M.q],encapsulation:2})}return h})();var ve=o(26583);let be=(()=>{class h{static#e=this.\u0275fac=function(a){return new(a||h)};static#t=this.\u0275mod=n.$C({type:h});static#n=this.\u0275inj=n.G2t({imports:[e.MD,q.Zz,$.YN,ve.I,t.zH,q.k4]})}return h})()},18616:function(U,x,o){U.exports=function(c){"use strict";c="default"in c?c.default:c;class n extends c{constructor(e){var t=e||{};void 0===t.autoPan&&(t.autoPan={animation:{duration:250}});var S=document.createElement("div");t.element=S,super(t),this.container=S,this.container.className="ol-popup",this.closer=document.createElement("a"),this.closer.className="ol-popup-closer",this.closer.href="#",this.container.appendChild(this.closer);var M=this;this.closer.addEventListener("click",function(B){M.container.style.display="none",M.closer.blur(),B.preventDefault()},!1),this.content=document.createElement("div"),this.content.className="ol-popup-content",this.container.appendChild(this.content),n.enableTouchScroll_(this.content)}show(e,t){return t instanceof HTMLElement?(this.content.innerHTML="",this.content.appendChild(t)):this.content.innerHTML=t,this.container.style.display="block",this.content.scrollTop=0,this.setPosition(e),this}static isTouchDevice_(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}static enableTouchScroll_(e){if(n.isTouchDevice_()){var t=0;e.addEventListener("touchstart",function(S){t=this.scrollTop+S.touches[0].pageY},!1),e.addEventListener("touchmove",function(S){this.scrollTop=t-S.touches[0].pageY},!1)}}hide(){return this.container.style.display="none",this}isOpened(){return"block"==this.container.style.display}}return window.ol&&window.ol.Overlay&&(window.ol.Overlay.Popup=n),n}(o(19061))}}]);
//# sourceMappingURL=710.js.map