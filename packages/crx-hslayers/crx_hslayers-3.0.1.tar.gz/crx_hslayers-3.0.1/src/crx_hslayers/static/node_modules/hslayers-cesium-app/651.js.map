{"version":3,"file":"651.js","mappings":"+WAKYA,MAAA,cAEIA,MAAA,yBAAAC,EAAAD,MAAAE,GAAAC,UAAAC,EAAAJ,MAAA,UAAAA,MAASI,EAAAC,YAAAJ,EAAAK,KAAqB,GAAEN,MAAA,GAAaA,+CAD7CA,MAAA,UAAAI,EAAAG,cAAAN,EAAAK,KAAA,iCACgCN,cAAAC,EAAAO,gCAPhDR,MAAA,WACIA,MAAA,uBAGIA,MADJ,UACIA,CADmB,UAEfA,MAAA,EAAAS,EAAA,gBAKZT,kCAV2DA,MAAA,UAAAI,EAAAM,iBACtBV,cAAA,wBAIAA,MAAA,GAAAA,MAAA,UAAAI,EAAAO,sBCM9B,IAAMC,EACX,MADI,MAAOA,UACHC,KAKRC,YACUC,EACAC,GAERC,QAHQC,KAAAH,oBACAG,KAAAF,WAHVE,KAAAV,KAAO,WAOLU,KAAKF,SAASG,cAAcC,QAAKC,SAAsBC,UAAU,KAC3DJ,KAAKF,SAASO,sBAChBL,KAAKP,oBACHO,KAAKH,kBAAkBS,yBAAsB,EAGrD,CAEAC,WACEP,KAAKP,oBAAsBO,KAAKH,kBAAkBS,yBAClDP,MAAMQ,UACR,CAOAlB,cAAcmB,GACZ,OAAOR,KAAKH,kBAAkBY,UAAUC,SAASF,EAASG,cAC5D,CAMAxB,YAAYqB,GACVR,KAAKH,kBAAkBV,YAAYqB,EACrC,CAACI,SAAAZ,KAAA,mBAAAa,iBAxCUnB,GAAmBZ,MAAAgC,MAAAhC,MAAAiC,KAAA,EAAAH,SAAAZ,KAAA,UAAAgB,EAAAC,IAAA,MAAnBvB,EAAmBwB,UAAA,kBAAAC,SAAA,CAAArC,OAAAsC,MAAA,EAAAC,KAAA,EAAAC,OAAA,0UAAAC,SAAA,SAAAC,EAAAC,GAAA,EAAAD,IDXhC1C,MAAA,EAAA4C,EAAA,oCAAiC5C,MAAA,OAAAA,MAAA,IAAA2C,EAAAE,8ECWpBjC,CACX,0CCKI,SAAUkC,EACd9B,EACA+B,EACAC,GAEA,OAAO,IAAIC,KAAuBjC,EAAU+B,EAAOC,EACrD,CAuBO,IAAME,EAAgB,MAAvB,MAAOA,EAAgBpB,SAAAZ,KAAA,mBAAAa,iBAAhBmB,EAAgB,EAAApB,SAAAZ,KAAA,UAAAgB,EAAAiB,GAAA,MAAhBD,IAAgBpB,SAAAZ,KAAA,UAAAgB,EAAAkB,IAAA,WAFhB,CAACC,MAAeC,QAAA,CAfzBC,KACAC,KACAC,IACAC,KACAC,KACAF,IAAgBG,QAAQ,CACtBC,OAAQ,CACNC,QAASC,KACTC,WAAYlB,EACZmB,OAAO,EACPC,KAAM,CAACC,IAAUC,mBAOZlB,CAAgB,KCvChBmB,EAAsB,MAA7B,MAAOA,EAAsBvC,SAAAZ,KAAA,mBAAAa,iBAAtBsC,EAAsB,EAAAvC,SAAAZ,KAAA,UAAAgB,EAAAiB,GAAA,MAAtBkB,IAAsBvC,SAAAZ,KAAA,UAAAgB,EAAAkB,IAAA,UAHvBK,IAAgBG,UAChBH,cAECY,CAAsB","names":["i0","lang_r2","_r1","$implicit","ctx_r2","setLanguage","key","isCurrentLang","name","HsLanguageComponent_div_0_button_4_Template","panelWidthClass","available_languages","HsLanguageComponent","HsPanelBaseComponent","constructor","hsLanguageService","hsConfig","super","this","configChanges","pipe","takeUntilDestroyed","subscribe","additionalLanguages","listAvailableLanguages","ngOnInit","langCode","language","endsWith","toLowerCase","static","t","i1","i2","core","VBU","selectors","features","decls","vars","consts","template","rf","ctx","HsLanguageComponent_div_0_Template","isVisible$","getWebpackTranslateLoader","hsLog","httpClient","WebpackTranslateLoader","HsLanguageModule","$C","G2t","TranslateStore","imports","FormsModule","CommonModule","TranslateModule","HsPanelHelpersModule","HsPanelHeaderComponent","forRoot","loader","provide","TranslateLoader","useFactory","multi","deps","HsConfig","HttpClient","TranslateTestingModule"],"ignoreList":[],"sourceRoot":"webpack:///","sources":["webpack:///./projects/hslayers/components/language/language.component.html","webpack:///./projects/hslayers/components/language/language.component.ts","webpack:///./projects/hslayers/components/language/language.module.ts","webpack:///./projects/hslayers/components/language/translate-testing.module.ts"],"sourcesContent":["<div class=\"card hs-main-panel\" *ngIf=\"isVisible$ | async\" [ngClass]=\"panelWidthClass\">\n    <hs-panel-header name=\"language\" [panelTabs]=\"'LANGUAGE'\">\n    </hs-panel-header>\n    <div class=\"card-body\">\n        <ul class=\"m-3 list-group m-auto w-75 py-md-2\">\n            <button *ngFor=\"let lang of available_languages\" class=\"btn m-2 m-md-1 p-4 p-md-2\"\n                [ngClass]=\"isCurrentLang(lang.key) ? ' btn-primary' : ' btn-secondary'\"\n                (click)=\"setLanguage(lang.key)\">{{lang.name}}</button><!-- TODO: Remove function call from template -->\n        </ul>\n    </div>\n</div>","import {Component, OnInit} from '@angular/core';\nimport {takeUntilDestroyed} from '@angular/core/rxjs-interop';\n\nimport {HsConfig} from 'hslayers-ng/config';\nimport {HsLanguageService} from 'hslayers-ng/services/language';\nimport {HsPanelBaseComponent} from 'hslayers-ng/common/panels';\n\n@Component({\n  selector: 'hs-language',\n  templateUrl: './language.component.html',\n})\nexport class HsLanguageComponent\n  extends HsPanelBaseComponent\n  implements OnInit\n{\n  available_languages: any;\n  name = 'language';\n  constructor(\n    private hsLanguageService: HsLanguageService,\n    private hsConfig: HsConfig,\n  ) {\n    super();\n\n    this.hsConfig.configChanges.pipe(takeUntilDestroyed()).subscribe(() => {\n      if (this.hsConfig.additionalLanguages) {\n        this.available_languages =\n          this.hsLanguageService.listAvailableLanguages();\n      }\n    });\n  }\n\n  ngOnInit(): void {\n    this.available_languages = this.hsLanguageService.listAvailableLanguages();\n    super.ngOnInit();\n  }\n\n  /**\n   * Check if provided language is active language\n   * @param langCode - Language code\n   * @returns True, if current language is active\n   */\n  isCurrentLang(langCode: string): boolean {\n    return this.hsLanguageService.language?.endsWith(langCode.toLowerCase());\n  }\n\n  /**\n   * Set UI language to provided one\n   * @param langCode - Language code\n   */\n  setLanguage(langCode: string): void {\n    this.hsLanguageService.setLanguage(langCode);\n  }\n}\n","import {CUSTOM_ELEMENTS_SCHEMA, NgModule} from '@angular/core';\nimport {CommonModule} from '@angular/common';\nimport {FormsModule} from '@angular/forms';\nimport {HttpClient} from '@angular/common/http';\nimport {\n  TranslateLoader,\n  TranslateModule,\n  TranslateStore,\n} from '@ngx-translate/core';\n\nimport {HsConfig} from 'hslayers-ng/config';\nimport {HsLanguageComponent} from './language.component';\nimport {HsLogService} from 'hslayers-ng/services/log';\nimport {HsPanelHeaderComponent} from 'hslayers-ng/common/panels';\nimport {HsPanelHelpersModule} from 'hslayers-ng/common/panels';\nimport {WebpackTranslateLoader} from 'hslayers-ng/services/language';\n\nexport function getWebpackTranslateLoader(\n  hsConfig: HsConfig,\n  hsLog: HsLogService,\n  httpClient: HttpClient,\n): WebpackTranslateLoader {\n  return new WebpackTranslateLoader(hsConfig, hsLog, httpClient);\n}\n\n@NgModule({\n  schemas: [CUSTOM_ELEMENTS_SCHEMA],\n  declarations: [HsLanguageComponent],\n  imports: [\n    FormsModule,\n    CommonModule,\n    TranslateModule,\n    HsPanelHelpersModule,\n    HsPanelHeaderComponent,\n    TranslateModule.forRoot({\n      loader: {\n        provide: TranslateLoader,\n        useFactory: getWebpackTranslateLoader,\n        multi: false,\n        deps: [HsConfig, HttpClient],\n      },\n    }),\n  ],\n  exports: [HsLanguageComponent],\n  providers: [TranslateStore],\n})\nexport class HsLanguageModule {}\n","import {NgModule} from '@angular/core';\nimport {TranslateModule} from '@ngx-translate/core';\n\n@NgModule({\n  imports: [TranslateModule.forRoot()],\n  exports: [TranslateModule],\n})\nexport class TranslateTestingModule {}\n"],"x_google_ignoreList":[]}