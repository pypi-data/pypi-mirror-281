{"version":3,"file":"default-node_modules_ol_format_WFS_js.js","mappings":"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","sources":["webpack:///default-node_modules_ol_format_WFS_js.js"],"sourcesContent":["\"use strict\";(self.webpackChunkhslayers_app=self.webpackChunkhslayers_app||[]).push([[\"default-node_modules_ol_format_WFS_js\"],{23135:(Xe,D,R)=>{R.r(D),R.d(D,{default:()=>We,writeFilter:()=>Ze});var M=R(93002),g=R(2827),ye=R(16558),de=R(39559),Ee=R(8932),Re=R(98695),r=R(63945),Se=R(14378),Z=R(29609),L=R(87549),w=R(24957),W=R(62112);const Ne=g.M+\" http://schemas.opengis.net/gml/3.1.1/profiles/gmlsfProfile/1.0.0/gmlsf.xsd\",Pe={MultiLineString:\"lineStringMember\",MultiCurve:\"curveMember\",MultiPolygon:\"polygonMember\",MultiSurface:\"surfaceMember\"};class u extends g.A{constructor(e){super(e=e||{}),this.surface_=void 0!==e.surface&&e.surface,this.curve_=void 0!==e.curve&&e.curve,this.multiCurve_=void 0===e.multiCurve||e.multiCurve,this.multiSurface_=void 0===e.multiSurface||e.multiSurface,this.schemaLocation=e.schemaLocation?e.schemaLocation:Ne,this.hasZ=void 0!==e.hasZ&&e.hasZ}readMultiCurve(e,t){const n=(0,r.eY)([],this.MULTICURVE_PARSERS,e,t,this);if(n)return new de.A(n)}readFlatCurveRing(e,t){const n=(0,r.eY)([],this.MULTICURVE_PARSERS,e,t,this),i=[];for(let o=0,a=n.length;o<a;++o)(0,Z.X$)(i,n[o].getFlatCoordinates());return i}readMultiSurface(e,t){const n=(0,r.eY)([],this.MULTISURFACE_PARSERS,e,t,this);if(n)return new Ee.A(n)}curveMemberParser(e,t){(0,r.UN)(this.CURVEMEMBER_PARSERS,e,t,this)}surfaceMemberParser(e,t){(0,r.UN)(this.SURFACEMEMBER_PARSERS,e,t,this)}readPatch(e,t){return(0,r.eY)([null],this.PATCHES_PARSERS,e,t,this)}readSegment(e,t){return(0,r.eY)([],this.SEGMENTS_PARSERS,e,t,this)}readPolygonPatch(e,t){return(0,r.eY)([null],this.FLAT_LINEAR_RINGS_PARSERS,e,t,this)}readLineStringSegment(e,t){return(0,r.eY)([null],this.GEOMETRY_FLAT_COORDINATES_PARSERS,e,t,this)}interiorParser(e,t){const n=(0,r.eY)(void 0,this.RING_PARSERS,e,t,this);n&&t[t.length-1].push(n)}exteriorParser(e,t){const n=(0,r.eY)(void 0,this.RING_PARSERS,e,t,this);n&&(t[t.length-1][0]=n)}readSurface(e,t){const n=(0,r.eY)([null],this.SURFACE_PARSERS,e,t,this);if(n&&n[0]){const i=n[0],o=[i.length];let a,p;for(a=1,p=n.length;a<p;++a)(0,Z.X$)(i,n[a]),o.push(i.length);return new Re.default(i,\"XYZ\",o)}}readCurve(e,t){const n=(0,r.eY)([null],this.CURVE_PARSERS,e,t,this);if(n)return new ye.default(n,\"XYZ\")}readEnvelope(e,t){const n=(0,r.eY)([null],this.ENVELOPE_PARSERS,e,t,this);return(0,Se.createOrUpdate)(n[1][0],n[1][1],n[2][0],n[2][1])}readFlatPos(e,t){let n=(0,r.mT)(e,!1);const i=/^\\s*([+\\-]?\\d*\\.?\\d+(?:[eE][+\\-]?\\d+)?)\\s*/,o=[];let a;for(;a=i.exec(n);)o.push(parseFloat(a[1])),n=n.substr(a[0].length);if(\"\"!==n)return;const m=t[0].srsName;let l=\"enu\";if(m&&(l=(0,L.get)(m).getAxisOrientation()),\"neu\"===l){let f,y;for(f=0,y=o.length;f<y;f+=3){const E=o[f];o[f]=o[f+1],o[f+1]=E}}const d=o.length;return 2==d&&o.push(0),0!==d?o:void 0}readFlatPosList(e,t){const n=(0,r.mT)(e,!1).replace(/^\\s*|\\s*$/g,\"\"),i=t[0],o=i.srsName,a=i.srsDimension;let p=\"enu\";o&&(p=(0,L.get)(o).getAxisOrientation());const m=n.split(/\\s+/);let d,f,y,l=2;e.getAttribute(\"srsDimension\")?l=(0,w._X)(e.getAttribute(\"srsDimension\")):e.getAttribute(\"dimension\")?l=(0,w._X)(e.getAttribute(\"dimension\")):e.parentNode.getAttribute(\"srsDimension\")?l=(0,w._X)(e.parentNode.getAttribute(\"srsDimension\")):a&&(l=(0,w._X)(a));const E=[];for(let N=0,T=m.length;N<T;N+=l)d=parseFloat(m[N]),f=parseFloat(m[N+1]),y=3===l?parseFloat(m[N+2]):0,\"en\"===p.substr(0,2)?E.push(d,f,y):E.push(f,d,y);return E}writePos_(e,t,n){const i=n[n.length-1],o=i.hasZ;e.setAttribute(\"srsDimension\",o?\"3\":\"2\");const p=i.srsName;let m=\"enu\";p&&(m=(0,L.get)(p).getAxisOrientation());const l=t.getCoordinates();let d;d=\"en\"===m.substr(0,2)?l[0]+\" \"+l[1]:l[1]+\" \"+l[0],o&&(d+=\" \"+(l[2]||0)),(0,w.uB)(e,d)}getCoords_(e,t,n){let i=\"enu\";t&&(i=(0,L.get)(t).getAxisOrientation());let o=\"en\"===i.substr(0,2)?e[0]+\" \"+e[1]:e[1]+\" \"+e[0];return n&&(o+=\" \"+(e[2]||0)),o}writePosList_(e,t,n){const i=n[n.length-1],o=i.hasZ;e.setAttribute(\"srsDimension\",o?\"3\":\"2\");const p=i.srsName,m=t.getCoordinates(),l=m.length,d=new Array(l);let f;for(let y=0;y<l;++y)f=m[y],d[y]=this.getCoords_(f,p,o);(0,w.uB)(e,d.join(\" \"))}writePoint(e,t,n){const o=n[n.length-1].srsName;o&&e.setAttribute(\"srsName\",o);const a=(0,r.qq)(e.namespaceURI,\"pos\");e.appendChild(a),this.writePos_(a,t,n)}writeEnvelope(e,t,n){const o=n[n.length-1].srsName;o&&e.setAttribute(\"srsName\",o),(0,r.NQ)({node:e},this.ENVELOPE_SERIALIZERS,r.OL,[t[0]+\" \"+t[1],t[2]+\" \"+t[3]],n,[\"lowerCorner\",\"upperCorner\"],this)}writeLinearRing(e,t,n){const o=n[n.length-1].srsName;o&&e.setAttribute(\"srsName\",o);const a=(0,r.qq)(e.namespaceURI,\"posList\");e.appendChild(a),this.writePosList_(a,t,n)}RING_NODE_FACTORY_(e,t,n){const i=t[t.length-1],o=i.node,a=i.exteriorWritten;return void 0===a&&(i.exteriorWritten=!0),(0,r.qq)(o.namespaceURI,void 0!==a?\"interior\":\"exterior\")}writeSurfaceOrPolygon(e,t,n){const i=n[n.length-1],o=i.hasZ,a=i.srsName;if(\"PolygonPatch\"!==e.nodeName&&a&&e.setAttribute(\"srsName\",a),\"Polygon\"===e.nodeName||\"PolygonPatch\"===e.nodeName){const p=t.getLinearRings();(0,r.NQ)({node:e,hasZ:o,srsName:a},this.RING_SERIALIZERS,this.RING_NODE_FACTORY_,p,n,void 0,this)}else if(\"Surface\"===e.nodeName){const p=(0,r.qq)(e.namespaceURI,\"patches\");e.appendChild(p),this.writeSurfacePatches_(p,t,n)}}writeCurveOrLineString(e,t,n){const o=n[n.length-1].srsName;if(\"LineStringSegment\"!==e.nodeName&&o&&e.setAttribute(\"srsName\",o),\"LineString\"===e.nodeName||\"LineStringSegment\"===e.nodeName){const a=(0,r.qq)(e.namespaceURI,\"posList\");e.appendChild(a),this.writePosList_(a,t,n)}else if(\"Curve\"===e.nodeName){const a=(0,r.qq)(e.namespaceURI,\"segments\");e.appendChild(a),this.writeCurveSegments_(a,t,n)}}writeMultiSurfaceOrPolygon(e,t,n){const i=n[n.length-1],o=i.hasZ,a=i.srsName,p=i.surface;a&&e.setAttribute(\"srsName\",a);const m=t.getPolygons();(0,r.NQ)({node:e,hasZ:o,srsName:a,surface:p},this.SURFACEORPOLYGONMEMBER_SERIALIZERS,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,m,n,void 0,this)}writeMultiPoint(e,t,n){const i=n[n.length-1],o=i.srsName,a=i.hasZ;o&&e.setAttribute(\"srsName\",o);const p=t.getPoints();(0,r.NQ)({node:e,hasZ:a,srsName:o},this.POINTMEMBER_SERIALIZERS,(0,r.X1)(\"pointMember\"),p,n,void 0,this)}writeMultiCurveOrLineString(e,t,n){const i=n[n.length-1],o=i.hasZ,a=i.srsName,p=i.curve;a&&e.setAttribute(\"srsName\",a);const m=t.getLineStrings();(0,r.NQ)({node:e,hasZ:o,srsName:a,curve:p},this.LINESTRINGORCURVEMEMBER_SERIALIZERS,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,m,n,void 0,this)}writeRing(e,t,n){const i=(0,r.qq)(e.namespaceURI,\"LinearRing\");e.appendChild(i),this.writeLinearRing(i,t,n)}writeSurfaceOrPolygonMember(e,t,n){const i=this.GEOMETRY_NODE_FACTORY_(t,n);i&&(e.appendChild(i),this.writeSurfaceOrPolygon(i,t,n))}writePointMember(e,t,n){const i=(0,r.qq)(e.namespaceURI,\"Point\");e.appendChild(i),this.writePoint(i,t,n)}writeLineStringOrCurveMember(e,t,n){const i=this.GEOMETRY_NODE_FACTORY_(t,n);i&&(e.appendChild(i),this.writeCurveOrLineString(i,t,n))}writeSurfacePatches_(e,t,n){const i=(0,r.qq)(e.namespaceURI,\"PolygonPatch\");e.appendChild(i),this.writeSurfaceOrPolygon(i,t,n)}writeCurveSegments_(e,t,n){const i=(0,r.qq)(e.namespaceURI,\"LineStringSegment\");e.appendChild(i),this.writeCurveOrLineString(i,t,n)}writeGeometryElement(e,t,n){const i=n[n.length-1],o=Object.assign({},i);let a;o.node=e,a=Array.isArray(t)?(0,W.zU)(t,i):(0,W.hX)(t,!0,i),(0,r.NQ)(o,this.GEOMETRY_SERIALIZERS,this.GEOMETRY_NODE_FACTORY_,[a],n,void 0,this)}writeFeatureElement(e,t,n){const i=t.getId();i&&e.setAttribute(\"fid\",i);const o=n[n.length-1],a=o.featureNS,p=t.getGeometryName();o.serializers||(o.serializers={},o.serializers[a]={});const m=[],l=[];if(t.hasProperties()){const f=t.getProperties();for(const y in f){const E=f[y];null!==E&&(m.push(y),l.push(E),y==p||\"function\"==typeof E.getSimplifiedGeometry?y in o.serializers[a]||(o.serializers[a][y]=(0,r.mm)(this.writeGeometryElement,this)):y in o.serializers[a]||(o.serializers[a][y]=(0,r.mm)(w.uB)))}}const d=Object.assign({},o);d.node=e,(0,r.NQ)(d,o.serializers,(0,r.X1)(void 0,a),l,n,m)}writeFeatureMembers_(e,t,n){const i=n[n.length-1],o=i.featureType,a=i.featureNS,p={};p[a]={},p[a][o]=(0,r.mm)(this.writeFeatureElement,this);const m=Object.assign({},i);m.node=e,(0,r.NQ)(m,p,(0,r.X1)(o,a),t,n)}MULTIGEOMETRY_MEMBER_NODE_FACTORY_(e,t,n){return(0,r.qq)(this.namespace,Pe[t[t.length-1].node.nodeName])}GEOMETRY_NODE_FACTORY_(e,t,n){const i=t[t.length-1],o=i.multiSurface,a=i.surface,p=i.curve,m=i.multiCurve;return Array.isArray(e)?n=\"Envelope\":\"MultiPolygon\"===(n=e.getType())&&!0===o?n=\"MultiSurface\":\"Polygon\"===n&&!0===a?n=\"Surface\":\"LineString\"===n&&!0===p?n=\"Curve\":\"MultiLineString\"===n&&!0===m&&(n=\"MultiCurve\"),(0,r.qq)(this.namespace,n)}writeGeometryNode(e,t){t=this.adaptOptions(t);const n=(0,r.qq)(this.namespace,\"geom\"),i={node:n,hasZ:this.hasZ,srsName:this.srsName,curve:this.curve_,surface:this.surface_,multiSurface:this.multiSurface_,multiCurve:this.multiCurve_};return t&&Object.assign(i,t),this.writeGeometryElement(n,e,[i]),n}writeFeaturesNode(e,t){t=this.adaptOptions(t);const n=(0,r.qq)(this.namespace,\"featureMembers\");n.setAttributeNS(r.pF,\"xsi:schemaLocation\",this.schemaLocation);const i={srsName:this.srsName,hasZ:this.hasZ,curve:this.curve_,surface:this.surface_,multiSurface:this.multiSurface_,multiCurve:this.multiCurve_,featureNS:this.featureNS,featureType:this.featureType};return t&&Object.assign(i,t),this.writeFeatureMembers_(n,e,[i]),n}}u.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS={\"http://www.opengis.net/gml\":{pos:(0,r.Tb)(u.prototype.readFlatPos),posList:(0,r.Tb)(u.prototype.readFlatPosList),coordinates:(0,r.Tb)(M.A.prototype.readFlatCoordinates)}},u.prototype.FLAT_LINEAR_RINGS_PARSERS={\"http://www.opengis.net/gml\":{interior:u.prototype.interiorParser,exterior:u.prototype.exteriorParser}},u.prototype.GEOMETRY_PARSERS={\"http://www.opengis.net/gml\":{Point:(0,r.Tb)(g.A.prototype.readPoint),MultiPoint:(0,r.Tb)(g.A.prototype.readMultiPoint),LineString:(0,r.Tb)(g.A.prototype.readLineString),MultiLineString:(0,r.Tb)(g.A.prototype.readMultiLineString),LinearRing:(0,r.Tb)(g.A.prototype.readLinearRing),Polygon:(0,r.Tb)(g.A.prototype.readPolygon),MultiPolygon:(0,r.Tb)(g.A.prototype.readMultiPolygon),Surface:(0,r.Tb)(u.prototype.readSurface),MultiSurface:(0,r.Tb)(u.prototype.readMultiSurface),Curve:(0,r.Tb)(u.prototype.readCurve),MultiCurve:(0,r.Tb)(u.prototype.readMultiCurve),Envelope:(0,r.Tb)(u.prototype.readEnvelope)}},u.prototype.MULTICURVE_PARSERS={\"http://www.opengis.net/gml\":{curveMember:(0,r.VT)(u.prototype.curveMemberParser),curveMembers:(0,r.VT)(u.prototype.curveMemberParser)}},u.prototype.MULTISURFACE_PARSERS={\"http://www.opengis.net/gml\":{surfaceMember:(0,r.VT)(u.prototype.surfaceMemberParser),surfaceMembers:(0,r.VT)(u.prototype.surfaceMemberParser)}},u.prototype.CURVEMEMBER_PARSERS={\"http://www.opengis.net/gml\":{LineString:(0,r.VT)(g.A.prototype.readLineString),Curve:(0,r.VT)(u.prototype.readCurve)}},u.prototype.SURFACEMEMBER_PARSERS={\"http://www.opengis.net/gml\":{Polygon:(0,r.VT)(g.A.prototype.readPolygon),Surface:(0,r.VT)(u.prototype.readSurface)}},u.prototype.SURFACE_PARSERS={\"http://www.opengis.net/gml\":{patches:(0,r.Tb)(u.prototype.readPatch)}},u.prototype.CURVE_PARSERS={\"http://www.opengis.net/gml\":{segments:(0,r.Tb)(u.prototype.readSegment)}},u.prototype.ENVELOPE_PARSERS={\"http://www.opengis.net/gml\":{lowerCorner:(0,r.VT)(u.prototype.readFlatPosList),upperCorner:(0,r.VT)(u.prototype.readFlatPosList)}},u.prototype.PATCHES_PARSERS={\"http://www.opengis.net/gml\":{PolygonPatch:(0,r.Tb)(u.prototype.readPolygonPatch)}},u.prototype.SEGMENTS_PARSERS={\"http://www.opengis.net/gml\":{LineStringSegment:(0,r.Vh)(u.prototype.readLineStringSegment)}},g.A.prototype.RING_PARSERS={\"http://www.opengis.net/gml\":{LinearRing:(0,r.Tb)(g.A.prototype.readFlatLinearRing),Ring:(0,r.Tb)(u.prototype.readFlatCurveRing)}},u.prototype.RING_SERIALIZERS={\"http://www.opengis.net/gml\":{exterior:(0,r.mm)(u.prototype.writeRing),interior:(0,r.mm)(u.prototype.writeRing)}},u.prototype.ENVELOPE_SERIALIZERS={\"http://www.opengis.net/gml\":{lowerCorner:(0,r.mm)(w.uB),upperCorner:(0,r.mm)(w.uB)}},u.prototype.SURFACEORPOLYGONMEMBER_SERIALIZERS={\"http://www.opengis.net/gml\":{surfaceMember:(0,r.mm)(u.prototype.writeSurfaceOrPolygonMember),polygonMember:(0,r.mm)(u.prototype.writeSurfaceOrPolygonMember)}},u.prototype.POINTMEMBER_SERIALIZERS={\"http://www.opengis.net/gml\":{pointMember:(0,r.mm)(u.prototype.writePointMember)}},u.prototype.LINESTRINGORCURVEMEMBER_SERIALIZERS={\"http://www.opengis.net/gml\":{lineStringMember:(0,r.mm)(u.prototype.writeLineStringOrCurveMember),curveMember:(0,r.mm)(u.prototype.writeLineStringOrCurveMember)}},u.prototype.GEOMETRY_SERIALIZERS={\"http://www.opengis.net/gml\":{Curve:(0,r.mm)(u.prototype.writeCurveOrLineString),MultiCurve:(0,r.mm)(u.prototype.writeMultiCurveOrLineString),Point:(0,r.mm)(u.prototype.writePoint),MultiPoint:(0,r.mm)(u.prototype.writeMultiPoint),LineString:(0,r.mm)(u.prototype.writeCurveOrLineString),MultiLineString:(0,r.mm)(u.prototype.writeMultiCurveOrLineString),LinearRing:(0,r.mm)(u.prototype.writeLinearRing),Polygon:(0,r.mm)(u.prototype.writeSurfaceOrPolygon),MultiPolygon:(0,r.mm)(u.prototype.writeMultiSurfaceOrPolygon),Surface:(0,r.mm)(u.prototype.writeSurfaceOrPolygon),MultiSurface:(0,r.mm)(u.prototype.writeMultiSurfaceOrPolygon),Envelope:(0,r.mm)(u.prototype.writeEnvelope)}};const c=u;class h extends c{constructor(e){super(e=e||{}),this.schemaLocation=e.schemaLocation?e.schemaLocation:this.namespace+\" http://schemas.opengis.net/gml/3.2.1/gml.xsd\"}writeGeometryElement(e,t,n){n[n.length-1]=Object.assign({multiCurve:!0,multiSurface:!0},n[n.length-1]),super.writeGeometryElement(e,t,n)}}h.prototype.namespace=\"http://www.opengis.net/gml/3.2\",h.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS={\"http://www.opengis.net/gml/3.2\":{pos:(0,r.Tb)(c.prototype.readFlatPos),posList:(0,r.Tb)(c.prototype.readFlatPosList),coordinates:(0,r.Tb)(M.A.prototype.readFlatCoordinates)}},h.prototype.FLAT_LINEAR_RINGS_PARSERS={\"http://www.opengis.net/gml/3.2\":{interior:c.prototype.interiorParser,exterior:c.prototype.exteriorParser}},h.prototype.GEOMETRY_PARSERS={\"http://www.opengis.net/gml/3.2\":{Point:(0,r.Tb)(g.A.prototype.readPoint),MultiPoint:(0,r.Tb)(g.A.prototype.readMultiPoint),LineString:(0,r.Tb)(g.A.prototype.readLineString),MultiLineString:(0,r.Tb)(g.A.prototype.readMultiLineString),LinearRing:(0,r.Tb)(g.A.prototype.readLinearRing),Polygon:(0,r.Tb)(g.A.prototype.readPolygon),MultiPolygon:(0,r.Tb)(g.A.prototype.readMultiPolygon),Surface:(0,r.Tb)(h.prototype.readSurface),MultiSurface:(0,r.Tb)(c.prototype.readMultiSurface),Curve:(0,r.Tb)(h.prototype.readCurve),MultiCurve:(0,r.Tb)(c.prototype.readMultiCurve),Envelope:(0,r.Tb)(h.prototype.readEnvelope)}},h.prototype.MULTICURVE_PARSERS={\"http://www.opengis.net/gml/3.2\":{curveMember:(0,r.VT)(c.prototype.curveMemberParser),curveMembers:(0,r.VT)(c.prototype.curveMemberParser)}},h.prototype.MULTISURFACE_PARSERS={\"http://www.opengis.net/gml/3.2\":{surfaceMember:(0,r.VT)(c.prototype.surfaceMemberParser),surfaceMembers:(0,r.VT)(c.prototype.surfaceMemberParser)}},h.prototype.CURVEMEMBER_PARSERS={\"http://www.opengis.net/gml/3.2\":{LineString:(0,r.VT)(g.A.prototype.readLineString),Curve:(0,r.VT)(c.prototype.readCurve)}},h.prototype.SURFACEMEMBER_PARSERS={\"http://www.opengis.net/gml/3.2\":{Polygon:(0,r.VT)(g.A.prototype.readPolygon),Surface:(0,r.VT)(c.prototype.readSurface)}},h.prototype.SURFACE_PARSERS={\"http://www.opengis.net/gml/3.2\":{patches:(0,r.Tb)(c.prototype.readPatch)}},h.prototype.CURVE_PARSERS={\"http://www.opengis.net/gml/3.2\":{segments:(0,r.Tb)(c.prototype.readSegment)}},h.prototype.ENVELOPE_PARSERS={\"http://www.opengis.net/gml/3.2\":{lowerCorner:(0,r.VT)(c.prototype.readFlatPosList),upperCorner:(0,r.VT)(c.prototype.readFlatPosList)}},h.prototype.PATCHES_PARSERS={\"http://www.opengis.net/gml/3.2\":{PolygonPatch:(0,r.Tb)(c.prototype.readPolygonPatch)}},h.prototype.SEGMENTS_PARSERS={\"http://www.opengis.net/gml/3.2\":{LineStringSegment:(0,r.Vh)(c.prototype.readLineStringSegment)}},h.prototype.MULTIPOINT_PARSERS={\"http://www.opengis.net/gml/3.2\":{pointMember:(0,r.VT)(g.A.prototype.pointMemberParser),pointMembers:(0,r.VT)(g.A.prototype.pointMemberParser)}},h.prototype.MULTILINESTRING_PARSERS={\"http://www.opengis.net/gml/3.2\":{lineStringMember:(0,r.VT)(g.A.prototype.lineStringMemberParser),lineStringMembers:(0,r.VT)(g.A.prototype.lineStringMemberParser)}},h.prototype.MULTIPOLYGON_PARSERS={\"http://www.opengis.net/gml/3.2\":{polygonMember:(0,r.VT)(g.A.prototype.polygonMemberParser),polygonMembers:(0,r.VT)(g.A.prototype.polygonMemberParser)}},h.prototype.POINTMEMBER_PARSERS={\"http://www.opengis.net/gml/3.2\":{Point:(0,r.VT)(g.A.prototype.readFlatCoordinatesFromNode)}},h.prototype.LINESTRINGMEMBER_PARSERS={\"http://www.opengis.net/gml/3.2\":{LineString:(0,r.VT)(g.A.prototype.readLineString)}},h.prototype.POLYGONMEMBER_PARSERS={\"http://www.opengis.net/gml/3.2\":{Polygon:(0,r.VT)(g.A.prototype.readPolygon)}},h.prototype.RING_PARSERS={\"http://www.opengis.net/gml/3.2\":{LinearRing:(0,r.Tb)(g.A.prototype.readFlatLinearRing),Ring:(0,r.Tb)(h.prototype.readFlatCurveRing)}},h.prototype.RING_SERIALIZERS={\"http://www.opengis.net/gml/3.2\":{exterior:(0,r.mm)(c.prototype.writeRing),interior:(0,r.mm)(c.prototype.writeRing)}},h.prototype.ENVELOPE_SERIALIZERS={\"http://www.opengis.net/gml/3.2\":{lowerCorner:(0,r.mm)(w.uB),upperCorner:(0,r.mm)(w.uB)}},h.prototype.SURFACEORPOLYGONMEMBER_SERIALIZERS={\"http://www.opengis.net/gml/3.2\":{surfaceMember:(0,r.mm)(c.prototype.writeSurfaceOrPolygonMember),polygonMember:(0,r.mm)(c.prototype.writeSurfaceOrPolygonMember)}},h.prototype.POINTMEMBER_SERIALIZERS={\"http://www.opengis.net/gml/3.2\":{pointMember:(0,r.mm)(c.prototype.writePointMember)}},h.prototype.LINESTRINGORCURVEMEMBER_SERIALIZERS={\"http://www.opengis.net/gml/3.2\":{lineStringMember:(0,r.mm)(c.prototype.writeLineStringOrCurveMember),curveMember:(0,r.mm)(c.prototype.writeLineStringOrCurveMember)}},h.prototype.GEOMETRY_SERIALIZERS={\"http://www.opengis.net/gml/3.2\":{Curve:(0,r.mm)(c.prototype.writeCurveOrLineString),MultiCurve:(0,r.mm)(c.prototype.writeMultiCurveOrLineString),Point:(0,r.mm)(h.prototype.writePoint),MultiPoint:(0,r.mm)(c.prototype.writeMultiPoint),LineString:(0,r.mm)(c.prototype.writeCurveOrLineString),MultiLineString:(0,r.mm)(c.prototype.writeMultiCurveOrLineString),LinearRing:(0,r.mm)(c.prototype.writeLinearRing),Polygon:(0,r.mm)(c.prototype.writeSurfaceOrPolygon),MultiPolygon:(0,r.mm)(c.prototype.writeMultiSurfaceOrPolygon),Surface:(0,r.mm)(c.prototype.writeSurfaceOrPolygon),MultiSurface:(0,r.mm)(c.prototype.writeMultiSurfaceOrPolygon),Envelope:(0,r.mm)(c.prototype.writeEnvelope)}};const _=h;var Ae=R(61725);const X=class Te{constructor(e){this.tagName_=e}getTagName(){return this.tagName_}};var C=R(59791);const Le=class Me extends X{constructor(e,t){super(e),this.conditions=t,(0,C.v)(this.conditions.length>=2,\"At least 2 conditions are required\")}},ve=class Ce extends Le{constructor(e){super(\"And\",Array.prototype.slice.call(arguments))}},Oe=class Ie extends X{constructor(e,t,n){if(super(\"BBOX\"),this.geometryName=e,this.extent=t,4!==t.length)throw new Error(\"Expected an extent with four values ([minX, minY, maxX, maxY])\");this.srsName=n}},Q={\"http://www.opengis.net/gml\":{boundedBy:(0,r.kW)(g.A.prototype.readExtentElement,\"bounds\")},\"http://www.opengis.net/wfs/2.0\":{member:(0,r.VT)(g.A.prototype.readFeaturesInternal)}},be={\"http://www.opengis.net/wfs\":{totalInserted:(0,r.kW)(w.yg),totalUpdated:(0,r.kW)(w.yg),totalDeleted:(0,r.kW)(w.yg)},\"http://www.opengis.net/wfs/2.0\":{totalInserted:(0,r.kW)(w.yg),totalUpdated:(0,r.kW)(w.yg),totalDeleted:(0,r.kW)(w.yg)}},_e={\"http://www.opengis.net/wfs\":{TransactionSummary:(0,r.kW)(K,\"transactionSummary\"),InsertResults:(0,r.kW)(j,\"insertIds\")},\"http://www.opengis.net/wfs/2.0\":{TransactionSummary:(0,r.kW)(K,\"transactionSummary\"),InsertResults:(0,r.kW)(j,\"insertIds\")}},Ge={\"http://www.opengis.net/wfs\":{PropertyName:(0,r.mm)(w.uB)},\"http://www.opengis.net/wfs/2.0\":{PropertyName:(0,r.mm)(w.uB)}},z={\"http://www.opengis.net/wfs\":{Insert:(0,r.mm)(k),Update:(0,r.mm)(re),Delete:(0,r.mm)(te),Property:(0,r.mm)(ne),Native:(0,r.mm)(ie)},\"http://www.opengis.net/wfs/2.0\":{Insert:(0,r.mm)(k),Update:(0,r.mm)(re),Delete:(0,r.mm)(te),Property:(0,r.mm)(ne),Native:(0,r.mm)(ie)}},H=\"feature\",G=\"http://www.w3.org/2000/xmlns/\",q={\"2.0.0\":\"http://www.opengis.net/ogc/1.1\",\"1.1.0\":\"http://www.opengis.net/ogc\",\"1.0.0\":\"http://www.opengis.net/ogc\"},U={\"2.0.0\":\"http://www.opengis.net/wfs/2.0\",\"1.1.0\":\"http://www.opengis.net/wfs\",\"1.0.0\":\"http://www.opengis.net/wfs\"},V={\"2.0.0\":\"http://www.opengis.net/fes/2.0\",\"1.1.0\":\"http://www.opengis.net/fes\",\"1.0.0\":\"http://www.opengis.net/fes\"},$={\"2.0.0\":\"http://www.opengis.net/wfs/2.0 http://schemas.opengis.net/wfs/2.0/wfs.xsd\",\"1.1.0\":\"http://www.opengis.net/wfs http://schemas.opengis.net/wfs/1.1.0/wfs.xsd\",\"1.0.0\":\"http://www.opengis.net/wfs http://schemas.opengis.net/wfs/1.0.0/wfs.xsd\"},B={\"2.0.0\":_,\"1.1.0\":c,\"1.0.0\":M.A};function I(s,e,t,n){(0,r.NQ)(n,z,(0,r.X1)(s),e,t)}function K(s,e){return(0,r.eY)({},be,s,e)}const Be={\"http://www.opengis.net/ogc\":{FeatureId:(0,r.VT)(function(s,e){return s.getAttribute(\"fid\")})},\"http://www.opengis.net/ogc/1.1\":{FeatureId:(0,r.VT)(function(s,e){return s.getAttribute(\"fid\")})}};function J(s,e){(0,r.UN)(Be,s,e)}const Ye={\"http://www.opengis.net/wfs\":{Feature:J},\"http://www.opengis.net/wfs/2.0\":{Feature:J}};function j(s,e){return(0,r.eY)([],Ye,s,e)}function k(s,e,t){const n=t[t.length-1],a=n.gmlVersion,p=(0,r.qq)(n.featureNS,n.featureType);s.appendChild(p),2===a?M.A.prototype.writeFeatureElement(p,e,t):3===a?c.prototype.writeFeatureElement(p,e,t):_.prototype.writeFeatureElement(p,e,t)}function ee(s,e,t){const o=q[t[t.length-1].version],a=(0,r.qq)(o,\"Filter\"),p=(0,r.qq)(o,\"FeatureId\");a.appendChild(p),p.setAttribute(\"fid\",e),s.appendChild(a)}function Y(s,e){const t=(s=s||H)+\":\";return e.startsWith(t)?e:t+e}function te(s,e,t){const n=t[t.length-1];(0,C.v)(void 0!==e.getId(),\"Features must have an id set\");const o=n.featurePrefix,a=n.featureNS,p=Y(o,n.featureType);s.setAttribute(\"typeName\",p),s.setAttributeNS(G,\"xmlns:\"+o,a);const m=e.getId();void 0!==m&&ee(s,m,t)}function re(s,e,t){const n=t[t.length-1];(0,C.v)(void 0!==e.getId(),\"Features must have an id set\");const i=n.version,a=n.featurePrefix,p=n.featureNS,m=Y(a,n.featureType),l=e.getGeometryName();s.setAttribute(\"typeName\",m),s.setAttributeNS(G,\"xmlns:\"+a,p);const d=e.getId();if(void 0!==d){const f=e.getKeys(),y=[];for(let E=0,N=f.length;E<N;E++){const T=e.get(f[E]);if(void 0!==T){let we=f[E];T&&\"function\"==typeof T.getSimplifiedGeometry&&(we=l),y.push({name:we,value:T})}}(0,r.NQ)({version:i,gmlVersion:n.gmlVersion,node:s,hasZ:n.hasZ,srsName:n.srsName},z,(0,r.X1)(\"Property\"),y,t),ee(s,d,t)}}function ne(s,e,t){const n=t[t.length-1],i=n.version,o=U[i],p=(0,r.qq)(o,\"2.0.0\"===i?\"ValueReference\":\"Name\"),m=n.gmlVersion;if(s.appendChild(p),(0,w.uB)(p,e.name),null!=e.value){const l=(0,r.qq)(o,\"Value\");s.appendChild(l),e.value&&\"function\"==typeof e.value.getSimplifiedGeometry?2===m?M.A.prototype.writeGeometryElement(l,e.value,t):3===m?c.prototype.writeGeometryElement(l,e.value,t):_.prototype.writeGeometryElement(l,e.value,t):(0,w.uB)(l,e.value)}}function ie(s,e,t){e.vendorId&&s.setAttribute(\"vendorId\",e.vendorId),void 0!==e.safeToIgnore&&s.setAttribute(\"safeToIgnore\",String(e.safeToIgnore)),void 0!==e.value&&(0,w.uB)(s,e.value)}const O={\"http://www.opengis.net/wfs\":{Query:(0,r.mm)(se)},\"http://www.opengis.net/wfs/2.0\":{Query:(0,r.mm)(se)},\"http://www.opengis.net/ogc\":{During:(0,r.mm)(ue),And:(0,r.mm)(F),Or:(0,r.mm)(F),Not:(0,r.mm)(me),BBOX:(0,r.mm)(ae),Contains:(0,r.mm)(P),Intersects:(0,r.mm)(P),Within:(0,r.mm)(P),DWithin:(0,r.mm)(pe),PropertyIsEqualTo:(0,r.mm)(S),PropertyIsNotEqualTo:(0,r.mm)(S),PropertyIsLessThan:(0,r.mm)(S),PropertyIsLessThanOrEqualTo:(0,r.mm)(S),PropertyIsGreaterThan:(0,r.mm)(S),PropertyIsGreaterThanOrEqualTo:(0,r.mm)(S),PropertyIsNull:(0,r.mm)(le),PropertyIsBetween:(0,r.mm)(ce),PropertyIsLike:(0,r.mm)(ge)},\"http://www.opengis.net/fes/2.0\":{During:(0,r.mm)(ue),And:(0,r.mm)(F),Or:(0,r.mm)(F),Not:(0,r.mm)(me),BBOX:(0,r.mm)(ae),Contains:(0,r.mm)(P),Disjoint:(0,r.mm)(P),Intersects:(0,r.mm)(P),ResourceId:(0,r.mm)(function De(s,e,t){s.setAttribute(\"rid\",e.rid)}),Within:(0,r.mm)(P),DWithin:(0,r.mm)(pe),PropertyIsEqualTo:(0,r.mm)(S),PropertyIsNotEqualTo:(0,r.mm)(S),PropertyIsLessThan:(0,r.mm)(S),PropertyIsLessThanOrEqualTo:(0,r.mm)(S),PropertyIsGreaterThan:(0,r.mm)(S),PropertyIsGreaterThanOrEqualTo:(0,r.mm)(S),PropertyIsNull:(0,r.mm)(le),PropertyIsBetween:(0,r.mm)(ce),PropertyIsLike:(0,r.mm)(ge)}};function se(s,e,t){const n=t[t.length-1],i=n.version,o=n.featurePrefix,a=n.featureNS,p=n.propertyNames,m=n.srsName;let l,d;l=o?Y(o,e):e,d=\"2.0.0\"===i?\"typeNames\":\"typeName\",s.setAttribute(d,l),m&&s.setAttribute(\"srsName\",m),a&&s.setAttributeNS(G,\"xmlns:\"+o,a);const f=Object.assign({},n);f.node=s,(0,r.NQ)(f,Ge,(0,r.X1)(\"PropertyName\"),p,t);const y=n.filter;if(y){const E=(0,r.qq)(v(i),\"Filter\");s.appendChild(E),oe(E,y,t)}}function oe(s,e,t){const i={node:s};Object.assign(i,{context:t[t.length-1]}),(0,r.NQ)(i,O,(0,r.X1)(e.getTagName()),[e],t)}function ae(s,e,t){const n=t[t.length-1],o=n.context.version;n.srsName=e.srsName;const a=B[o];A(o,s,e.geometryName),a.prototype.writeGeometryElement(s,e.extent,t)}function P(s,e,t){const n=t[t.length-1],o=n.context.version;n.srsName=e.srsName;const a=B[o];A(o,s,e.geometryName),a.prototype.writeGeometryElement(s,e.geometry,t)}function pe(s,e,t){const o=t[t.length-1].context.version;P(s,e,t);const a=(0,r.qq)(v(o),\"Distance\");(0,w.uB)(a,e.distance.toString()),a.setAttribute(\"2.0.0\"===o?\"uom\":\"units\",e.unit),s.appendChild(a)}function ue(s,e,t){x(V[t[t.length-1].context.version],\"ValueReference\",s,e.propertyName);const a=(0,r.qq)(g.M,\"TimePeriod\");s.appendChild(a);const p=(0,r.qq)(g.M,\"begin\");a.appendChild(p),he(p,e.begin);const m=(0,r.qq)(g.M,\"end\");a.appendChild(m),he(m,e.end)}function F(s,e,t){const o={node:s};Object.assign(o,{context:t[t.length-1].context});const a=e.conditions;for(let p=0,m=a.length;p<m;++p){const l=a[p];(0,r.NQ)(o,O,(0,r.X1)(l.getTagName()),[l],t)}}function me(s,e,t){const o={node:s};Object.assign(o,{context:t[t.length-1].context});const a=e.condition;(0,r.NQ)(o,O,(0,r.X1)(a.getTagName()),[a],t)}function S(s,e,t){const o=t[t.length-1].context.version;void 0!==e.matchCase&&s.setAttribute(\"matchCase\",e.matchCase.toString()),A(o,s,e.propertyName),b(o,s,\"\"+e.expression)}function le(s,e,t){A(t[t.length-1].context.version,s,e.propertyName)}function ce(s,e,t){const o=t[t.length-1].context.version,a=v(o);A(o,s,e.propertyName);const p=(0,r.qq)(a,\"LowerBoundary\");s.appendChild(p),b(o,p,\"\"+e.lowerBoundary);const m=(0,r.qq)(a,\"UpperBoundary\");s.appendChild(m),b(o,m,\"\"+e.upperBoundary)}function ge(s,e,t){const o=t[t.length-1].context.version;s.setAttribute(\"wildCard\",e.wildCard),s.setAttribute(\"singleChar\",e.singleChar),s.setAttribute(\"escapeChar\",e.escapeChar),void 0!==e.matchCase&&s.setAttribute(\"matchCase\",e.matchCase.toString()),A(o,s,e.propertyName),b(o,s,\"\"+e.pattern)}function x(s,e,t,n){const i=(0,r.qq)(s,e);(0,w.uB)(i,n),t.appendChild(i)}function b(s,e,t){x(v(s),\"Literal\",e,t)}function A(s,e,t){\"2.0.0\"===s?x(V[s],\"ValueReference\",e,t):x(q[s],\"PropertyName\",e,t)}function he(s,e){const t=(0,r.qq)(g.M,\"TimeInstant\");s.appendChild(t);const n=(0,r.qq)(g.M,\"timePosition\");t.appendChild(n),(0,w.uB)(n,e)}function Ze(s,e){const t=(0,r.qq)(v(e=e||\"1.1.0\"),\"Filter\"),n={node:t};return Object.assign(n,{version:e,filter:s}),oe(t,s,[n]),t}function fe(s,e,t){const i=Object.assign({},t[t.length-1]);i.node=s,(0,r.NQ)(i,O,(0,r.X1)(\"Query\"),e,t)}function v(s){let e;return e=\"2.0.0\"===s?V[s]:q[s],e}const We=class Ue extends Ae.A{constructor(e){super(),this.version_=(e=e||{}).version?e.version:\"1.1.0\",this.featureType_=e.featureType,this.featureNS_=e.featureNS,this.gmlFormat_=e.gmlFormat?e.gmlFormat:new B[this.version_],this.schemaLocation_=e.schemaLocation?e.schemaLocation:$[this.version_]}getFeatureType(){return this.featureType_}setFeatureType(e){this.featureType_=e}readFeaturesFromNode(e,t){const n={node:e};let o;Object.assign(n,{featureType:this.featureType_,featureNS:this.featureNS_}),Object.assign(n,this.getReadOptions(e,t||{})),o=\"2.0.0\"===this.version_?Q:this.gmlFormat_.FEATURE_COLLECTION_PARSERS;let a=(0,r.eY)([],o,e,[n],this.gmlFormat_);return a||(a=[]),a}readTransactionResponse(e){if(e){if(\"string\"==typeof e){const t=(0,r.qg)(e);return this.readTransactionResponseFromDocument(t)}return(0,r.wz)(e)?this.readTransactionResponseFromDocument(e):this.readTransactionResponseFromNode(e)}}readFeatureCollectionMetadata(e){if(e){if(\"string\"==typeof e){const t=(0,r.qg)(e);return this.readFeatureCollectionMetadataFromDocument(t)}return(0,r.wz)(e)?this.readFeatureCollectionMetadataFromDocument(e):this.readFeatureCollectionMetadataFromNode(e)}}readFeatureCollectionMetadataFromDocument(e){for(let t=e.firstChild;t;t=t.nextSibling)if(t.nodeType==Node.ELEMENT_NODE)return this.readFeatureCollectionMetadataFromNode(t)}readFeatureCollectionMetadataFromNode(e){const t={},n=(0,w._X)(e.getAttribute(\"numberOfFeatures\"));return t.numberOfFeatures=n,(0,r.eY)(t,Q,e,[],this.gmlFormat_)}readTransactionResponseFromDocument(e){for(let t=e.firstChild;t;t=t.nextSibling)if(t.nodeType==Node.ELEMENT_NODE)return this.readTransactionResponseFromNode(t)}readTransactionResponseFromNode(e){return(0,r.eY)({},_e,e,[])}writeGetFeature(e){const t=(0,r.qq)(U[this.version_],\"GetFeature\");t.setAttribute(\"service\",\"WFS\"),t.setAttribute(\"version\",this.version_),e.handle&&t.setAttribute(\"handle\",e.handle),e.outputFormat&&t.setAttribute(\"outputFormat\",e.outputFormat),void 0!==e.maxFeatures&&t.setAttribute(\"maxFeatures\",String(e.maxFeatures)),e.resultType&&t.setAttribute(\"resultType\",e.resultType),void 0!==e.startIndex&&t.setAttribute(\"startIndex\",String(e.startIndex)),void 0!==e.count&&t.setAttribute(\"count\",String(e.count)),void 0!==e.viewParams&&t.setAttribute(\"viewParams\",e.viewParams),t.setAttributeNS(r.pF,\"xsi:schemaLocation\",this.schemaLocation_);const n={node:t};if(Object.assign(n,{version:this.version_,srsName:e.srsName,featureNS:e.featureNS?e.featureNS:this.featureNS_,featurePrefix:e.featurePrefix,propertyNames:e.propertyNames?e.propertyNames:[]}),(0,C.v)(Array.isArray(e.featureTypes),\"`options.featureTypes` must be an Array\"),\"string\"==typeof e.featureTypes[0]){let i=e.filter;e.bbox&&((0,C.v)(e.geometryName,\"`options.geometryName` must also be provided when `options.bbox` is set\"),i=this.combineBboxAndFilter(e.geometryName,e.bbox,e.srsName,i)),Object.assign(n,{geometryName:e.geometryName,filter:i}),fe(t,e.featureTypes,[n])}else e.featureTypes.forEach(i=>{const o=this.combineBboxAndFilter(i.geometryName,i.bbox,e.srsName,e.filter);Object.assign(n,{geometryName:i.geometryName,filter:o}),fe(t,[i.name],[n])});return t}combineBboxAndFilter(e,t,n,i){const o=function xe(s,e,t){return new Oe(s,e,t)}(e,t,n);return i?function Fe(s){const e=[null].concat(Array.prototype.slice.call(arguments));return new(Function.prototype.bind.apply(ve,e))}(i,o):o}writeTransaction(e,t,n,i){const o=[],a=i.version?i.version:this.version_,p=(0,r.qq)(U[a],\"Transaction\");let m;p.setAttribute(\"service\",\"WFS\"),p.setAttribute(\"version\",a),i&&(m=i.gmlOptions?i.gmlOptions:{},i.handle&&p.setAttribute(\"handle\",i.handle)),p.setAttributeNS(r.pF,\"xsi:schemaLocation\",$[a]);const l=function Ve(s,e,t,n){let o;return\"1.0.0\"===t?o=2:\"1.1.0\"===t?o=3:\"2.0.0\"===t&&(o=3.2),Object.assign({node:s},{version:t,featureNS:n.featureNS,featureType:n.featureType,featurePrefix:n.featurePrefix?n.featurePrefix:H,gmlVersion:o,hasZ:n.hasZ,srsName:n.srsName},e)}(p,m,a,i);return e&&I(\"Insert\",e,o,l),t&&I(\"Update\",t,o,l),n&&I(\"Delete\",n,o,l),i.nativeElements&&I(\"Native\",i.nativeElements,o,l),p}readProjectionFromDocument(e){for(let t=e.firstChild;t;t=t.nextSibling)if(t.nodeType==Node.ELEMENT_NODE)return this.readProjectionFromNode(t);return null}readProjectionFromNode(e){if(e.firstElementChild&&e.firstElementChild.firstElementChild)for(let t=(e=e.firstElementChild.firstElementChild).firstElementChild;t;t=t.nextElementSibling)if(0!==t.childNodes.length&&(1!==t.childNodes.length||3!==t.firstChild.nodeType)){const n=[{}];return this.gmlFormat_.readGeometryElement(t,n),(0,L.get)(n.pop().srsName)}return null}}}}]);"],"names":[],"sourceRoot":""}