"use strict";(self.webpackChunkhslayers_app=self.webpackChunkhslayers_app||[]).push([["default-node_modules_ol_format_GML2_js"],{93002:(v,D,_)=>{_.d(D,{A:()=>g});var y=_(2827),a=_(63945),B=_(14378),O=_(87549),w=_(62112),A=_(24957);const G=y.M+" http://schemas.opengis.net/gml/2.1.2/feature.xsd",m={MultiLineString:"lineStringMember",MultiCurve:"curveMember",MultiPolygon:"polygonMember",MultiSurface:"surfaceMember"};class o extends y.A{constructor(e){super(e=e||{}),this.FEATURE_COLLECTION_PARSERS[y.M].featureMember=(0,a.VT)(this.readFeaturesInternal),this.schemaLocation=e.schemaLocation?e.schemaLocation:G}readFlatCoordinates(e,r){const t=(0,a.mT)(e,!1).replace(/^\s*|\s*$/g,""),p=r[0].srsName;let n="enu";if(p){const i=(0,O.get)(p);i&&(n=i.getAxisOrientation())}const d=t.trim().split(/\s+/),M=[];for(let i=0,u=d.length;i<u;i++){const l=d[i].split(/,+/),E=parseFloat(l[0]),h=parseFloat(l[1]),R=3===l.length?parseFloat(l[2]):0;"en"===n.substr(0,2)?M.push(E,h,R):M.push(h,E,R)}return M}readBox(e,r){const t=(0,a.eY)([null],this.BOX_PARSERS_,e,r,this);return(0,B.createOrUpdate)(t[1][0],t[1][1],t[1][3],t[1][4])}innerBoundaryIsParser(e,r){const t=(0,a.eY)(void 0,this.RING_PARSERS,e,r,this);t&&r[r.length-1].push(t)}outerBoundaryIsParser(e,r){const t=(0,a.eY)(void 0,this.RING_PARSERS,e,r,this);t&&(r[r.length-1][0]=t)}GEOMETRY_NODE_FACTORY_(e,r,t){const s=r[r.length-1],p=s.multiSurface,n=s.surface,d=s.multiCurve;return Array.isArray(e)?t="Envelope":"MultiPolygon"===(t=e.getType())&&!0===p?t="MultiSurface":"Polygon"===t&&!0===n?t="Surface":"MultiLineString"===t&&!0===d&&(t="MultiCurve"),(0,a.qq)("http://www.opengis.net/gml",t)}writeFeatureElement(e,r,t){const s=r.getId();s&&e.setAttribute("fid",s);const p=t[t.length-1],n=p.featureNS,d=r.getGeometryName();p.serializers||(p.serializers={},p.serializers[n]={});const M=[],i=[];if(r.hasProperties()){const l=r.getProperties();for(const E in l){const h=l[E];null!==h&&(M.push(E),i.push(h),E==d||"function"==typeof h.getSimplifiedGeometry?E in p.serializers[n]||(p.serializers[n][E]=(0,a.mm)(this.writeGeometryElement,this)):E in p.serializers[n]||(p.serializers[n][E]=(0,a.mm)(A.uB)))}}const u=Object.assign({},p);u.node=e,(0,a.NQ)(u,p.serializers,(0,a.X1)(void 0,n),i,t,M)}writeCurveOrLineString(e,r,t){const p=t[t.length-1].srsName;if("LineStringSegment"!==e.nodeName&&p&&e.setAttribute("srsName",p),"LineString"===e.nodeName||"LineStringSegment"===e.nodeName){const n=this.createCoordinatesNode_(e.namespaceURI);e.appendChild(n),this.writeCoordinates_(n,r,t)}else if("Curve"===e.nodeName){const n=(0,a.qq)(e.namespaceURI,"segments");e.appendChild(n),this.writeCurveSegments_(n,r,t)}}writeLineStringOrCurveMember(e,r,t){const s=this.GEOMETRY_NODE_FACTORY_(r,t);s&&(e.appendChild(s),this.writeCurveOrLineString(s,r,t))}writeMultiCurveOrLineString(e,r,t){const s=t[t.length-1],p=s.hasZ,n=s.srsName,d=s.curve;n&&e.setAttribute("srsName",n);const M=r.getLineStrings();(0,a.NQ)({node:e,hasZ:p,srsName:n,curve:d},this.LINESTRINGORCURVEMEMBER_SERIALIZERS,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,M,t,void 0,this)}writeGeometryElement(e,r,t){const s=t[t.length-1],p=Object.assign({},s);let n;p.node=e,n=Array.isArray(r)?(0,w.zU)(r,s):(0,w.hX)(r,!0,s),(0,a.NQ)(p,this.GEOMETRY_SERIALIZERS,this.GEOMETRY_NODE_FACTORY_,[n],t,void 0,this)}createCoordinatesNode_(e){const r=(0,a.qq)(e,"coordinates");return r.setAttribute("decimal","."),r.setAttribute("cs",","),r.setAttribute("ts"," "),r}writeCoordinates_(e,r,t){const s=t[t.length-1],p=s.hasZ,n=s.srsName,d=r.getCoordinates(),M=d.length,i=new Array(M);for(let u=0;u<M;++u)i[u]=this.getCoords_(d[u],n,p);(0,A.uB)(e,i.join(" "))}writeCurveSegments_(e,r,t){const s=(0,a.qq)(e.namespaceURI,"LineStringSegment");e.appendChild(s),this.writeCurveOrLineString(s,r,t)}writeSurfaceOrPolygon(e,r,t){const s=t[t.length-1],p=s.hasZ,n=s.srsName;if("PolygonPatch"!==e.nodeName&&n&&e.setAttribute("srsName",n),"Polygon"===e.nodeName||"PolygonPatch"===e.nodeName){const d=r.getLinearRings();(0,a.NQ)({node:e,hasZ:p,srsName:n},this.RING_SERIALIZERS,this.RING_NODE_FACTORY_,d,t,void 0,this)}else if("Surface"===e.nodeName){const d=(0,a.qq)(e.namespaceURI,"patches");e.appendChild(d),this.writeSurfacePatches_(d,r,t)}}RING_NODE_FACTORY_(e,r,t){const s=r[r.length-1],p=s.node,n=s.exteriorWritten;return void 0===n&&(s.exteriorWritten=!0),(0,a.qq)(p.namespaceURI,void 0!==n?"innerBoundaryIs":"outerBoundaryIs")}writeSurfacePatches_(e,r,t){const s=(0,a.qq)(e.namespaceURI,"PolygonPatch");e.appendChild(s),this.writeSurfaceOrPolygon(s,r,t)}writeRing(e,r,t){const s=(0,a.qq)(e.namespaceURI,"LinearRing");e.appendChild(s),this.writeLinearRing(s,r,t)}getCoords_(e,r,t){let s="enu";r&&(s=(0,O.get)(r).getAxisOrientation());let p="en"===s.substr(0,2)?e[0]+","+e[1]:e[1]+","+e[0];return t&&(p+=","+(e[2]||0)),p}writePoint(e,r,t){const s=t[t.length-1],p=s.hasZ,n=s.srsName;n&&e.setAttribute("srsName",n);const d=this.createCoordinatesNode_(e.namespaceURI);e.appendChild(d);const M=r.getCoordinates(),i=this.getCoords_(M,n,p);(0,A.uB)(d,i)}writeMultiPoint(e,r,t){const s=t[t.length-1],p=s.hasZ,n=s.srsName;n&&e.setAttribute("srsName",n);const d=r.getPoints();(0,a.NQ)({node:e,hasZ:p,srsName:n},this.POINTMEMBER_SERIALIZERS,(0,a.X1)("pointMember"),d,t,void 0,this)}writePointMember(e,r,t){const s=(0,a.qq)(e.namespaceURI,"Point");e.appendChild(s),this.writePoint(s,r,t)}writeLinearRing(e,r,t){const p=t[t.length-1].srsName;p&&e.setAttribute("srsName",p);const n=this.createCoordinatesNode_(e.namespaceURI);e.appendChild(n),this.writeCoordinates_(n,r,t)}writeMultiSurfaceOrPolygon(e,r,t){const s=t[t.length-1],p=s.hasZ,n=s.srsName,d=s.surface;n&&e.setAttribute("srsName",n);const M=r.getPolygons();(0,a.NQ)({node:e,hasZ:p,srsName:n,surface:d},this.SURFACEORPOLYGONMEMBER_SERIALIZERS,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,M,t,void 0,this)}writeSurfaceOrPolygonMember(e,r,t){const s=this.GEOMETRY_NODE_FACTORY_(r,t);s&&(e.appendChild(s),this.writeSurfaceOrPolygon(s,r,t))}writeEnvelope(e,r,t){const p=t[t.length-1].srsName;p&&e.setAttribute("srsName",p),(0,a.NQ)({node:e},this.ENVELOPE_SERIALIZERS,a.OL,[r[0]+" "+r[1],r[2]+" "+r[3]],t,["lowerCorner","upperCorner"],this)}MULTIGEOMETRY_MEMBER_NODE_FACTORY_(e,r,t){return(0,a.qq)("http://www.opengis.net/gml",m[r[r.length-1].node.nodeName])}}o.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS={"http://www.opengis.net/gml":{coordinates:(0,a.Tb)(o.prototype.readFlatCoordinates)}},o.prototype.FLAT_LINEAR_RINGS_PARSERS={"http://www.opengis.net/gml":{innerBoundaryIs:o.prototype.innerBoundaryIsParser,outerBoundaryIs:o.prototype.outerBoundaryIsParser}},o.prototype.BOX_PARSERS_={"http://www.opengis.net/gml":{coordinates:(0,a.VT)(o.prototype.readFlatCoordinates)}},o.prototype.GEOMETRY_PARSERS={"http://www.opengis.net/gml":{Point:(0,a.Tb)(y.A.prototype.readPoint),MultiPoint:(0,a.Tb)(y.A.prototype.readMultiPoint),LineString:(0,a.Tb)(y.A.prototype.readLineString),MultiLineString:(0,a.Tb)(y.A.prototype.readMultiLineString),LinearRing:(0,a.Tb)(y.A.prototype.readLinearRing),Polygon:(0,a.Tb)(y.A.prototype.readPolygon),MultiPolygon:(0,a.Tb)(y.A.prototype.readMultiPolygon),Box:(0,a.Tb)(o.prototype.readBox)}},o.prototype.GEOMETRY_SERIALIZERS={"http://www.opengis.net/gml":{Curve:(0,a.mm)(o.prototype.writeCurveOrLineString),MultiCurve:(0,a.mm)(o.prototype.writeMultiCurveOrLineString),Point:(0,a.mm)(o.prototype.writePoint),MultiPoint:(0,a.mm)(o.prototype.writeMultiPoint),LineString:(0,a.mm)(o.prototype.writeCurveOrLineString),MultiLineString:(0,a.mm)(o.prototype.writeMultiCurveOrLineString),LinearRing:(0,a.mm)(o.prototype.writeLinearRing),Polygon:(0,a.mm)(o.prototype.writeSurfaceOrPolygon),MultiPolygon:(0,a.mm)(o.prototype.writeMultiSurfaceOrPolygon),Surface:(0,a.mm)(o.prototype.writeSurfaceOrPolygon),MultiSurface:(0,a.mm)(o.prototype.writeMultiSurfaceOrPolygon),Envelope:(0,a.mm)(o.prototype.writeEnvelope)}},o.prototype.LINESTRINGORCURVEMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{lineStringMember:(0,a.mm)(o.prototype.writeLineStringOrCurveMember),curveMember:(0,a.mm)(o.prototype.writeLineStringOrCurveMember)}},o.prototype.RING_SERIALIZERS={"http://www.opengis.net/gml":{outerBoundaryIs:(0,a.mm)(o.prototype.writeRing),innerBoundaryIs:(0,a.mm)(o.prototype.writeRing)}},o.prototype.POINTMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{pointMember:(0,a.mm)(o.prototype.writePointMember)}},o.prototype.SURFACEORPOLYGONMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{surfaceMember:(0,a.mm)(o.prototype.writeSurfaceOrPolygonMember),polygonMember:(0,a.mm)(o.prototype.writeSurfaceOrPolygonMember)}},o.prototype.ENVELOPE_SERIALIZERS={"http://www.opengis.net/gml":{lowerCorner:(0,a.mm)(A.uB),upperCorner:(0,a.mm)(A.uB)}};const g=o},2827:(v,D,_)=>{_.d(D,{A:()=>d,M:()=>s});var y=_(34958),a=_(77469),B=_(16558),O=_(59346),w=_(39559),A=_(5340),G=_(8932),m=_(48791),o=_(98695),g=_(61725),T=_(29609),e=_(63945),r=_(87549),t=_(62112);const s="http://www.opengis.net/gml",p=/^\s*$/;class n extends g.A{constructor(i){super(),this.featureType=(i=i||{}).featureType,this.featureNS=i.featureNS,this.srsName=i.srsName,this.schemaLocation="",this.FEATURE_COLLECTION_PARSERS={},this.FEATURE_COLLECTION_PARSERS[this.namespace]={featureMember:(0,e.VT)(this.readFeaturesInternal),featureMembers:(0,e.Tb)(this.readFeaturesInternal)},this.supportedMediaTypes=["application/gml+xml"]}readFeaturesInternal(i,u){const l=i.localName;let E=null;if("FeatureCollection"==l)E=(0,e.eY)([],this.FEATURE_COLLECTION_PARSERS,i,u,this);else if("featureMembers"==l||"featureMember"==l||"member"==l){const h=u[0];let R=h.featureType,f=h.featureNS;const c="p",P="p0";if(!R&&i.childNodes){R=[],f={};for(let S=0,C=i.childNodes.length;S<C;++S){const L=i.childNodes[S];if(1===L.nodeType){const U=L.nodeName.split(":").pop();if(!R.includes(U)){let F="",x=0;const Y=L.namespaceURI;for(const Z in f){if(f[Z]===Y){F=Z;break}++x}F||(F=c+x,f[F]=Y),R.push(F+":"+U)}}}"featureMember"!=l&&(h.featureType=R,h.featureNS=f)}if("string"==typeof f){const S=f;f={},f[P]=S}const N={},I=Array.isArray(R)?R:[R];for(const S in f){const C={};for(let L=0,U=I.length;L<U;++L)(I[L].includes(":")?I[L].split(":")[0]:P)===S&&(C[I[L].split(":").pop()]="featureMembers"==l?(0,e.VT)(this.readFeatureElement,this):(0,e.Tb)(this.readFeatureElement,this));N[f[S]]=C}E=(0,e.eY)("featureMember"==l||"member"==l?void 0:[],N,i,u)}return null===E&&(E=[]),E}readGeometryOrExtent(i,u){const l=u[0];return l.srsName=i.firstElementChild.getAttribute("srsName"),l.srsDimension=i.firstElementChild.getAttribute("srsDimension"),(0,e.eY)(null,this.GEOMETRY_PARSERS,i,u,this)}readExtentElement(i,u){const l=u[0],E=this.readGeometryOrExtent(i,u);return E?(0,t.zU)(E,l):void 0}readGeometryElement(i,u){const l=u[0],E=this.readGeometryOrExtent(i,u);return E?(0,t.hX)(E,!1,l):void 0}readFeatureElementInternal(i,u,l){let E;const h={};for(let c=i.firstElementChild;c;c=c.nextElementSibling){let P;const N=c.localName;0===c.childNodes.length||1===c.childNodes.length&&(3===c.firstChild.nodeType||4===c.firstChild.nodeType)?(P=(0,e.mT)(c,!1),p.test(P)&&(P=void 0)):(l&&(P="boundedBy"===N?this.readExtentElement(c,u):this.readGeometryElement(c,u)),P?"boundedBy"!==N&&(E=N):P=this.readFeatureElementInternal(c,u,!1));const I=c.attributes.length;if(I>0&&!(P instanceof a.A)){P={_content_:P};for(let S=0;S<I;S++)P[c.attributes[S].name]=c.attributes[S].value}h[N]?(h[N]instanceof Array||(h[N]=[h[N]]),h[N].push(P)):h[N]=P}if(!l)return h;const R=new y.default(h);E&&R.setGeometryName(E);const f=i.getAttribute("fid")||(0,e.I8)(i,this.namespace,"id");return f&&R.setId(f),R}readFeatureElement(i,u){return this.readFeatureElementInternal(i,u,!0)}readPoint(i,u){const l=this.readFlatCoordinatesFromNode(i,u);if(l)return new m.default(l,"XYZ")}readMultiPoint(i,u){const l=(0,e.eY)([],this.MULTIPOINT_PARSERS,i,u,this);if(l)return new A.A(l)}readMultiLineString(i,u){const l=(0,e.eY)([],this.MULTILINESTRING_PARSERS,i,u,this);if(l)return new w.A(l)}readMultiPolygon(i,u){const l=(0,e.eY)([],this.MULTIPOLYGON_PARSERS,i,u,this);if(l)return new G.A(l)}pointMemberParser(i,u){(0,e.UN)(this.POINTMEMBER_PARSERS,i,u,this)}lineStringMemberParser(i,u){(0,e.UN)(this.LINESTRINGMEMBER_PARSERS,i,u,this)}polygonMemberParser(i,u){(0,e.UN)(this.POLYGONMEMBER_PARSERS,i,u,this)}readLineString(i,u){const l=this.readFlatCoordinatesFromNode(i,u);if(l)return new B.default(l,"XYZ")}readFlatLinearRing(i,u){const l=(0,e.eY)(null,this.GEOMETRY_FLAT_COORDINATES_PARSERS,i,u,this);if(l)return l}readLinearRing(i,u){const l=this.readFlatCoordinatesFromNode(i,u);if(l)return new O.A(l,"XYZ")}readPolygon(i,u){const l=(0,e.eY)([null],this.FLAT_LINEAR_RINGS_PARSERS,i,u,this);if(l&&l[0]){const E=l[0],h=[E.length];let R,f;for(R=1,f=l.length;R<f;++R)(0,T.X$)(E,l[R]),h.push(E.length);return new o.default(E,"XYZ",h)}}readFlatCoordinatesFromNode(i,u){return(0,e.eY)(null,this.GEOMETRY_FLAT_COORDINATES_PARSERS,i,u,this)}readGeometryFromNode(i,u){return this.readGeometryElement(i,[this.getReadOptions(i,u||{})])||null}readFeaturesFromNode(i,u){const l={featureType:this.featureType,featureNS:this.featureNS};return l&&Object.assign(l,this.getReadOptions(i,u)),this.readFeaturesInternal(i,[l])||[]}readProjectionFromNode(i){return(0,r.get)(this.srsName?this.srsName:i.firstElementChild.getAttribute("srsName"))}}n.prototype.namespace=s,n.prototype.FLAT_LINEAR_RINGS_PARSERS={"http://www.opengis.net/gml":{}},n.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS={"http://www.opengis.net/gml":{}},n.prototype.GEOMETRY_PARSERS={"http://www.opengis.net/gml":{}},n.prototype.MULTIPOINT_PARSERS={"http://www.opengis.net/gml":{pointMember:(0,e.VT)(n.prototype.pointMemberParser),pointMembers:(0,e.VT)(n.prototype.pointMemberParser)}},n.prototype.MULTILINESTRING_PARSERS={"http://www.opengis.net/gml":{lineStringMember:(0,e.VT)(n.prototype.lineStringMemberParser),lineStringMembers:(0,e.VT)(n.prototype.lineStringMemberParser)}},n.prototype.MULTIPOLYGON_PARSERS={"http://www.opengis.net/gml":{polygonMember:(0,e.VT)(n.prototype.polygonMemberParser),polygonMembers:(0,e.VT)(n.prototype.polygonMemberParser)}},n.prototype.POINTMEMBER_PARSERS={"http://www.opengis.net/gml":{Point:(0,e.VT)(n.prototype.readFlatCoordinatesFromNode)}},n.prototype.LINESTRINGMEMBER_PARSERS={"http://www.opengis.net/gml":{LineString:(0,e.VT)(n.prototype.readLineString)}},n.prototype.POLYGONMEMBER_PARSERS={"http://www.opengis.net/gml":{Polygon:(0,e.VT)(n.prototype.readPolygon)}},n.prototype.RING_PARSERS={"http://www.opengis.net/gml":{LinearRing:(0,e.Tb)(n.prototype.readFlatLinearRing)}};const d=n},61725:(v,D,_)=>{_.d(D,{A:()=>A});var y=_(62112),a=_(38618),B=_(29609),O=_(63945);const A=class w extends y.Ay{constructor(){super(),this.xmlSerializer_=(0,O.mc)()}getType(){return"xml"}readFeature(m,o){if(!m)return null;if("string"==typeof m){const g=(0,O.qg)(m);return this.readFeatureFromDocument(g,o)}return(0,O.wz)(m)?this.readFeatureFromDocument(m,o):this.readFeatureFromNode(m,o)}readFeatureFromDocument(m,o){const g=this.readFeaturesFromDocument(m,o);return g.length>0?g[0]:null}readFeatureFromNode(m,o){return null}readFeatures(m,o){if(!m)return[];if("string"==typeof m){const g=(0,O.qg)(m);return this.readFeaturesFromDocument(g,o)}return(0,O.wz)(m)?this.readFeaturesFromDocument(m,o):this.readFeaturesFromNode(m,o)}readFeaturesFromDocument(m,o){const g=[];for(let T=m.firstChild;T;T=T.nextSibling)T.nodeType==Node.ELEMENT_NODE&&(0,B.X$)(g,this.readFeaturesFromNode(T,o));return g}readFeaturesFromNode(m,o){return(0,a.b0)()}readGeometry(m,o){if(!m)return null;if("string"==typeof m){const g=(0,O.qg)(m);return this.readGeometryFromDocument(g,o)}return(0,O.wz)(m)?this.readGeometryFromDocument(m,o):this.readGeometryFromNode(m,o)}readGeometryFromDocument(m,o){return null}readGeometryFromNode(m,o){return null}readProjection(m){if(!m)return null;if("string"==typeof m){const o=(0,O.qg)(m);return this.readProjectionFromDocument(o)}return(0,O.wz)(m)?this.readProjectionFromDocument(m):this.readProjectionFromNode(m)}readProjectionFromDocument(m){return this.dataProjection}readProjectionFromNode(m){return this.dataProjection}writeFeature(m,o){const g=this.writeFeatureNode(m,o);return this.xmlSerializer_.serializeToString(g)}writeFeatureNode(m,o){return null}writeFeatures(m,o){const g=this.writeFeaturesNode(m,o);return this.xmlSerializer_.serializeToString(g)}writeFeaturesNode(m,o){return null}writeGeometry(m,o){const g=this.writeGeometryNode(m,o);return this.xmlSerializer_.serializeToString(g)}writeGeometryNode(m,o){return null}}}}]);
//# sourceMappingURL=default-node_modules_ol_format_GML2_js.js.map