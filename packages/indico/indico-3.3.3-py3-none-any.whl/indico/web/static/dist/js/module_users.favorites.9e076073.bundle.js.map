{"version":3,"file":"js/module_users.favorites.9e076073.bundle.js","mappings":"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","sources":["webpack:///indico/modules/users/client/js/Favorites.module.scss?7ce5","webpack:///indico/modules/users/client/js/Favorites.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"submit-button\":\"users-client-js-___Favorites-module__submit-button___AeA4z\",\"fav-list\":\"users-client-js-___Favorites-module__fav-list___KFdnj\",\"fav-item\":\"users-client-js-___Favorites-module__fav-item___FxbQW\",\"list-flex\":\"users-client-js-___Favorites-module__list-flex___Pvha0\",\"detail\":\"users-client-js-___Favorites-module__detail___IlIkm\",\"delete-button\":\"users-client-js-___Favorites-module__delete-button___wFq64\",\"empty-favorites\":\"users-client-js-___Favorites-module__empty-favorites___7j0mT\",\"fav-loader\":\"users-client-js-___Favorites-module__fav-loader___9Opw1\",\"favorite-event-container\":\"users-client-js-___Favorites-module__favorite-event-container___MDESj\",\"date-span\":\"users-client-js-___Favorites-module__date-span___G-Q4g\",\"event-name-box\":\"users-client-js-___Favorites-module__event-name-box___siq9D\"};","// This file is part of Indico.\n// Copyright (C) 2002 - 2024 CERN\n//\n// Indico is free software; you can redistribute it and/or\n// modify it under the terms of the MIT License; see the\n// LICENSE file for more details.\n\nimport categoryFavoriteURL from 'indico-url:users.user_favorites_category_api';\nimport eventFavoriteURL from 'indico-url:users.user_favorites_event_api';\n\nimport _ from 'lodash';\nimport moment from 'moment';\nimport PropTypes from 'prop-types';\nimport React, {useEffect, useState, useCallback} from 'react';\nimport ReactDOM from 'react-dom';\nimport {Button, Icon, List, Loader, Popup} from 'semantic-ui-react';\n\nimport {TooltipIfTruncated} from 'indico/react/components';\nimport {UserSearch} from 'indico/react/components/principals/Search';\nimport {useFavoriteUsers} from 'indico/react/hooks';\nimport {Translate} from 'indico/react/i18n';\nimport {indicoAxios, handleAxiosError} from 'indico/utils/axios';\n\nimport './Favorites.module.scss';\n\nwindow.setupFavoriteSelection = function setupFavoriteSelection(userId) {\n  ReactDOM.render(<FavoriteManager userId={userId} />, document.getElementById('user-favorites'));\n};\n\nfunction FavoriteManager({userId}) {\n  return (\n    <>\n      <div className=\"row\">\n        <FavoriteUserManager userId={userId} />\n        <FavoriteCatManager userId={userId} />\n      </div>\n      <div className=\"row\">\n        <FavoriteEventManager userId={userId} />\n      </div>\n    </>\n  );\n}\n\nFavoriteManager.propTypes = {\n  userId: PropTypes.number,\n};\n\nFavoriteManager.defaultProps = {\n  userId: null,\n};\n\nfunction FavoriteCatManager({userId}) {\n  const [favoriteCats, setFavoriteCats] = useState(null);\n  const [loading, setLoading] = useState(true);\n\n  const getFavoriteCats = useCallback(async () => {\n    let res;\n    try {\n      res = await indicoAxios.get(categoryFavoriteURL(userId !== null ? {user_id: userId} : {}));\n    } catch (error) {\n      handleAxiosError(error);\n      return;\n    }\n    setFavoriteCats(res.data);\n    setLoading(false);\n  }, [userId]);\n\n  useEffect(() => {\n    getFavoriteCats();\n  }, [getFavoriteCats]);\n\n  const deleteFavoriteCat = async id => {\n    try {\n      await indicoAxios.delete(categoryFavoriteURL({category_id: id}));\n    } catch (error) {\n      handleAxiosError(error);\n      return;\n    }\n    setFavoriteCats(values => _.omit(values, id));\n  };\n  return (\n    <div className=\"column col-50\">\n      <div className=\"i-box just-group-list\">\n        <div className=\"i-box-header\">\n          <div className=\"i-box-title\">\n            <Translate>Favorite Categories</Translate>\n          </div>\n        </div>\n        <div className=\"i-box-content\">\n          {loading ? (\n            <Loader active inline styleName=\"fav-loader\" />\n          ) : favoriteCats !== null && Object.keys(favoriteCats).length > 0 ? (\n            <List celled styleName=\"fav-list\">\n              {Object.values(favoriteCats).map(cat => (\n                <List.Item key={cat.id} styleName=\"fav-item\">\n                  <List.Content>\n                    <div styleName=\"list-flex\">\n                      <div>\n                        <a href={cat.url} target=\"_blank\" rel=\"noopener noreferrer\">\n                          {cat.title}\n                        </a>\n                        <br />\n                        <TooltipIfTruncated>\n                          <span styleName=\"detail\">\n                            {cat.chain_titles.slice(0, -1).join(' » ')}\n                          </span>\n                        </TooltipIfTruncated>\n                      </div>\n                      <Popup\n                        trigger={\n                          <Icon\n                            styleName=\"delete-button\"\n                            name=\"close\"\n                            onClick={() => deleteFavoriteCat(cat.id)}\n                            link\n                          />\n                        }\n                        content={Translate.string('Remove from favorites')}\n                        position=\"bottom center\"\n                      />\n                    </div>\n                  </List.Content>\n                </List.Item>\n              ))}\n            </List>\n          ) : (\n            <div styleName=\"empty-favorites\">\n              <Translate>You have not marked any category as favorite.</Translate>\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}\n\nFavoriteCatManager.propTypes = {\n  userId: PropTypes.number,\n};\n\nFavoriteCatManager.defaultProps = {\n  userId: null,\n};\n\nfunction FavoriteEventManager({userId}) {\n  const [favoriteEvents, setFavoriteEvents] = useState(null);\n  const [loading, setLoading] = useState(true);\n\n  const getFavoriteEvents = useCallback(async () => {\n    let res;\n    try {\n      res = await indicoAxios.get(eventFavoriteURL(userId !== null ? {user_id: userId} : {}));\n    } catch (error) {\n      handleAxiosError(error);\n      return;\n    }\n    setFavoriteEvents(res.data);\n    setLoading(false);\n  }, [userId]);\n\n  useEffect(() => {\n    getFavoriteEvents();\n  }, [getFavoriteEvents]);\n\n  const deleteFavoriteEvent = async id => {\n    try {\n      await indicoAxios.delete(eventFavoriteURL({event_id: id}));\n    } catch (error) {\n      handleAxiosError(error);\n      return;\n    }\n    setFavoriteEvents(values => _.omit(values, id));\n  };\n\n  return (\n    <div styleName=\"favorite-event-container\">\n      <div className=\"i-box just-group-list\">\n        <div className=\"i-box-header\">\n          <div className=\"i-box-title\">\n            <Translate>Favorite Events</Translate>\n          </div>\n        </div>\n        <div className=\"i-box-content\">\n          {loading ? (\n            <Loader active inline styleName=\"fav-loader\" />\n          ) : favoriteEvents !== null && Object.keys(favoriteEvents).length > 0 ? (\n            <List celled styleName=\"fav-list\">\n              {Object.values(favoriteEvents)\n                .sort((a, b) => moment(b.start_dt) - moment(a.start_dt))\n                .map(event => (\n                  <List.Item key={event.url} styleName=\"fav-item\">\n                    <List.Content>\n                      <div styleName=\"list-flex\">\n                        <span styleName=\"date-span\">\n                          {moment(event.start_dt).format('D MMM YYYY')}\n                        </span>\n                        <span styleName=\"event-name-box\">\n                          <a href={event.url} target=\"_blank\" rel=\"noopener noreferrer\">\n                            {event.title}\n                          </a>\n                          <span dangerouslySetInnerHTML={{__html: event.label_markup}} />\n                          <br />\n                          <TooltipIfTruncated>\n                            <span styleName=\"detail\">\n                              {event.chain_titles ? (\n                                event.chain_titles.join(' » ')\n                              ) : (\n                                <Translate>Unlisted</Translate>\n                              )}\n                            </span>\n                          </TooltipIfTruncated>\n                        </span>\n                        <Popup\n                          trigger={\n                            <Icon\n                              styleName=\"delete-button\"\n                              name=\"close\"\n                              onClick={() => deleteFavoriteEvent(event.id)}\n                              link\n                            />\n                          }\n                          content={Translate.string('Remove from favorites')}\n                          position=\"bottom center\"\n                        />\n                      </div>\n                    </List.Content>\n                  </List.Item>\n                ))}\n            </List>\n          ) : (\n            <div styleName=\"empty-favorites\">\n              <Translate>You have not marked any event as favorite.</Translate>\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}\n\nFavoriteEventManager.propTypes = {\n  userId: PropTypes.number,\n};\n\nFavoriteEventManager.defaultProps = {\n  userId: null,\n};\n\nfunction FavoriteUserManager({userId}) {\n  const [favoriteUsers, [addFavoriteUser, deleteFavoriteUser], loading] = useFavoriteUsers(userId);\n\n  const searchTrigger = triggerProps => (\n    <Button {...triggerProps} styleName=\"submit-button\">\n      <Translate>Add Indico user</Translate>\n    </Button>\n  );\n  return (\n    <div className=\"column col-50\">\n      <div className=\"i-box just-group-list\">\n        <div className=\"i-box-header\">\n          <div className=\"i-box-title\">\n            <Translate>Favorite Users</Translate>\n          </div>\n        </div>\n        <div className=\"i-box-content\">\n          {loading ? (\n            <Loader active inline styleName=\"fav-loader\" />\n          ) : favoriteUsers !== null && Object.keys(favoriteUsers).length > 0 ? (\n            <List celled styleName=\"fav-list\">\n              {Object.values(_.orderBy(favoriteUsers, ['name'])).map(user => (\n                <List.Item key={user.identifier} styleName=\"fav-item\">\n                  <div styleName=\"list-flex\">\n                    <div>\n                      <span>{user.name}</span>\n                      <br />\n                      <TooltipIfTruncated>\n                        <span styleName=\"detail\">{user.detail}</span>\n                      </TooltipIfTruncated>\n                    </div>\n                    <Popup\n                      trigger={\n                        <Icon\n                          styleName=\"delete-button\"\n                          name=\"close\"\n                          onClick={() => deleteFavoriteUser(user.userId)}\n                          link\n                        />\n                      }\n                      content={Translate.string('Remove from favorites')}\n                      position=\"bottom center\"\n                    />\n                  </div>\n                </List.Item>\n              ))}\n            </List>\n          ) : (\n            <div styleName=\"empty-favorites\">\n              <Translate>You have not marked any user as favorite.</Translate>\n            </div>\n          )}\n        </div>\n      </div>\n      <UserSearch\n        existing={Object.values(favoriteUsers).map(u => u.identifier)}\n        onAddItems={e => e.forEach(u => addFavoriteUser(u.userId))}\n        triggerFactory={searchTrigger}\n      />\n    </div>\n  );\n}\n\nFavoriteUserManager.propTypes = {\n  userId: PropTypes.number,\n};\n\nFavoriteUserManager.defaultProps = {\n  userId: null,\n};\n"],"names":["categoryFavoriteURL","_buildFlaskURL","bind","endpoint","rules","args","converters","category_id","user_id","defaults","trace","data","isDynamic","eventFavoriteURL","event_id","FavoriteManager","_ref","userId","React","className","FavoriteUserManager","FavoriteCatManager","FavoriteEventManager","_ref2","favoriteCats","setFavoriteCats","useState","loading","setLoading","getFavoriteCats","useCallback","async","res","indicoAxios","get","error","handleAxiosError","useEffect","Translate","Loader","active","inline","Object","keys","length","List","celled","values","map","cat","Item","key","id","Content","href","url","target","rel","title","TooltipIfTruncated","chain_titles","slice","join","Popup","trigger","Icon","name","onClick","delete","_omit","deleteFavoriteCat","link","content","string","position","_ref3","favoriteEvents","setFavoriteEvents","getFavoriteEvents","sort","a","b","moment","start_dt","event","format","dangerouslySetInnerHTML","__html","label_markup","deleteFavoriteEvent","_ref4","favoriteUsers","addFavoriteUser","deleteFavoriteUser","useFavoriteUsers","_orderBy","user","identifier","detail","UserSearch","existing","u","onAddItems","e","forEach","triggerFactory","triggerProps","Button","_extends","window","setupFavoriteSelection","ReactDOM","document","getElementById","propTypes","PropTypes","defaultProps"],"sourceRoot":""}