"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[8942],{22406:(e,t,n)=>{var i=n(46755),r=n.n(i),o=n(3803),a=n.n(o),c=n(11052);window.setupImportDialog=function(){const e=$("#event-import-form-container"),t=$("#event-import-form"),n=$("#event-details").hide(),i=$("#clone-errors").hide(),o=$(".clone-action-button"),d=e.data("step"),s=e.data("clonerDependencies"),p=a()((function(r){const a=$.param(t.serializeArray(),!0);(r||a!==t.data("initialData"))&&(t.data("initialData",a),t.ajaxSubmit({url:e.data("event-details-url"),method:"POST",success(e){if(e.success){var t;const r=n.find(".import-event-title"),a=n.find(".import-event-category"),d=n.find(".import-event-dates");r.text(e.event.title),a.text(null===(t=e.event.category_chain)||void 0===t?void 0:t.join(" Â» ")),a.toggle(!!e.event.category_chain),d.text((0,c.serializeDateTimeRange)(e.event.start_dt,e.event.end_dt)),i.hide(),n.show(),o.prop("disabled",!1)}else i.show().find(".message-text").html("string"==typeof(r=e.error.message)?r:$("<div>").append(r.map((function(e){const t=$("<strong>").append(e[0]),n=$("<ul>").append(e[1].map((function(e){return $("<li>").text(e)})));return $("<div>").append(t,n)})))),n.hide(),o.prop("disabled",!0);var r}}))}),300);1===d&&(o.prop("disabled",!0),t.on("change","input",r()(p,!1)),t.on("keyup","input",(function(e){e.preventDefault(),p(!1)}))),2===d&&(t.find("#form-group-selected_items").on("change","input[type=checkbox]",(function(){const e=$(this),t=s[e.val()],n=e.closest(".form-field");e.prop("checked")?t.requires&&t.requires.forEach((function(e){n.find("[value={0}]:not(:disabled)".format(e)).prop("checked",!0)})):t.required_by&&t.required_by.forEach((function(e){n.find("[value={0}]".format(e)).prop("checked",!1)}))})),$("#form-group-selected_items input[type=checkbox]:checked").trigger("change"),$("#form-group-selected_items input[type=checkbox]:not(:checked)").trigger("change"))}}},e=>{e.O(0,[2076],(()=>{return t=22406,e(e.s=t);var t}));e.O()}]);
//# sourceMappingURL=module_events.importing.e8ed9759.bundle.js.map