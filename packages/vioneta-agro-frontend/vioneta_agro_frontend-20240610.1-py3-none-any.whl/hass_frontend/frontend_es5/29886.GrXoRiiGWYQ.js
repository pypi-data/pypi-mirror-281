"use strict";(self.webpackChunkvioneta_agro_frontend=self.webpackChunkvioneta_agro_frontend||[]).push([[29886],{29886:function(e,t,n){var i=n(1781).A,r=n(94881).A;n.a(e,function(){var e=i(r().mark((function e(i,o){var s,a,u,c,d,l,h,f,v,y,m,_,k,p,b,g,A,C,w,E,M,N;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n.r(t),s=n(94881),a=n(1781),u=n(36683),c=n(89231),d=n(29864),l=n(83647),h=n(8364),f=n(76504),v=n(80792),y=n(27934),n.n(y),m=n(77052),n.n(m),_=n(21950),n.n(_),k=n(68113),n.n(k),p=n(55888),n.n(p),b=n(56262),n.n(b),g=n(8339),n.n(g),A=n(196),C=n(77664),w=n(40068),E=n(3414),M=n(50308),!(N=i([M])).then){e.next=38;break}return e.next=34,N;case 34:e.t1=e.sent,e.t0=(0,e.t1)(),e.next=39;break;case 38:e.t0=N;case 39:M=e.t0[0],(0,h.A)([(0,A.EM)("hui-conditional-card")],(function(e,t){var i,r=function(t){function n(){var t;(0,c.A)(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return t=(0,d.A)(this,n,[].concat(r)),e(t),t}return(0,l.A)(n,t),(0,u.A)(n)}(t);return{F:r,d:[{kind:"method",static:!0,key:"getConfigElement",value:(i=(0,a.A)((0,s.A)().mark((function e(){return(0,s.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([n.e(27311),n.e(88201),n.e(49774),n.e(35894),n.e(47420),n.e(22984),n.e(20593),n.e(38716),n.e(62223),n.e(92717),n.e(13952),n.e(33066),n.e(20520),n.e(95997),n.e(65525),n.e(68639),n.e(34)]).then(n.bind(n,46937));case 2:return e.abrupt("return",document.createElement("hui-conditional-card-editor"));case 3:case"end":return e.stop()}}),e)}))),function(){return i.apply(this,arguments)})},{kind:"method",static:!0,key:"getStubConfig",value:function(){return{type:"conditional",conditions:[],card:{}}}},{kind:"method",key:"setConfig",value:function(e){if(this.validateConfig(e),!e.card)throw new Error("No card configured");this._element=this._createCardElement(e.card)}},{kind:"method",key:"getCardSize",value:function(){return(0,w.Z)(this._element)}},{kind:"method",key:"_createCardElement",value:function(e){var t=this,n=(0,M.te)(e);return this.hass&&(n.hass=this.hass),n.addEventListener("ll-rebuild",(function(n){n.stopPropagation(),t._rebuildCard(e)}),{once:!0}),n}},{kind:"method",key:"_rebuildCard",value:function(e){this._element=this._createCardElement(e),this.lastChild&&this.replaceChild(this._element,this.lastChild)}},{kind:"method",key:"setVisibility",value:function(e){var t=this.editMode||e,n=this.hidden;(0,f.A)((0,v.A)(r.prototype),"setVisibility",this).call(this,e),n!==this.hidden&&(0,C.r)(this,"card-visibility-changed",{value:t})}}]}}),E.E),o(),e.next=47;break;case 44:e.prev=44,e.t2=e.catch(0),o(e.t2);case 47:case"end":return e.stop()}}),e,null,[[0,44]])})));return function(t,n){return e.apply(this,arguments)}}())},60368:function(e,t,n){n.d(t,{CZ:function(){return _},Wx:function(){return h},XH:function(){return l},db:function(){return v},gW:function(){return m},lB:function(){return y}});var i=n(66123),r=n(61780),o=(n(77052),n(69466),n(53501),n(21950),n(36724),n(71936),n(19954),n(650),n(43859),n(68113),n(57733),n(34517),n(56262),n(66274),n(38129),n(85038),n(84531),n(98168),n(91078),n(22836),n(15445),n(24483),n(13478),n(46355),n(14612),n(53691),n(48455),n(34290),n(8339),n(68286)),s=n(96516),a=n(55970),u=n(83378);function c(e,t){var n;if((0,a.n)(t)&&e.states[t])return null===(n=e.states[t])||void 0===n?void 0:n.state}function d(e,t){var n,i=e.entity&&t.states[e.entity]?t.states[e.entity].state:u.Hh,s=null!==(n=e.state)&&void 0!==n?n:e.state_not;if(Array.isArray(s)){var a=s.map((function(e){return c(t,e)})).filter((function(e){return void 0!==e}));s=[].concat((0,r.A)(s),(0,r.A)(a))}else if("string"==typeof s){var d=c(t,s);s=[s],d&&s.push(d)}return null!=e.state?(0,o.e)(s).includes(i):!(0,o.e)(s).includes(i)}function l(e,t){return e.every((function(e){if("condition"in e)switch(e.condition){case"screen":return!!(n=e).media_query&&matchMedia(n.media_query).matches;case"user":return function(e,t){var n;return!(!e.users||null===(n=t.user)||void 0===n||!n.id)&&e.users.includes(t.user.id)}(e,t);case"numeric_state":return function(e,t){var n,i,r,o=null===(n=e.entity?t.states[e.entity]:void 0)||void 0===n?void 0:n.state,s=e.above,a=e.below;"string"==typeof s&&(s=null!==(i=c(t,s))&&void 0!==i?i:s),"string"==typeof a&&(a=null!==(r=c(t,a))&&void 0!==r?r:a);var u=Number(o),d=Number(s),l=Number(a);return!isNaN(u)&&(null==e.above||isNaN(d)||d<u)&&(null==e.below||isNaN(l)||l>u)}(e,t);case"and":return function(e,t){return!e.conditions||l(e.conditions,t)}(e,t);case"or":return function(e,t){return!e.conditions||e.conditions.some((function(e){return l([e],t)}))}(e,t);default:return d(e,t)}var n;return d(e,t)}))}function h(e){var t,n=new Set,s=(0,i.A)(e);try{for(s.s();!(t=s.n()).done;){var u=t.value;if("numeric_state"===u.condition)"string"==typeof u.above&&(0,a.n)(u.above)&&n.add(u.above),"string"==typeof u.below&&(0,a.n)(u.below)&&n.add(u.below);else if("state"===u.condition){var c,d;[].concat((0,r.A)(null!==(c=(0,o.e)(u.state))&&void 0!==c?c:[]),(0,r.A)(null!==(d=(0,o.e)(u.state_not))&&void 0!==d?d:[])).forEach((function(e){e&&(0,a.n)(e)&&n.add(e)}))}else if("conditions"in u&&u.conditions)return new Set([].concat((0,r.A)(n),(0,r.A)(h(u.conditions))))}}catch(l){s.e(l)}finally{s.f()}return n}function f(e){return null!=e.entity&&(null!=e.state||null!=e.state_not)}function v(e){return e.every((function(e){if("condition"in e)switch(e.condition){case"screen":return null!=e.media_query;case"user":return function(e){return null!=e.users}(e);case"numeric_state":return function(e){return null!=e.entity&&(null!=e.above||null!=e.below)}(e);case"and":case"or":return function(e){return null!=e.conditions}(e);default:return f(e)}return f(e)}))}function y(e,t){return"conditions"in e&&e.conditions?Object.assign(Object.assign({},e),{},{conditions:e.conditions.map((function(e){return y(e,t)}))}):"state"===e.condition||"numeric_state"===e.condition?Object.assign(Object.assign({},e),{},{entity:t}):e}function m(e){return e.reduce((function(e,t){return"conditions"in t&&t.conditions&&e.push.apply(e,(0,r.A)(m(t.conditions))),"screen"===t.condition&&t.media_query&&e.push(t.media_query),e}),[])}function _(e,t){return m(e).map((function(e){return(0,s.m)(e,(function(e){t(e)}))}))}},3414:function(e,t,n){n.d(t,{E:function(){return v}});var i=n(36683),r=n(89231),o=n(29864),s=n(83647),a=n(8364),u=n(76504),c=n(80792),d=(n(86176),n(27934),n(77052),n(69466),n(68113),n(66274),n(85038),n(84531),n(34290),n(40924)),l=n(196),h=n(61314),f=n(60368),v=(0,a.A)([(0,l.EM)("hui-conditional-base")],(function(e,t){var n=function(t){function n(){var t;(0,r.A)(this,n);for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return t=(0,o.A)(this,n,[].concat(s)),e(t),t}return(0,s.A)(n,t),(0,i.A)(n)}(t);return{F:n,d:[{kind:"field",decorators:[(0,l.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,l.MZ)({type:Boolean})],key:"editMode",value:function(){return!1}},{kind:"field",decorators:[(0,l.wk)()],key:"_config",value:void 0},{kind:"field",key:"_element",value:void 0},{kind:"field",key:"_listeners",value:function(){return[]}},{kind:"field",key:"_mediaQueries",value:function(){return[]}},{kind:"method",key:"createRenderRoot",value:function(){return this}},{kind:"method",key:"validateConfig",value:function(e){if(!e.conditions)throw new Error("No conditions configured");if(!Array.isArray(e.conditions))throw new Error("Conditions need to be an array");if(!(0,f.db)(e.conditions))throw new Error("Conditions are invalid");this.lastChild&&this.removeChild(this.lastChild),this._config=e}},{kind:"method",key:"disconnectedCallback",value:function(){(0,u.A)((0,c.A)(n.prototype),"disconnectedCallback",this).call(this),this._clearMediaQueries()}},{kind:"method",key:"connectedCallback",value:function(){(0,u.A)((0,c.A)(n.prototype),"connectedCallback",this).call(this),this._listenMediaQueries(),this._updateVisibility()}},{kind:"method",key:"_clearMediaQueries",value:function(){this._listeners.forEach((function(e){return e()})),this._listeners=[]}},{kind:"method",key:"_listenMediaQueries",value:function(){var e=this;if(this._config&&this.hass){var t=this._config.conditions.filter((function(e){return"condition"in e})),n=(0,f.gW)(t);if(!(0,h.b)(n,this._mediaQueries)){this._clearMediaQueries();var i=this._config.conditions,r=1===i.length&&"condition"in i[0]&&"screen"===i[0].condition&&!!i[0].media_query;this._listeners=(0,f.CZ)(t,(function(t){r?e.setVisibility(t):e._updateVisibility()}))}}}},{kind:"method",key:"update",value:function(e){(0,u.A)((0,c.A)(n.prototype),"update",this).call(this,e),(e.has("_element")||e.has("_config")||e.has("hass")||e.has("editMode"))&&(this._listenMediaQueries(),this._updateVisibility())}},{kind:"method",key:"_updateVisibility",value:function(){if(this._element&&this.hass&&this._config){this._element.editMode=this.editMode;var e=(0,f.XH)(this._config.conditions,this.hass);this.setVisibility(e)}}},{kind:"method",key:"setVisibility",value:function(e){if(this._element&&this.hass){var t=this.editMode||e;this.hidden!==!t&&(this.toggleAttribute("hidden",!t),this.style.setProperty("display",t?"":"none")),t?(this._element.hass=this.hass,this._element.parentElement||this.appendChild(this._element)):this._element.parentElement&&this.removeChild(this._element)}}}]}}),d.mN)}}]);
//# sourceMappingURL=29886.GrXoRiiGWYQ.js.map