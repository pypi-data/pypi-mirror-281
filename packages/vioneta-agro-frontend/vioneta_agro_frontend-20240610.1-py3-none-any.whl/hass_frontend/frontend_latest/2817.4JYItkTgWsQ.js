/*! For license information please see 2817.4JYItkTgWsQ.js.LICENSE.txt */
export const id=2817;export const ids=[2817];export const modules={92518:(e,t,a)=>{function r(e){if(!e||"object"!=typeof e)return e;if("[object Date]"==Object.prototype.toString.call(e))return new Date(e.getTime());if(Array.isArray(e))return e.map(r);var t={};return Object.keys(e).forEach((function(a){t[a]=r(e[a])})),t}a.d(t,{A:()=>r})},16102:(e,t,a)=>{a.d(t,{$O:()=>B,Bm:()=>y,Cr:()=>P,Cy:()=>s,DE:()=>c,DJ:()=>m,EZ:()=>b,Eo:()=>C,Hz:()=>i,Is:()=>_,JZ:()=>j,Lx:()=>O,PY:()=>q,S0:()=>$,SG:()=>v,TH:()=>E,Tx:()=>D,U:()=>Z,VL:()=>o,Ve:()=>G,W6:()=>W,YP:()=>S,Yn:()=>w,aG:()=>k,aL:()=>n,au:()=>d,dZ:()=>p,fC:()=>I,iK:()=>f,in:()=>V,jF:()=>N,jT:()=>T,lz:()=>h,mQ:()=>x,mR:()=>F,mX:()=>U,of:()=>K,qN:()=>z,re:()=>A,sM:()=>l,sb:()=>L,tj:()=>R,u1:()=>r,wI:()=>g,zI:()=>u,zP:()=>H,zb:()=>M});let r=function(e){return e[e.Idle=0]="Idle",e[e.Including=1]="Including",e[e.Excluding=2]="Excluding",e[e.Busy=3]="Busy",e[e.SmartStart=4]="SmartStart",e}({}),s=function(e){return e[e.Default=0]="Default",e[e.SmartStart=1]="SmartStart",e[e.Insecure=2]="Insecure",e[e.Security_S0=3]="Security_S0",e[e.Security_S2=4]="Security_S2",e}({}),i=function(e){return e[e.Temporary=-2]="Temporary",e[e.None=-1]="None",e[e.S2_Unauthenticated=0]="S2_Unauthenticated",e[e.S2_Authenticated=1]="S2_Authenticated",e[e.S2_AccessControl=2]="S2_AccessControl",e[e.S0_Legacy=7]="S0_Legacy",e}({}),n=function(e){return e[e.SmartStart=0]="SmartStart",e}({});let o=function(e){return e[e.Error_Timeout=-1]="Error_Timeout",e[e.Error_Checksum=0]="Error_Checksum",e[e.Error_TransmissionFailed=1]="Error_TransmissionFailed",e[e.Error_InvalidManufacturerID=2]="Error_InvalidManufacturerID",e[e.Error_InvalidFirmwareID=3]="Error_InvalidFirmwareID",e[e.Error_InvalidFirmwareTarget=4]="Error_InvalidFirmwareTarget",e[e.Error_InvalidHeaderInformation=5]="Error_InvalidHeaderInformation",e[e.Error_InvalidHeaderFormat=6]="Error_InvalidHeaderFormat",e[e.Error_InsufficientMemory=7]="Error_InsufficientMemory",e[e.Error_InvalidHardwareVersion=8]="Error_InvalidHardwareVersion",e[e.OK_WaitingForActivation=253]="OK_WaitingForActivation",e[e.OK_NoRestart=254]="OK_NoRestart",e[e.OK_RestartPending=255]="OK_RestartPending",e}({}),c=function(e){return e[e.Error_Timeout=0]="Error_Timeout",e[e.Error_RetryLimitReached=1]="Error_RetryLimitReached",e[e.Error_Aborted=2]="Error_Aborted",e[e.Error_NotSupported=3]="Error_NotSupported",e[e.OK=255]="OK",e}({});const l=52;let d=function(e){return e[e.NotAvailable=127]="NotAvailable",e[e.ReceiverSaturated=126]="ReceiverSaturated",e[e.NoSignalDetected=125]="NoSignalDetected",e}({}),p=function(e){return e[e.ZWave_9k6=1]="ZWave_9k6",e[e.ZWave_40k=2]="ZWave_40k",e[e.ZWave_100k=3]="ZWave_100k",e[e.LongRange_100k=4]="LongRange_100k",e}({}),u=function(e){return e[e.Unknown=0]="Unknown",e[e.Asleep=1]="Asleep",e[e.Awake=2]="Awake",e[e.Dead=3]="Dead",e[e.Alive=4]="Alive",e}({});const _=(e,t)=>{if(t.device_id&&t.entry_id)throw new Error("Only one of device or entry ID should be supplied.");if(!t.device_id&&!t.entry_id)throw new Error("Either device or entry ID should be supplied.");return e.callWS({type:"zwave_js/network_status",device_id:t.device_id,entry_id:t.entry_id})},v=(e,t)=>e.callWS({type:"zwave_js/data_collection_status",entry_id:t}),h=(e,t,a)=>e.callWS({type:"zwave_js/update_data_collection_preference",entry_id:t,opted_in:a}),y=(e,t)=>e.callWS({type:"zwave_js/get_provisioning_entries",entry_id:t}),m=(e,t,a,r=s.Default,i,n,o,c)=>e.connection.subscribeMessage((e=>a(e)),{type:"zwave_js/add_node",entry_id:t,inclusion_strategy:r,qr_code_string:n,qr_provisioning_information:i,planned_provisioning_entry:o,dsk:c}),g=(e,t)=>e.callWS({type:"zwave_js/stop_inclusion",entry_id:t}),b=(e,t)=>e.callWS({type:"zwave_js/stop_exclusion",entry_id:t}),f=(e,t,a,r)=>e.callWS({type:"zwave_js/grant_security_classes",entry_id:t,securityClasses:a,clientSideAuth:r}),w=(e,t,a)=>e.callWS({type:"zwave_js/try_parse_dsk_from_qr_code_string",entry_id:t,qr_code_string:a}),S=(e,t,a)=>e.callWS({type:"zwave_js/validate_dsk_and_enter_pin",entry_id:t,pin:a}),z=(e,t,a)=>e.callWS({type:"zwave_js/supports_feature",entry_id:t,feature:a}),E=(e,t,a)=>e.callWS({type:"zwave_js/parse_qr_code_string",entry_id:t,qr_code_string:a}),k=(e,t,a,r,s)=>e.callWS({type:"zwave_js/provision_smart_start_node",entry_id:t,qr_code_string:r,qr_provisioning_information:a,planned_provisioning_entry:s}),j=(e,t,a,r)=>e.callWS({type:"zwave_js/unprovision_smart_start_node",entry_id:t,dsk:a,node_id:r}),x=(e,t)=>e.callWS({type:"zwave_js/node_status",device_id:t}),L=(e,t,a)=>e.connection.subscribeMessage((e=>a(e)),{type:"zwave_js/subscribe_node_status",device_id:t}),A=(e,t)=>e.callWS({type:"zwave_js/node_metadata",device_id:t}),M=(e,t)=>e.callWS({type:"zwave_js/node_alerts",device_id:t}),W=(e,t)=>e.callWS({type:"zwave_js/get_config_parameters",device_id:t}),I=(e,t,a,r,s,i)=>{const n={type:"zwave_js/set_config_parameter",device_id:t,property:a,endpoint:r,value:s,property_key:i};return e.callWS(n)},C=(e,t,a)=>e.connection.subscribeMessage((e=>a(e)),{type:"zwave_js/refresh_node_info",device_id:t}),T=(e,t)=>e.callWS({type:"zwave_js/rebuild_node_routes",device_id:t}),R=(e,t,a)=>e.connection.subscribeMessage((e=>a(e)),{type:"zwave_js/remove_failed_node",device_id:t}),O=(e,t)=>e.callWS({type:"zwave_js/begin_rebuilding_routes",entry_id:t}),D=(e,t)=>e.callWS({type:"zwave_js/stop_rebuilding_routes",entry_id:t}),$=(e,t,a)=>e.connection.subscribeMessage((e=>a(e)),{type:"zwave_js/subscribe_rebuild_routes_progress",entry_id:t}),H=(e,t,a)=>e.connection.subscribeMessage((e=>a(e)),{type:"zwave_js/subscribe_controller_statistics",entry_id:t}),N=(e,t,a)=>e.connection.subscribeMessage((e=>a(e)),{type:"zwave_js/subscribe_node_statistics",device_id:t}),P=(e,t)=>e.callWS({type:"zwave_js/is_node_firmware_update_in_progress",device_id:t}),Z=(e,t)=>e.callWS({type:"zwave_js/is_any_ota_firmware_update_in_progress",entry_id:t}),q=(e,t)=>e.callWS({type:"zwave_js/hard_reset_controller",entry_id:t}),F=async(e,t,a,r)=>{const s=new FormData;s.append("file",a),void 0!==r&&s.append("target",r.toString());const i=await e.fetchWithAuth(`/api/zwave_js/firmware/upload/${t}`,{method:"POST",body:s});if(200!==i.status)throw new Error(i.statusText)},U=(e,t,a)=>e.connection.subscribeMessage((e=>a(e)),{type:"zwave_js/subscribe_firmware_update_status",device_id:t}),K=(e,t)=>e.callWS({type:"zwave_js/abort_firmware_update",device_id:t}),V=(e,t,a)=>e.connection.subscribeMessage(a,{type:"zwave_js/subscribe_log_updates",entry_id:t}),B=(e,t)=>e.callWS({type:"zwave_js/get_log_config",entry_id:t}),G=(e,t,a)=>e.callWS({type:"zwave_js/update_log_config",entry_id:t,config:{level:a}})},89388:(e,t,a)=>{a.a(e,(async(e,r)=>{try{a.r(t);var s=a(62659),i=a(76504),n=a(80792),o=a(40924),c=a(18791),l=a(45081),d=a(16102),p=a(98876),u=a(53892),_=a(71938),v=e([u]);u=(v.then?(await v)():v)[0];const h="M12 2C6.5 2 2 6.5 2 12S6.5 22 12 22 22 17.5 22 12 17.5 2 12 2M10 17L5 12L6.41 10.59L10 14.17L17.59 6.58L19 8L10 17Z",y="M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2C6.47,2 2,6.47 2,12C2,17.53 6.47,22 12,22C17.53,22 22,17.53 22,12C22,6.47 17.53,2 12,2M14.59,8L12,10.59L9.41,8L8,9.41L10.59,12L8,14.59L9.41,16L12,13.41L14.59,16L16,14.59L13.41,12L16,9.41L14.59,8Z",m="M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z";(0,s.A)([(0,c.EM)("zwave_js-provisioned")],(function(e,t){class a extends t{constructor(...t){super(...t),e(this)}}return{F:a,d:[{kind:"field",decorators:[(0,c.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,c.MZ)({attribute:!1})],key:"route",value:void 0},{kind:"field",decorators:[(0,c.MZ)({type:Boolean})],key:"narrow",value:()=>!1},{kind:"field",decorators:[(0,c.MZ)()],key:"configEntryId",value:void 0},{kind:"field",decorators:[(0,c.wk)()],key:"_provisioningEntries",value:()=>[]},{kind:"method",key:"render",value:function(){return o.qy` <hass-tabs-subpage-data-table .hass="${this.hass}" .narrow="${this.narrow}" .route="${this.route}" .tabs="${_.configTabs}" .columns="${this._columns(this.narrow)}" .data="${this._provisioningEntries}"> </hass-tabs-subpage-data-table> `}},{kind:"field",key:"_columns",value(){return(0,l.A)((e=>({included:{title:this.hass.localize("ui.panel.config.zwave_js.provisioned.included"),type:"icon",width:"100px",template:e=>e.nodeId?o.qy` <ha-svg-icon .label="${this.hass.localize("ui.panel.config.zwave_js.provisioned.included")}" .path="${h}"></ha-svg-icon> `:o.qy` <ha-svg-icon .label="${this.hass.localize("ui.panel.config.zwave_js.provisioned.not_included")}" .path="${y}"></ha-svg-icon> `},dsk:{title:this.hass.localize("ui.panel.config.zwave_js.provisioned.dsk"),sortable:!0,filterable:!0,grows:!0},security_classes:{title:this.hass.localize("ui.panel.config.zwave_js.provisioned.security_classes"),width:"30%",hidden:e,filterable:!0,sortable:!0,template:e=>e.securityClasses.map((e=>this.hass.localize(`ui.panel.config.zwave_js.security_classes.${d.Hz[e]}.title`))).join(", ")},unprovision:{title:this.hass.localize("ui.panel.config.zwave_js.provisioned.unprovison"),type:"icon-button",width:"100px",template:e=>o.qy` <ha-icon-button .label="${this.hass.localize("ui.panel.config.zwave_js.provisioned.unprovison")}" .path="${m}" .provisioningEntry="${e}" @click="${this._unprovision}"></ha-icon-button> `}})))}},{kind:"method",key:"firstUpdated",value:function(e){(0,i.A)((0,n.A)(a.prototype),"firstUpdated",this).call(this,e),this._fetchData()}},{kind:"method",key:"_fetchData",value:async function(){this._provisioningEntries=await(0,d.Bm)(this.hass,this.configEntryId)}},{kind:"field",key:"_unprovision",value(){return async e=>{const t=e.currentTarget.provisioningEntry.dsk;await(0,p.showConfirmationDialog)(this,{title:this.hass.localize("ui.panel.config.zwave_js.provisioned.confirm_unprovision_title"),text:this.hass.localize("ui.panel.config.zwave_js.provisioned.confirm_unprovision_text"),confirmText:this.hass.localize("ui.panel.config.zwave_js.provisioned.unprovison")})&&(await(0,d.JZ)(this.hass,this.configEntryId,t),this._fetchData())}}}]}}),o.WF);r()}catch(e){r(e)}}))},95265:(e,t,a)=>{a.a(e,(async(e,r)=>{try{a.d(t,{P:()=>n});var s=a(74808),i=e([s]);s=(i.then?(await i)():i)[0];class n{constructor(e,{target:t,config:a,callback:r,skipInitial:s}){this.t=new Set,this.o=!1,this.i=!1,this.h=e,null!==t&&this.t.add(null!=t?t:e),this.l=a,this.o=null!=s?s:this.o,this.callback=r,window.ResizeObserver?(this.u=new ResizeObserver((e=>{this.handleChanges(e),this.h.requestUpdate()})),e.addController(this)):console.warn("ResizeController error: browser does not support ResizeObserver.")}handleChanges(e){var t;this.value=null===(t=this.callback)||void 0===t?void 0:t.call(this,e,this.u)}hostConnected(){for(const e of this.t)this.observe(e)}hostDisconnected(){this.disconnect()}async hostUpdated(){!this.o&&this.i&&this.handleChanges([]),this.i=!1}observe(e){this.t.add(e),this.u.observe(e,this.l),this.i=!0,this.h.requestUpdate()}unobserve(e){this.t.delete(e),this.u.unobserve(e)}disconnect(){this.u.disconnect()}}r()}catch(e){r(e)}}))},93386:(e,t,a)=>{a.d(t,{z:()=>p});var r=a(76513),s=a(18791),i=(a(75291),a(40924)),n=a(52162);class o extends n.v{constructor(){super(...arguments),this.elevated=!1,this.href="",this.target=""}get primaryId(){return this.href?"link":"button"}get rippleDisabled(){return!this.href&&this.disabled}getContainerClasses(){return{...super.getContainerClasses(),disabled:!this.href&&this.disabled,elevated:this.elevated,link:!!this.href}}renderPrimaryAction(e){const{ariaLabel:t}=this;return this.href?i.qy` <a class="primary action" id="link" aria-label="${t||i.s6}" href="${this.href}" target="${this.target||i.s6}">${e}</a> `:i.qy` <button class="primary action" id="button" aria-label="${t||i.s6}" ?disabled="${this.disabled&&!this.alwaysFocusable}" type="button">${e}</button> `}renderOutline(){return this.elevated?i.qy`<md-elevation part="elevation"></md-elevation>`:super.renderOutline()}}(0,r.__decorate)([(0,s.MZ)({type:Boolean})],o.prototype,"elevated",void 0),(0,r.__decorate)([(0,s.MZ)()],o.prototype,"href",void 0),(0,r.__decorate)([(0,s.MZ)()],o.prototype,"target",void 0);const c=i.AH`:host{--_container-height:var(--md-assist-chip-container-height, 32px);--_disabled-label-text-color:var(--md-assist-chip-disabled-label-text-color, var(--md-sys-color-on-surface, #1d1b20));--_disabled-label-text-opacity:var(--md-assist-chip-disabled-label-text-opacity, 0.38);--_elevated-container-color:var(--md-assist-chip-elevated-container-color, var(--md-sys-color-surface-container-low, #f7f2fa));--_elevated-container-elevation:var(--md-assist-chip-elevated-container-elevation, 1);--_elevated-container-shadow-color:var(--md-assist-chip-elevated-container-shadow-color, var(--md-sys-color-shadow, #000));--_elevated-disabled-container-color:var(--md-assist-chip-elevated-disabled-container-color, var(--md-sys-color-on-surface, #1d1b20));--_elevated-disabled-container-elevation:var(--md-assist-chip-elevated-disabled-container-elevation, 0);--_elevated-disabled-container-opacity:var(--md-assist-chip-elevated-disabled-container-opacity, 0.12);--_elevated-focus-container-elevation:var(--md-assist-chip-elevated-focus-container-elevation, 1);--_elevated-hover-container-elevation:var(--md-assist-chip-elevated-hover-container-elevation, 2);--_elevated-pressed-container-elevation:var(--md-assist-chip-elevated-pressed-container-elevation, 1);--_focus-label-text-color:var(--md-assist-chip-focus-label-text-color, var(--md-sys-color-on-surface, #1d1b20));--_hover-label-text-color:var(--md-assist-chip-hover-label-text-color, var(--md-sys-color-on-surface, #1d1b20));--_hover-state-layer-color:var(--md-assist-chip-hover-state-layer-color, var(--md-sys-color-on-surface, #1d1b20));--_hover-state-layer-opacity:var(--md-assist-chip-hover-state-layer-opacity, 0.08);--_label-text-color:var(--md-assist-chip-label-text-color, var(--md-sys-color-on-surface, #1d1b20));--_label-text-font:var(--md-assist-chip-label-text-font, var(--md-sys-typescale-label-large-font, var(--md-ref-typeface-plain, Roboto)));--_label-text-line-height:var(--md-assist-chip-label-text-line-height, var(--md-sys-typescale-label-large-line-height, 1.25rem));--_label-text-size:var(--md-assist-chip-label-text-size, var(--md-sys-typescale-label-large-size, 0.875rem));--_label-text-weight:var(--md-assist-chip-label-text-weight, var(--md-sys-typescale-label-large-weight, var(--md-ref-typeface-weight-medium, 500)));--_pressed-label-text-color:var(--md-assist-chip-pressed-label-text-color, var(--md-sys-color-on-surface, #1d1b20));--_pressed-state-layer-color:var(--md-assist-chip-pressed-state-layer-color, var(--md-sys-color-on-surface, #1d1b20));--_pressed-state-layer-opacity:var(--md-assist-chip-pressed-state-layer-opacity, 0.12);--_disabled-outline-color:var(--md-assist-chip-disabled-outline-color, var(--md-sys-color-on-surface, #1d1b20));--_disabled-outline-opacity:var(--md-assist-chip-disabled-outline-opacity, 0.12);--_focus-outline-color:var(--md-assist-chip-focus-outline-color, var(--md-sys-color-on-surface, #1d1b20));--_outline-color:var(--md-assist-chip-outline-color, var(--md-sys-color-outline, #79747e));--_outline-width:var(--md-assist-chip-outline-width, 1px);--_disabled-leading-icon-color:var(--md-assist-chip-disabled-leading-icon-color, var(--md-sys-color-on-surface, #1d1b20));--_disabled-leading-icon-opacity:var(--md-assist-chip-disabled-leading-icon-opacity, 0.38);--_focus-leading-icon-color:var(--md-assist-chip-focus-leading-icon-color, var(--md-sys-color-primary, #6750a4));--_hover-leading-icon-color:var(--md-assist-chip-hover-leading-icon-color, var(--md-sys-color-primary, #6750a4));--_leading-icon-color:var(--md-assist-chip-leading-icon-color, var(--md-sys-color-primary, #6750a4));--_icon-size:var(--md-assist-chip-icon-size, 18px);--_pressed-leading-icon-color:var(--md-assist-chip-pressed-leading-icon-color, var(--md-sys-color-primary, #6750a4));--_container-shape-start-start:var(--md-assist-chip-container-shape-start-start, var(--md-assist-chip-container-shape, var(--md-sys-shape-corner-small, 8px)));--_container-shape-start-end:var(--md-assist-chip-container-shape-start-end, var(--md-assist-chip-container-shape, var(--md-sys-shape-corner-small, 8px)));--_container-shape-end-end:var(--md-assist-chip-container-shape-end-end, var(--md-assist-chip-container-shape, var(--md-sys-shape-corner-small, 8px)));--_container-shape-end-start:var(--md-assist-chip-container-shape-end-start, var(--md-assist-chip-container-shape, var(--md-sys-shape-corner-small, 8px)));--_leading-space:var(--md-assist-chip-leading-space, 16px);--_trailing-space:var(--md-assist-chip-trailing-space, 16px);--_icon-label-space:var(--md-assist-chip-icon-label-space, 8px);--_with-leading-icon-leading-space:var(--md-assist-chip-with-leading-icon-leading-space, 8px)}@media(forced-colors:active){.link .outline{border-color:ActiveText}}`;var l=a(80101),d=a(25348);let p=class extends o{};p.styles=[d.R,l.R,c],p=(0,r.__decorate)([(0,s.EM)("md-assist-chip")],p)},84292:(e,t,a)=>{a.d(t,{LV:()=>u});const r=Symbol("Comlink.proxy"),s=Symbol("Comlink.endpoint"),i=Symbol("Comlink.releaseProxy"),n=Symbol("Comlink.finalizer"),o=Symbol("Comlink.thrown"),c=e=>"object"==typeof e&&null!==e||"function"==typeof e,l=new Map([["proxy",{canHandle:e=>c(e)&&e[r],serialize(e){const{port1:t,port2:a}=new MessageChannel;return d(e,t),[a,[a]]},deserialize:e=>(e.start(),u(e))}],["throw",{canHandle:e=>c(e)&&o in e,serialize({value:e}){let t;return t=e instanceof Error?{isError:!0,value:{message:e.message,name:e.name,stack:e.stack}}:{isError:!1,value:e},[t,[]]},deserialize(e){if(e.isError)throw Object.assign(new Error(e.value.message),e.value);throw e.value}}]]);function d(e,t=globalThis,a=["*"]){t.addEventListener("message",(function s(i){if(!i||!i.data)return;if(!function(e,t){for(const a of e){if(t===a||"*"===a)return!0;if(a instanceof RegExp&&a.test(t))return!0}return!1}(a,i.origin))return void console.warn(`Invalid origin '${i.origin}' for comlink proxy`);const{id:c,type:l,path:u}=Object.assign({path:[]},i.data),_=(i.data.argumentList||[]).map(w);let v;try{const t=u.slice(0,-1).reduce(((e,t)=>e[t]),e),a=u.reduce(((e,t)=>e[t]),e);switch(l){case"GET":v=a;break;case"SET":t[u.slice(-1)[0]]=w(i.data.value),v=!0;break;case"APPLY":v=a.apply(t,_);break;case"CONSTRUCT":v=function(e){return Object.assign(e,{[r]:!0})}(new a(..._));break;case"ENDPOINT":{const{port1:t,port2:a}=new MessageChannel;d(e,a),v=function(e,t){return b.set(e,t),e}(t,[t])}break;case"RELEASE":v=void 0;break;default:return}}catch(e){v={value:e,[o]:0}}Promise.resolve(v).catch((e=>({value:e,[o]:0}))).then((a=>{const[r,i]=f(a);t.postMessage(Object.assign(Object.assign({},r),{id:c}),i),"RELEASE"===l&&(t.removeEventListener("message",s),p(t),n in e&&"function"==typeof e[n]&&e[n]())})).catch((e=>{const[a,r]=f({value:new TypeError("Unserializable return value"),[o]:0});t.postMessage(Object.assign(Object.assign({},a),{id:c}),r)}))})),t.start&&t.start()}function p(e){(function(e){return"MessagePort"===e.constructor.name})(e)&&e.close()}function u(e,t){return m(e,[],t)}function _(e){if(e)throw new Error("Proxy has been released and is not useable")}function v(e){return S(e,{type:"RELEASE"}).then((()=>{p(e)}))}const h=new WeakMap,y="FinalizationRegistry"in globalThis&&new FinalizationRegistry((e=>{const t=(h.get(e)||0)-1;h.set(e,t),0===t&&v(e)}));function m(e,t=[],a=function(){}){let r=!1;const n=new Proxy(a,{get(a,s){if(_(r),s===i)return()=>{!function(e){y&&y.unregister(e)}(n),v(e),r=!0};if("then"===s){if(0===t.length)return{then:()=>n};const a=S(e,{type:"GET",path:t.map((e=>e.toString()))}).then(w);return a.then.bind(a)}return m(e,[...t,s])},set(a,s,i){_(r);const[n,o]=f(i);return S(e,{type:"SET",path:[...t,s].map((e=>e.toString())),value:n},o).then(w)},apply(a,i,n){_(r);const o=t[t.length-1];if(o===s)return S(e,{type:"ENDPOINT"}).then(w);if("bind"===o)return m(e,t.slice(0,-1));const[c,l]=g(n);return S(e,{type:"APPLY",path:t.map((e=>e.toString())),argumentList:c},l).then(w)},construct(a,s){_(r);const[i,n]=g(s);return S(e,{type:"CONSTRUCT",path:t.map((e=>e.toString())),argumentList:i},n).then(w)}});return function(e,t){const a=(h.get(t)||0)+1;h.set(t,a),y&&y.register(e,t,e)}(n,e),n}function g(e){const t=e.map(f);return[t.map((e=>e[0])),(a=t.map((e=>e[1])),Array.prototype.concat.apply([],a))];var a}const b=new WeakMap;function f(e){for(const[t,a]of l)if(a.canHandle(e)){const[r,s]=a.serialize(e);return[{type:"HANDLER",name:t,value:r},s]}return[{type:"RAW",value:e},b.get(e)||[]]}function w(e){switch(e.type){case"HANDLER":return l.get(e.name).deserialize(e.value);case"RAW":return e.value}}function S(e,t,a){return new Promise((r=>{const s=new Array(4).fill(0).map((()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16))).join("-");e.addEventListener("message",(function t(a){a.data&&a.data.id&&a.data.id===s&&(e.removeEventListener("message",t),r(a.data))})),e.start&&e.start(),e.postMessage(Object.assign({id:s},t),a)}))}}};
//# sourceMappingURL=2817.4JYItkTgWsQ.js.map