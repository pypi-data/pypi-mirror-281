[build-system]
requires = ["poetry>=0.12"]
build-backend = "poetry.masonry.api"

[tool.poetry]
name = "lc-wifi"
version = "2024.06.26"
description = "Low Code WiFi Processing"
authors = ["Gunther Klessinger <gk@axiros.com>"]
license = "Commercial"
readme = "README.md"
repository = "https://gitlab.axiros.com/devapps/lc-wifi.git"
homepage = "http://devapps.pages.axiros.com/lc-wifi.git"
keywords = []
include = []
exclude = ["**/docs/**/*"]

[[tool.poetry.packages]]
from = "src"
include = "wifi"

[[tool.poetry.source]]
name = "ax"
priority = "primary"
url = "https://artifacts.axiros.com/artifactory/api/pypi/pypi-ax-sources/simple/"

[tool.isort]
line_length = 90
not_skip = "__init__.py"
multi_line_output = 3
force_single_line = false
balanced_wrapping = true
default_section = "THIRDPARTY"
known_first_party = "lcdoc"
include_trailing_comma = true

[tool.flakehell]
format = "colored"
max_line_length = 132
show_source = false
exclude = ["tests/fixtures"]

[project.urls]

[tool.poetry.dependencies]
lc-python = "^2024.06.26"
rich = "*"
python = "^3.8"
elasticsearch = ">=8.0.0,<9.0.0"
elasticsearch-dsl = ">=8.0.0,<9.0.0"
#elasticsearch-dsl = ">=7.4.0,<8.0.0"
confluent-kafka = "^1.9.2"
netaddr = "*"
clickhouse-connect = "^0.6.22"


[tool.poetry.dev-dependencies]
docutools = "*"

[tool.poetry.scripts]
mdrun = "lcdoc.lprunner:main"

[tool.flakehell.plugins]
"*" = [
  "+*",
  "-RST*",
  "-A001",
  "-D105",
  "-D212",
  "-E203",
  "-F821",
  "-Q000",
  "-S101",
  "-W503",
  "-C0103",
  "-C0116",
  "-C0301",
  "-R0902",
  "-R0903",
  "-R0904",
  "-R0912",
  "-R0913",
  "-R0914",
  "-R0915",
  "-W0212",
  "-W0611",
  "-W1203",
  "-WPS305",
  "-WPS110",
  "-WPS125",
  "-WPS201",
  "-WPS202",
  "-WPS210",
  "-WPS211",
  "-WPS213",
  "-WPS214",
  "-WPS220",
  "-WPS223",
  "-WPS226",
  "-WPS230",
  "-WPS306",
  "-WPS317",
  "-WPS322",
  "-WPS326",
  "-WPS336",
  "-WPS402",
  "-WPS412",
  "-WPS428",
  "-WPS433",
  "-WPS529",
]

[tool.poetry.plugins."mkdocs.plugins"]
lcd-find-pages = "lcdoc.mkdocs.find_pages:MDFindPagesPlugin"
lcd-custom-dir = "lcdoc.mkdocs.custom_dir:CustomDirPlugin"
lcd-blacklist = "lcdoc.mkdocs.blacklist:BlacklistPlugin"
lcd-lp = "lcdoc.mkdocs.lp:LPPlugin"
lcd-md-replace = "lcdoc.mkdocs.replace:MDReplacePlugin"
lcd-page-tree = "lcdoc.mkdocs.page_tree:PageTreePlugin"
lcd-stats = "lcdoc.mkdocs.stats:StatsPlugin"

[tool.pyright]
# https://github.com/microsoft/pyright/blob/main/docs/configuration.md
# ruff is enough
reportMissingImports = false
reportMissingTypeStubs = false
reportUndefinedVariable = false
reportGeneralTypeIssues = false
reportUnusedExpression = false
reportSelfClsParameterName = false
typeCheckingMode = "off"

[tool.ruff]
# https://docs.astral.sh/ruff/rules/
line-length = 90
extend-select = ["Q"]
select = ["E", "F", "B"] # Enable flake8-bugbear (`B`) rules.
ignore = [
  "E501", # Never enforce `E501` (line length violations).
  "E741", # short var names
  "B006", # mutables in signature
]

[tool.ruff.lint]
fixable = ["ALL"]
unfixable = [
  "B",    # Avoid trying to fix flake8-bugbear (`B`) violations.
  "F401", # Unused Import
  "F841", # variable assigned but not used
]


[tool.ruff.flake8-quotes]
docstring-quotes = "double"
inline-quotes = "single"

[tool.ruff.format]
# Prefer single quotes over double quotes
quote-style = "single"
