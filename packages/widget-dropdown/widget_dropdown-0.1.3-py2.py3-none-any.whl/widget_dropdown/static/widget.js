function l({model:t,el:i}){let n=document.createElement("select");function s(a,o){a.forEach(d=>{if(d.group){let e=document.createElement("optgroup");e.label=d.group,s(d.options,e),o.appendChild(e)}else{let e=document.createElement("option");e.value=d.value,e.textContent=d.text,e.disabled=d.disabled,o.appendChild(e)}})}function c(a){n.innerHTML="",s(a,n),n.selectedIndex=0}c(t.get("options")),t.on("change:options",()=>{c(t.get("options"))}),n.addEventListener("change",function(a){t.set("selected_value",a.target.value),t.save_changes()}),t.on("change:selected_value",()=>{n.value=t.get("selected_value");let a=new Event("change");n.dispatchEvent(a)}),i.classList.add("widget_dropdown"),i.appendChild(n)}var g={render:l};export{g as default};
